/**!
 * IMPORTANT NOTE:
 *    This file is licensed only for use in providing the iCloud
 *    service or any part thereof, and is subject to the iCloud
 *    Terms and Conditions. You may not port this file to another
 *    platform without Apple's written consent.
 *
 *    Portions of this Apple Software may utilize copyrighted material under open source licenses.
 *    Please see the file at https://www.icloud.com/system/icloud.com/2426Hotfix51/fr-fr/acknowledgements.txt for licensing information.
 */
!function(e){const t="object"==typeof globalThis&&globalThis||"object"==typeof window&&window||"object"==typeof self&&self;try{const{performance:o,Promise:n,MessageChannel:s,requestAnimationFrame:r}=t;if(!(o&&o.mark&&n&&s&&r))return;const a=t=>o.mark("chunk-"+e+"-"+t);let c=!1,f=!1,i=n.resolve();a("exec-start");for(let e=0;e<5;e++)i=i.then();i.then(()=>{a("exec-sync-end")});if("undefined"!=typeof window){let e=()=>{c&&!f&&(a("after-paint"),f=!0)},t=new s;t.port1.onmessage=e,t.port2.postMessage(null),setTimeout(e),r(()=>{c=!0,a("raf"),t.port2.postMessage(null),setTimeout(e)})}}catch(e){t.__jsPerformanceMarksError=e}}("3.main");(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[3],Array(1427).concat([function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"icloud.fill",svgPath:"M105.225 3.22266C119.971 3.22266 131.494-7.56836 131.494-20.9961C131.494-31.25 125.586-40.1367 116.064-44.1406C116.162-65.918 100.488-81.6406 80.5176-81.6406C67.2852-81.6406 57.8613-74.5605 52.002-66.0156C39.9902-69.5312 26.9043-60.4004 26.6602-46.7285C15.625-44.9707 8.74023-35.1074 8.74023-23.1934C8.74023-8.83789 21.2891 3.22266 37.9883 3.22266Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:63.89510009765627,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 122.758056640625 92.8212890625",width:122.758056640625,height:92.8212890625,translateX:-8.735942382812482,translateY:81.640625,baseline:81.640625,capline:11.1806640625}}})}},,,function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"doc.circle.fill",svgPath:"M58.5449 14.5508C85.791 14.5508 108.35-8.05664 108.35-35.2539C108.35-62.5 85.7422-85.0586 58.4961-85.0586C31.2988-85.0586 8.74023-62.5 8.74023-35.2539C8.74023-8.05664 31.3477 14.5508 58.5449 14.5508ZM45.4102-8.1543C39.7949-8.1543 37.0117-10.9375 37.0117-16.6504L37.0117-55.1758C37.0117-60.791 39.8438-63.6719 45.4102-63.6719L54.9805-63.6719L54.9805-43.4082C54.9805-39.8926 56.5918-38.2812 60.0586-38.2812L80.0781-38.2812L80.0781-16.6504C80.0781-11.0352 77.2461-8.1543 71.6309-8.1543ZM60.4492-42.3828C59.5215-42.3828 59.0332-42.8711 59.0332-43.8477L59.0332-63.3789C60.1562-63.2324 61.2793-62.4512 62.5488-61.1328L77.4902-45.9473C78.7598-44.6289 79.541-43.5059 79.7363-42.3828Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.46503906249995,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 99.6099853515625 99.6572265625",width:99.6099853515625,height:99.6572265625,translateX:-8.740039062500045,translateY:85.05859375,baseline:85.05859375,capline:14.5986328125}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"bookmark.circle.fill",svgPath:"M58.5449 14.5996C85.791 14.5996 108.35-7.95898 108.35-35.2051C108.35-62.4023 85.7422-85.0098 58.4961-85.0098C31.2988-85.0098 8.74023-62.4023 8.74023-35.2051C8.74023-7.95898 31.3477 14.5996 58.5449 14.5996ZM43.6523-8.49609C41.9922-8.49609 40.918-9.7168 40.918-11.7188L40.918-54.1504C40.918-59.0332 43.457-61.6211 48.3398-61.6211L68.75-61.6211C73.6328-61.6211 76.1719-59.0332 76.1719-54.1504L76.1719-11.7188C76.1719-9.7168 75.0977-8.49609 73.4375-8.49609C72.1191-8.49609 71.3867-9.27734 69.0918-11.5234L58.7891-21.6309C58.6426-21.7773 58.4473-21.7773 58.3008-21.6309L48.0469-11.5234C45.7031-9.27734 44.9707-8.49609 43.6523-8.49609Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.46503906249995,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 99.6099853515625 99.6591796875",width:99.6099853515625,height:99.6591796875,translateX:-8.740039062500045,translateY:85.0595703125,baseline:85.0595703125,capline:14.599609375}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"person.crop.circle.fill",svgPath:"M58.5449 14.5508C85.791 14.5508 108.35-8.05664 108.35-35.2539C108.35-62.5 85.7422-85.0586 58.4961-85.0586C31.2988-85.0586 8.74023-62.5 8.74023-35.2539C8.74023-8.05664 31.3477 14.5508 58.5449 14.5508ZM58.4961-26.9043C49.1211-27.002 41.748-34.8145 41.748-45.3125C41.6992-55.1758 49.1699-63.3789 58.4961-63.3789C67.8711-63.3789 75.2441-55.1758 75.2441-45.3125C75.2441-34.8145 67.9199-26.8066 58.4961-26.9043ZM58.4961 7.12891C47.3145 7.12891 35.9863 2.53906 28.5156-5.41992C33.7891-13.7207 45.2637-18.6035 58.4961-18.6035C71.6309-18.6035 83.2031-13.8184 88.5254-5.41992C81.0059 2.53906 69.7266 7.12891 58.4961 7.12891Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.46503906249995,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 99.6099853515625 99.6572265625",width:99.6099853515625,height:99.6572265625,translateX:-8.740039062500045,translateY:85.05859375,baseline:85.05859375,capline:14.5986328125}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"calendar.circle.fill",svgPath:"M58.5449 14.5996C85.791 14.5996 108.35-7.95898 108.35-35.2051C108.35-62.4023 85.7422-85.0098 58.4961-85.0098C31.2988-85.0098 8.74023-62.4023 8.74023-35.2051C8.74023-7.95898 31.3477 14.5996 58.5449 14.5996ZM40.1367-10.3027C34.4727-10.3027 31.6406-13.0859 31.6406-18.7012L31.6406-51.709C31.6406-57.2754 34.4727-60.1074 40.1367-60.1074L76.9531-60.1074C82.6172-60.1074 85.4492-57.2754 85.4492-51.709L85.4492-18.7012C85.4492-13.0859 82.6172-10.3027 76.9531-10.3027ZM39.7461-14.9414L77.2949-14.9414C79.6387-14.9414 80.8105-16.0645 80.8105-18.457L80.8105-43.9453C80.8105-46.4355 79.4434-47.7051 77.0996-47.7051L39.9902-47.7051C37.5977-47.7051 36.2793-46.4355 36.2793-43.9453L36.2793-18.457C36.2793-16.0645 37.5-14.9414 39.7461-14.9414ZM53.125-37.5977C51.9531-37.5977 51.6113-37.9395 51.6113-39.0137L51.6113-40.9668C51.6113-42.0898 51.9531-42.4805 53.125-42.4805L54.9805-42.4805C56.1523-42.4805 56.543-42.0898 56.543-40.9668L56.543-39.0137C56.543-37.9395 56.1523-37.5977 54.9805-37.5977ZM62.1094-37.5977C60.9375-37.5977 60.5957-37.9395 60.5957-39.0137L60.5957-40.9668C60.5957-42.0898 60.9375-42.4805 62.1094-42.4805L63.9648-42.4805C65.1367-42.4805 65.4785-42.0898 65.4785-40.9668L65.4785-39.0137C65.4785-37.9395 65.1367-37.5977 63.9648-37.5977ZM71.0938-37.5977C69.873-37.5977 69.5312-37.9395 69.5312-39.0137L69.5312-40.9668C69.5312-42.0898 69.873-42.4805 71.0938-42.4805L72.9004-42.4805C74.0723-42.4805 74.4629-42.0898 74.4629-40.9668L74.4629-39.0137C74.4629-37.9395 74.0723-37.5977 72.9004-37.5977ZM44.1895-28.8086C43.0176-28.8086 42.627-29.1016 42.627-30.2246L42.627-32.1289C42.627-33.3008 43.0176-33.6426 44.1895-33.6426L46.0449-33.6426C47.2168-33.6426 47.5586-33.3008 47.5586-32.1289L47.5586-30.2246C47.5586-29.1016 47.2168-28.8086 46.0449-28.8086ZM53.125-28.8086C51.9531-28.8086 51.6113-29.1016 51.6113-30.2246L51.6113-32.1289C51.6113-33.3008 51.9531-33.6426 53.125-33.6426L54.9805-33.6426C56.1523-33.6426 56.543-33.3008 56.543-32.1289L56.543-30.2246C56.543-29.1016 56.1523-28.8086 54.9805-28.8086ZM62.1094-28.8086C60.9375-28.8086 60.5957-29.1016 60.5957-30.2246L60.5957-32.1289C60.5957-33.3008 60.9375-33.6426 62.1094-33.6426L63.9648-33.6426C65.1367-33.6426 65.4785-33.3008 65.4785-32.1289L65.4785-30.2246C65.4785-29.1016 65.1367-28.8086 63.9648-28.8086ZM71.0938-28.8086C69.873-28.8086 69.5312-29.1016 69.5312-30.2246L69.5312-32.1289C69.5312-33.3008 69.873-33.6426 71.0938-33.6426L72.9004-33.6426C74.0723-33.6426 74.4629-33.3008 74.4629-32.1289L74.4629-30.2246C74.4629-29.1016 74.0723-28.8086 72.9004-28.8086ZM44.1895-19.9707C43.0176-19.9707 42.627-20.3125 42.627-21.4844L42.627-23.3887C42.627-24.5117 43.0176-24.8047 44.1895-24.8047L46.0449-24.8047C47.2168-24.8047 47.5586-24.5117 47.5586-23.3887L47.5586-21.4844C47.5586-20.3125 47.2168-19.9707 46.0449-19.9707ZM53.125-19.9707C51.9531-19.9707 51.6113-20.3125 51.6113-21.4844L51.6113-23.3887C51.6113-24.5117 51.9531-24.8047 53.125-24.8047L54.9805-24.8047C56.1523-24.8047 56.543-24.5117 56.543-23.3887L56.543-21.4844C56.543-20.3125 56.1523-19.9707 54.9805-19.9707ZM62.1094-19.9707C60.9375-19.9707 60.5957-20.3125 60.5957-21.4844L60.5957-23.3887C60.5957-24.5117 60.9375-24.8047 62.1094-24.8047L63.9648-24.8047C65.1367-24.8047 65.4785-24.5117 65.4785-23.3887L65.4785-21.4844C65.4785-20.3125 65.1367-19.9707 63.9648-19.9707Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.46503906249995,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 99.6099853515625 99.6591796875",width:99.6099853515625,height:99.6591796875,translateX:-8.740039062500045,translateY:85.0595703125,baseline:85.0595703125,capline:14.599609375}}})}},,,function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"laptopcomputer.and.arrow.down",svgPath:"M79.3945-86.084L79.3945-47.2656L79.834-36.9629L70.3125-47.6562L67.4805-50.4395C66.7969-51.0742 65.918-51.4648 64.8926-51.4648C62.8906-51.4648 61.5234-50.0488 61.5234-48.1445C61.5234-47.1191 61.9141-46.2402 62.5977-45.5566L80.2246-27.832C81.1035-27.002 82.0312-26.5625 82.8613-26.5625C83.6914-26.5625 84.668-27.002 85.498-27.832L103.125-45.5566C103.809-46.2402 104.199-47.1191 104.199-48.1445C104.199-50.0488 102.832-51.4648 100.83-51.4648C99.8047-51.4648 98.9258-51.0742 98.2422-50.4395L95.4102-47.6562L85.8887-36.9629L86.377-47.2656L86.377-86.084C86.377-88.2812 84.668-89.5996 82.8613-89.5996C81.0547-89.5996 79.3945-88.2812 79.3945-86.084ZM17.9688 4.54102L147.754 4.54102C150.781 4.54102 153.271 2.05078 153.271-1.02539C153.271-4.10156 150.781-6.5918 147.754-6.5918L137.061-6.5918L137.061-64.5508C137.061-71.3867 133.398-74.9023 126.611-74.9023L93.0176-74.9023L93.0176-67.041L124.512-67.041C127.637-67.041 129.199-65.4785 129.199-62.3535L129.199-6.5918L36.5234-6.5918L36.5234-62.3535C36.5234-65.4785 38.0859-67.041 41.2109-67.041L72.7051-67.041L72.7051-74.9023L39.1113-74.9023C32.666-74.9023 28.6621-71.3867 28.6621-64.5508L28.6621-6.5918L17.9688-6.5918C14.9414-6.5918 12.4512-4.10156 12.4512-1.02539C12.4512 2.05078 14.9414 4.54102 17.9688 4.54102Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:51.14510009765627,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 140.82763671875 108.7392578125",width:140.82763671875,height:108.7392578125,translateX:-12.451152343749982,translateY:89.599609375,baseline:89.599609375,capline:19.1396484375}}})}},,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"icloud.and.arrow.down",svgPath:"M85.8398-14.1602L85.8398-4.58984L108.74-4.58984C124.023-4.58984 133.35-13.6719 133.35-25.9766C133.35-36.3281 127.441-44.6289 117.773-48.4863C117.822-70.5566 101.953-86.4746 81.4941-86.4746C68.457-86.4746 58.7891-79.7363 52.6367-70.8984C41.0645-73.7793 27.2461-64.9902 26.8066-51.2207C15.625-49.3164 8.74023-40.0391 8.74023-28.2715C8.74023-15.1855 18.7012-4.58984 34.9121-4.58984L56.1523-4.58984L56.1523-14.1602L34.9121-14.1602C24.2188-14.1602 18.4082-20.5566 18.4082-28.4668C18.4082-37.6465 24.4141-44.043 34.4238-44.043C35.1074-44.043 35.4492-44.4336 35.4004-45.1172C35.1074-59.7168 45.5566-64.3555 56.0059-61.2793C56.6406-61.1328 57.0312-61.2305 57.3242-61.8164C62.0117-70.3125 69.2871-76.9043 81.4453-76.9043C96.875-76.9043 107.812-64.6973 108.545-50.4395C108.691-47.8516 108.545-45.0195 108.301-42.6758C108.252-41.9922 108.496-41.6504 109.131-41.5039C118.066-39.7949 123.682-34.5703 123.682-26.416C123.682-19.2383 118.652-14.1602 108.545-14.1602ZM70.9961 25.1953C72.168 25.1953 73.2422 24.7559 74.4141 23.6816L90.8203 8.30078C91.6504 7.51953 92.0898 6.5918 92.0898 5.41992C92.0898 3.125 90.2832 1.51367 88.0371 1.51367C86.9629 1.51367 85.8398 2.00195 85.0586 2.83203L78.1738 9.7168L75.0488 13.3301L75.5371 6.05469L75.5371-35.791C75.5371-38.1836 73.4863-40.2344 70.9961-40.2344C68.5059-40.2344 66.5039-38.1836 66.5039-35.791L66.5039 6.05469L66.9434 13.3301L63.8184 9.7168L56.9824 2.83203C56.1523 2.00195 55.0293 1.51367 53.9062 1.51367C51.6602 1.51367 49.9023 3.125 49.9023 5.41992C49.9023 6.5918 50.3418 7.51953 51.1719 8.30078L67.5781 23.6816C68.7988 24.7559 69.8242 25.1953 70.9961 25.1953Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:63.89507080078124,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 126.469970703125 120.8505859375",width:126.469970703125,height:120.8505859375,translateX:-6.880014648437509,translateY:95.6552734375,baseline:95.6552734375,capline:25.1953125}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"arrow.left",svgPath:"M12.4512-35.3027C12.4512-33.8379 13.0859-32.4219 14.209-31.3477L46.3867 0.830078C47.5586 1.95312 48.877 2.49023 50.1953 2.49023C53.2715 2.49023 55.4688 0.292969 55.4688-2.63672C55.4688-4.15039 54.8828-5.46875 53.9062-6.39648L42.9688-17.4805L28.5156-30.6641L39.9414-29.9805L99.3164-29.9805C102.49-29.9805 104.736-32.1777 104.736-35.3027C104.736-38.4766 102.49-40.625 99.3164-40.625L39.9414-40.625L28.5645-39.9414L42.9688-53.125L53.9062-64.209C54.8828-65.1855 55.4688-66.5039 55.4688-68.0176C55.4688-70.9473 53.2715-73.0957 50.1953-73.0957C48.877-73.0957 47.5586-72.6074 46.2891-71.3867L14.209-39.2578C13.0859-38.2324 12.4512-36.7676 12.4512-35.3027Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:76.22513671875004,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 93.9019775390625 75.7314453125",width:93.9019775390625,height:75.7314453125,translateX:-10.833945312499964,translateY:73.095703125,baseline:73.095703125,capline:2.6357421875}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"arrow.right",svgPath:"M104.736-35.3027C104.736-36.7676 104.102-38.2324 102.979-39.2578L70.8496-71.3867C69.6289-72.6074 68.3105-73.0957 66.9434-73.0957C63.916-73.0957 61.7188-70.9473 61.7188-68.0176C61.7188-66.5039 62.3047-65.1855 63.2812-64.209L74.2188-53.125L88.5742-39.9414L77.2461-40.625L17.8711-40.625C14.6484-40.625 12.4512-38.4766 12.4512-35.3027C12.4512-32.1777 14.6484-29.9805 17.8711-29.9805L77.2461-29.9805L88.623-30.6641L74.2188-17.4805L63.2812-6.39648C62.3047-5.46875 61.7188-4.15039 61.7188-2.63672C61.7188 0.292969 63.916 2.49023 66.9434 2.49023C68.3105 2.49023 69.5801 1.95312 70.752 0.830078L102.979-31.3477C104.102-32.4219 104.736-33.8379 104.736-35.3027Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:76.22513671875004,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 93.9019775390625 75.7314453125",width:93.9019775390625,height:75.7314453125,translateX:-10.833945312499964,translateY:73.095703125,baseline:73.095703125,capline:2.6357421875}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"eye",svgPath:"M77.0508 7.08008C117.09 7.08008 144.092-25.1953 144.092-35.2051C144.092-45.2148 117.041-77.4414 77.0508-77.4414C37.5977-77.4414 9.96094-45.2148 9.96094-35.2051C9.96094-25.1953 37.5488 7.08008 77.0508 7.08008ZM77.0508-2.29492C45.8496-2.29492 21.0449-28.3691 21.0449-35.2051C21.0449-40.918 45.8496-68.0664 77.0508-68.0664C108.203-68.0664 133.057-40.918 133.057-35.2051C133.057-28.3691 108.203-2.29492 77.0508-2.29492ZM77.0508-8.88672C91.6992-8.88672 103.418-20.8496 103.418-35.2051C103.418-49.9023 91.6992-61.4746 77.0508-61.4746C62.3535-61.4746 50.5859-49.9023 50.6348-35.2051C50.7324-20.8496 62.3535-8.88672 77.0508-8.88672ZM77.0508-26.709C72.3145-26.709 68.457-30.5176 68.457-35.2051C68.457-39.8926 72.3145-43.7012 77.0508-43.7012C81.7871-43.7012 85.5957-39.8926 85.5957-35.2051C85.5957-30.5176 81.7871-26.709 77.0508-26.709Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:57.32504394531247,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 134.8140869140625 84.6201171875",width:134.8140869140625,height:84.6201171875,translateX:-9.277983398437527,translateY:77.5400390625,baseline:77.5400390625,capline:7.080078125}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"trash",svgPath:"M32.373 14.7949L77.1484 14.7949C84.1309 14.7949 88.8184 10.2539 89.1602 3.27148L92.5293-67.7246L98.3887-67.7246C100.391-67.7246 102.002-69.4336 102.002-71.4355C102.002-73.4375 100.391-75.0977 98.3887-75.0977L76.0742-75.0977L76.0742-82.5684C76.0742-89.6484 71.4844-93.9453 63.9648-93.9453L45.4102-93.9453C37.8906-93.9453 33.3008-89.6484 33.3008-82.5684L33.3008-75.0977L11.1328-75.0977C9.17969-75.0977 7.4707-73.4375 7.4707-71.4355C7.4707-69.3848 9.17969-67.7246 11.1328-67.7246L16.9922-67.7246L20.3613 3.32031C20.7031 10.3027 25.293 14.7949 32.373 14.7949ZM41.0645-82.0801C41.0645-84.8633 43.0176-86.6699 45.9473-86.6699L63.4277-86.6699C66.3574-86.6699 68.3105-84.8633 68.3105-82.0801L68.3105-75.0977L41.0645-75.0977ZM33.0566 7.42188C30.2734 7.42188 28.1738 5.32227 28.0273 2.44141L24.6094-67.7246L84.668-67.7246L81.4453 2.44141C81.3477 5.37109 79.248 7.42188 76.3672 7.42188ZM40.2832-0.927734C42.1387-0.927734 43.3594-2.09961 43.3105-3.80859L41.7969-56.0547C41.748-57.7637 40.5273-58.8867 38.7695-58.8867C36.9141-58.8867 35.6934-57.7148 35.7422-56.0059L37.207-3.80859C37.2559-2.05078 38.4766-0.927734 40.2832-0.927734ZM54.7363-0.927734C56.5918-0.927734 57.9102-2.09961 57.9102-3.80859L57.9102-56.0059C57.9102-57.7148 56.5918-58.8867 54.7363-58.8867C52.8809-58.8867 51.6113-57.7148 51.6113-56.0059L51.6113-3.80859C51.6113-2.09961 52.8809-0.927734 54.7363-0.927734ZM69.2383-0.927734C70.9961-0.927734 72.2168-2.05078 72.2656-3.80859L73.7305-56.0059C73.7793-57.7148 72.5586-58.8867 70.7031-58.8867C68.9453-58.8867 67.7246-57.7637 67.6758-56.0059L66.2109-3.80859C66.1621-2.09961 67.3828-0.927734 69.2383-0.927734Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:79.27510009765615,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 94.533935546875 117.4306640625",width:94.533935546875,height:117.4306640625,translateX:-7.4680029296876,translateY:93.9453125,baseline:93.9453125,capline:23.4853515625}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"person.fill",svgPath:"M53.7109-35.6934C64.4043-35.6934 73.3887-45.166 73.3887-57.4219C73.3887-69.3848 64.3066-78.5156 53.7109-78.5156C43.1152-78.5156 33.9844-69.2383 34.0332-57.3242C34.0332-45.166 43.0664-35.6934 53.7109-35.6934ZM21.1914 9.7168L86.1816 9.7168C91.6504 9.7168 94.9707 7.12891 94.9707 2.83203C94.9707-9.76562 79.0039-27.0508 53.7109-27.0508C28.3691-27.0508 12.4512-9.76562 12.4512 2.83203C12.4512 7.12891 15.7227 9.7168 21.1914 9.7168Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:80.47012695312492,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 82.8614501953125 89.8935546875",width:82.8614501953125,height:89.8935546875,translateX:-12.109218750000082,translateY:80.1767578125,baseline:80.1767578125,capline:9.716796875}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"externaldrive.badge.icloud",svgPath:"M59.0332 6.49414L104.541 6.49414C118.115 6.49414 127.734-3.125 127.734-15.5273C127.734-19.1895 126.66-22.4609 125.439-25.5371L108.936-65.0391C105.713-72.8516 99.0723-76.8555 90.332-76.8555L49.8535-76.8555C41.1133-76.8555 34.5215-72.8516 31.2988-65.0391L20.4102-39.0625C23.1934-39.8438 26.7578-39.9414 29.5898-39.4531L38.8672-63.0371C40.7227-67.6758 44.7266-70.0195 50.293-70.0195L89.9414-70.0195C95.5078-70.0195 99.5117-67.6758 101.367-63.0371L111.963-36.2793C109.717-37.1094 107.227-37.5488 104.541-37.5488L35.8398-37.5488C39.8926-35.9375 43.2617-33.252 45.6543-29.6875L104.541-29.6875C113.77-29.6875 119.873-23.584 119.873-15.5273C119.873-6.49414 113.77-1.36719 104.541-1.36719L59.7168-1.36719C60.2539 1.12305 59.9609 4.19922 59.0332 6.49414ZM2.44141 11.3281L37.8906 11.3281C45.7031 11.3281 51.709 5.56641 51.709-1.51367C51.709-6.88477 48.584-11.6211 43.6035-13.6719C43.6523-25.1953 35.4004-33.4961 24.8535-33.4961C17.9199-33.4961 12.9395-29.7363 9.81445-25.2441C3.4668-27.1484-3.4668-22.2168-3.56445-14.9902C-9.375-14.1113-12.9395-8.93555-12.9395-2.63672C-12.9395 4.93164-6.34766 11.3281 2.44141 11.3281ZM98.3887-15.5273C98.3887-12.1094 101.172-9.42383 104.541-9.47266C107.764-9.47266 110.596-12.1582 110.596-15.5273C110.596-18.7988 107.764-21.582 104.541-21.582C101.172-21.582 98.3887-18.7988 98.3887-15.5273Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:63.89510009765627,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 166.10888671875 93.1162109375",width:166.10888671875,height:93.1162109375,translateX:12.939472656250018,translateY:81.7880859375,baseline:81.7880859375,capline:11.328125}}})}},,,,function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"plus",svgPath:"M12.4512-35.2539C12.4512-31.1523 15.7715-27.832 19.873-27.832L46.9727-27.832L46.9727-0.732422C46.9727 3.32031 50.2441 6.68945 54.3457 6.68945C58.4473 6.68945 61.7676 3.32031 61.7676-0.732422L61.7676-27.832L88.8672-27.832C92.9199-27.832 96.2402-31.1523 96.2402-35.2539C96.2402-39.3066 92.9199-42.627 88.8672-42.627L61.7676-42.627L61.7676-69.7266C61.7676-73.7793 58.4473-77.1484 54.3457-77.1484C50.2441-77.1484 46.9727-73.7793 46.9727-69.7266L46.9727-42.627L19.873-42.627C15.7715-42.627 12.4512-39.3066 12.4512-35.2539Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:81.27520263671886,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 87.010498046875 83.8388671875",width:87.010498046875,height:83.8388671875,translateX:-9.22961914062489,translateY:77.1494140625,baseline:77.1494140625,capline:6.689453125}}})}},,function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"circle",svgPath:"M60.3027 16.3574C88.623 16.3574 111.865-6.93359 111.865-35.2539C111.865-63.5254 88.5742-86.8164 60.3027-86.8164C31.9824-86.8164 8.74023-63.5254 8.74023-35.2539C8.74023-6.93359 32.0312 16.3574 60.3027 16.3574ZM60.3027 3.51562C38.8672 3.51562 21.6309-13.7695 21.6309-35.2539C21.6309-56.6895 38.8184-73.9746 60.3027-73.9746C81.7383-73.9746 99.0234-56.6895 99.0234-35.2539C99.0723-13.7695 81.7871 3.51562 60.3027 3.51562Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.46515624999984,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 106.6400146484375 103.1748046875",width:106.6400146484375,height:103.1748046875,translateX:-5.224907226562664,translateY:86.8173828125,baseline:86.8173828125,capline:16.357421875}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"plus",svgPath:"M12.4512-35.2539C12.4512-31.7871 15.332-28.9551 18.75-28.9551L47.4609-28.9551L47.4609-0.244141C47.4609 3.22266 50.293 6.05469 53.7598 6.05469C57.2266 6.05469 60.0586 3.22266 60.0586-0.244141L60.0586-28.9551L88.7695-28.9551C92.2363-28.9551 95.0684-31.7871 95.0684-35.2539C95.0684-38.7207 92.2363-41.5527 88.7695-41.5527L60.0586-41.5527L60.0586-70.2637C60.0586-73.6816 57.2266-76.5625 53.7598-76.5625C50.293-76.5625 47.4609-73.6816 47.4609-70.2637L47.4609-41.5527L18.75-41.5527C15.332-41.5527 12.4512-38.7207 12.4512-35.2539Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:81.27507568359374,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 84.666748046875 82.6650390625",width:84.666748046875,height:82.6650390625,translateX:-10.401621093750009,translateY:76.5625,baseline:76.5625,capline:6.1025390625}}})}},,,function(e,t,n){},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var r=n(478),i=n(1467),o=n(1468),a=n(688),s=n(694);let l=Symbol.iterator;class u{*[l](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);return t?t.prevKey:null}getKeyAfter(e){let t=this.keyMap.get(e);return t?t.nextKey:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}constructor(e,{expandedKeys:t}={}){(0,s.a)(this,"keyMap",new Map),this.iterable=e,t=t||new Set;let n,r=e=>{if(this.keyMap.set(e.key,e),e.childNodes&&("section"===e.type||t.has(e.key)))for(let t of e.childNodes)r(t)};for(let o of e)r(o);let i=0;for(let[o,a]of this.keyMap)n?(n.nextKey=o,a.prevKey=n.key):(this.firstKey=o,a.prevKey=void 0),"item"===a.type&&(a.index=i++),n=a,n.nextKey=void 0;this.lastKey=null===n||void 0===n?void 0:n.key}}function c(e){let[t,n]=(0,a.b)(e.expandedKeys?new Set(e.expandedKeys):void 0,e.defaultExpandedKeys?new Set(e.defaultExpandedKeys):new Set,e.onExpandedChange),s=(0,i.b)(e),l=(0,r.useMemo)(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),c=(0,o.i)(e,e=>new u(e,{expandedKeys:t}),null,[t]);return(0,r.useEffect)(()=>{null==s.focusedKey||c.getItem(s.focusedKey)||s.setFocusedKey(null)},[c,s.focusedKey]),{collection:c,expandedKeys:t,disabledKeys:l,toggleKey:e=>{n(function(e,t){let n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n}(t,e))},selectionManager:new(0,i.a)(c,s)}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var r=n(478),i=n(688),o=n(1468);class a extends Set{constructor(e,t,n){super(e),e instanceof a?(this.anchorKey=t||e.anchorKey,this.currentKey=n||e.currentKey):(this.anchorKey=t,this.currentKey=n)}}function s(e){let{selectionMode:t="none",disallowEmptySelection:n,allowDuplicateSelectionEvents:o,selectionBehavior:s="toggle",disabledBehavior:u="all"}=e,c=(0,r.useRef)(!1),[,d]=(0,r.useState)(!1),h=(0,r.useRef)(null),f=(0,r.useRef)(null),[,p]=(0,r.useState)(null),g=(0,r.useMemo)(()=>l(e.selectedKeys),[e.selectedKeys]),y=(0,r.useMemo)(()=>l(e.defaultSelectedKeys,new a),[e.defaultSelectedKeys]),[v,m]=(0,i.b)(g,y,e.onSelectionChange),b=(0,r.useMemo)(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),[_,C]=(0,r.useState)(s);"replace"===s&&"toggle"===_&&"object"===typeof v&&0===v.size&&C("replace");let I=(0,r.useRef)(s);return(0,r.useEffect)(()=>{s!==I.current&&(C(s),I.current=s)},[s]),{selectionMode:t,disallowEmptySelection:n,selectionBehavior:_,setSelectionBehavior:C,get isFocused(){return c.current},setFocused(e){c.current=e,d(e)},get focusedKey(){return h.current},get childFocusStrategy(){return f.current},setFocusedKey(e,t="first"){h.current=e,f.current=t,p(e)},selectedKeys:v,setSelectedKeys(e){!o&&function(e,t){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}(e,v)||m(e)},disabledKeys:b,disabledBehavior:u}}function l(e,t){return e?"all"===e?"all":new a(e):t}class u{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}get isFocused(){return this.state.isFocused}setFocused(e){this.state.setFocused(e)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(e,t){(null==e||this.collection.getItem(e))&&this.state.setFocusedKey(e,t)}get selectedKeys(){return"all"===this.state.selectedKeys?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(e){return"none"!==this.state.selectionMode&&(e=this.getKey(e),"all"===this.state.selectedKeys?this.canSelectItem(e):this.state.selectedKeys.has(e))}get isEmpty(){return"all"!==this.state.selectedKeys&&0===this.state.selectedKeys.size}get isSelectAll(){if(this.isEmpty)return!1;if("all"===this.state.selectedKeys)return!0;if(null!=this._isSelectAll)return this._isSelectAll;let e=this.getSelectAllKeys(),t=this.state.selectedKeys;return this._isSelectAll=e.every(e=>t.has(e)),this._isSelectAll}get firstSelectedKey(){let e=null;for(let t of this.state.selectedKeys){let n=this.collection.getItem(t);(!e||n&&(0,o.c)(this.collection,n,e)<0)&&(e=n)}return null===e||void 0===e?void 0:e.key}get lastSelectedKey(){let e=null;for(let t of this.state.selectedKeys){let n=this.collection.getItem(t);(!e||n&&(0,o.c)(this.collection,n,e)>0)&&(e=n)}return null===e||void 0===e?void 0:e.key}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(e){if("none"===this.selectionMode)return;if("single"===this.selectionMode)return void this.replaceSelection(e);let t;if(e=this.getKey(e),"all"===this.state.selectedKeys)t=new a([e],e,e);else{let n=this.state.selectedKeys,r=n.anchorKey||e;t=new a(n,r,e);for(let i of this.getKeyRange(r,n.currentKey||e))t.delete(i);for(let i of this.getKeyRange(e,r))this.canSelectItem(i)&&t.add(i)}this.state.setSelectedKeys(t)}getKeyRange(e,t){let n=this.collection.getItem(e),r=this.collection.getItem(t);return n&&r?(0,o.c)(this.collection,n,r)<=0?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){let n=[],r=e;for(;r;){let e=this.collection.getItem(r);if((e&&"item"===e.type||"cell"===e.type&&this.allowsCellSelection)&&n.push(r),r===t)return n;r=this.collection.getKeyAfter(r)}return[]}getKey(e){let t=this.collection.getItem(e);if(!t)return e;if("cell"===t.type&&this.allowsCellSelection)return e;for(;"item"!==t.type&&null!=t.parentKey;)t=this.collection.getItem(t.parentKey);return t&&"item"===t.type?t.key:null}toggleSelection(e){if("none"===this.selectionMode)return;if("single"===this.selectionMode&&!this.isSelected(e))return void this.replaceSelection(e);if(null==(e=this.getKey(e)))return;let t=new a("all"===this.state.selectedKeys?this.getSelectAllKeys():this.state.selectedKeys);t.has(e)?t.delete(e):this.canSelectItem(e)&&(t.add(e),t.anchorKey=e,t.currentKey=e),this.disallowEmptySelection&&0===t.size||this.state.setSelectedKeys(t)}replaceSelection(e){if("none"===this.selectionMode)return;if(null==(e=this.getKey(e)))return;let t=this.canSelectItem(e)?new a([e],e,e):new a;this.state.setSelectedKeys(t)}setSelectedKeys(e){if("none"===this.selectionMode)return;let t=new a;for(let n of e)if(n=this.getKey(n),null!=n&&(t.add(n),"single"===this.selectionMode))break;this.state.setSelectedKeys(t)}getSelectAllKeys(){let e=[],t=n=>{for(;n;){if(this.canSelectItem(n)){let r=this.collection.getItem(n);"item"===r.type&&e.push(n),r.hasChildNodes&&(this.allowsCellSelection||"item"!==r.type)&&t((0,o.e)((0,o.d)(r,this.collection)).key)}n=this.collection.getKeyAfter(n)}};return t(this.collection.getFirstKey()),e}selectAll(){"multiple"===this.selectionMode&&this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&("all"===this.state.selectedKeys||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new a)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(e,t){"none"!==this.selectionMode&&("single"===this.selectionMode?this.isSelected(e)&&!this.disallowEmptySelection?this.toggleSelection(e):this.replaceSelection(e):"toggle"===this.selectionBehavior||t&&("touch"===t.pointerType||"virtual"===t.pointerType)?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys)return!0;let t=this.selectedKeys;if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;for(let n of t)if(!e.has(n))return!1;return!0}canSelectItem(e){if("none"===this.state.selectionMode||this.state.disabledKeys.has(e))return!1;let t=this.collection.getItem(e);return!(!t||"cell"===t.type&&!this.allowsCellSelection)}isDisabled(e){return this.state.disabledKeys.has(e)&&"all"===this.state.disabledBehavior}constructor(e,t,n){var r;this.collection=e,this.state=t,this.allowsCellSelection=null!==(r=null===n||void 0===n?void 0:n.allowsCellSelection)&&void 0!==r&&r,this._isSelectAll=null}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"i",(function(){return g})),n.d(t,"f",(function(){return T})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return v})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return m})),n.d(t,"c",(function(){return _}));var r=n(478),i=n.n(r),o=n(694);function a(e){return null}function s(e){return null!=e.hasChildItems?e.hasChildItems:!!e.childItems||!!(e.title&&i.a.Children.count(e.children)>0)}a.getCollectionNode=function*(e,t){let{childItems:n,title:r,children:o}=e,a=e.title||e.children,l=e.textValue||("string"===typeof a?a:"")||e["aria-label"]||"";l||(null===t||void 0===t?void 0:t.suppressTextValueWarning)||console.warn("<Item> with non-plain text contents is unsupported by type to select for accessibility. Please add a `textValue` prop."),yield{type:"item",props:e,rendered:a,textValue:l,"aria-label":e["aria-label"],hasChildNodes:s(e),*childNodes(){if(n)for(let e of n)yield{type:"item",value:e};else if(r){let e=[];i.a.Children.forEach(o,t=>{e.push({type:"item",element:t})}),yield*e}}}};let l=a;function u(e){return null}u.getCollectionNode=function*(e){let{children:t,title:n,items:r}=e;yield{type:"section",props:e,hasChildNodes:!0,rendered:n,"aria-label":e["aria-label"],*childNodes(){if("function"===typeof t){if(!r)throw new Error("props.children was a function but props.items is missing");for(let e of r)yield{type:"item",value:e,renderer:t}}else{let e=[];i.a.Children.forEach(t,t=>{e.push({type:"item",element:t})}),yield*e}}}};let c=u;class d{build(e,t){return this.context=t,h(()=>this.iterateCollection(e))}*iterateCollection(e){let{children:t,items:n}=e;if("function"===typeof t){if(!n)throw new Error("props.children was a function but props.items is missing");for(let n of e.items)yield*this.getFullNode({value:n},{renderer:t})}else{let e=[];i.a.Children.forEach(t,t=>{e.push(t)});let n=0;for(let t of e){let e=this.getFullNode({element:t,index:n},{});for(let t of e)n++,yield t}}}getKey(e,t,n,r){if(null!=e.key)return e.key;if("cell"===t.type&&null!=t.key)return`${r}${t.key}`;let i=t.value;if(null!=i){var o;let e=null!==(o=i.key)&&void 0!==o?o:i.id;if(null==e)throw new Error("No key found for item");return e}return r?`${r}.${t.index}`:"$."+t.index}getChildState(e,t){return{renderer:t.renderer||e.renderer}}*getFullNode(e,t,n,r){let o=e.element;if(!o&&e.value&&t&&t.renderer){let n=this.cache.get(e.value);if(n&&(!n.shouldInvalidate||!n.shouldInvalidate(this.context)))return n.index=e.index,n.parentKey=r?r.key:null,void(yield n);o=t.renderer(e.value)}if(i.a.isValidElement(o)){let i=o.type;if("function"!==typeof i&&"function"!==typeof i.getCollectionNode){let e="function"===typeof o.type?o.type.name:o.type;throw new Error(`Unknown element <${e}> in collection.`)}let a=i.getCollectionNode(o.props,this.context),s=e.index,l=a.next();for(;!l.done&&l.value;){let i=l.value;e.index=s;let u=i.key;u||(u=i.element?null:this.getKey(o,e,t,n));let c=[...this.getFullNode({...i,key:u,index:s,wrapper:f(e.wrapper,i.wrapper)},this.getChildState(t,i),n?`${n}${o.key}`:o.key,r)];for(let t of c){if(t.value=i.value||e.value,t.value&&this.cache.set(t.value,t),e.type&&t.type!==e.type)throw new Error(`Unsupported type <${p(t.type)}> in <${p(r.type)}>. Only <${p(e.type)}> is supported.`);s++,yield t}l=a.next(c)}return}if(null==e.key)return;let a=this,s={type:e.type,props:e.props,key:e.key,parentKey:r?r.key:null,value:e.value,level:r?r.level+1:0,index:e.index,rendered:e.rendered,textValue:e.textValue,"aria-label":e["aria-label"],wrapper:e.wrapper,shouldInvalidate:e.shouldInvalidate,hasChildNodes:e.hasChildNodes,childNodes:h((function*(){if(!e.hasChildNodes)return;let n=0;for(let r of e.childNodes()){null!=r.key&&(r.key=`${s.key}${r.key}`),r.index=n;let e=a.getFullNode(r,a.getChildState(t,r),s.key,s);for(let t of e)n++,yield t}}))};yield s}constructor(){(0,o.a)(this,"cache",new WeakMap)}}function h(e){let t=[],n=null;return{*[Symbol.iterator](){for(let e of t)yield e;n||(n=e());for(let e of n)t.push(e),yield e}}}function f(e,t){return e&&t?n=>e(t(n)):e||t||void 0}function p(e){return e[0].toUpperCase()+e.slice(1)}function g(e,t,n,i=[]){let o=(0,r.useMemo)(()=>new d,[]),a=(0,r.useRef)(null);return(0,r.useMemo)(()=>{if(e.collection)return e.collection;let r=o.build(e,n);return a.current=t(r,a.current),a.current},[o,e.children,e.items,e.collection,n,...i])}function y(e,t){return"function"===typeof t.getChildren?t.getChildren(e.key):e.childNodes}function v(e){return m(e,0)}function m(e,t){if(t<0)return;let n=0;for(let r of e){if(n===t)return r;n++}}function b(e){let t=void 0;for(let n of e)t=n;return t}function _(e,t,n){if(t.parentKey===n.parentKey)return t.index-n.index;let r=C(e,t),i=C(e,n),o=r.slice(0,i.length).findIndex((e,t)=>e!==i[t]);return-1!==o?(t=r[o],n=i[o],t.index-n.index):-1}function C(e,t){let n=[];for(;null!=(null===t||void 0===t?void 0:t.parentKey);)t=e.getItem(t.parentKey),n.unshift(t);return n}const I=new WeakMap;function T(e){let t=I.get(e);if(null!=t)return t;t=0;let n=r=>{for(let i of r)"section"===i.type?n(y(i,e)):t++};return n(e),I.set(e,t),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return g}));var r=n(478),i=n(693),o=n(690),a=n(689),s=n(1856);function l(e){return(0,o.e)()?e.altKey:e.ctrlKey}function u(e){return(0,o.g)()?e.metaKey:e.ctrlKey}function c(e){let{selectionManager:t,keyboardDelegate:n,ref:c,autoFocus:d=!1,shouldFocusWrap:h=!1,disallowEmptySelection:f=!1,disallowSelectAll:p=!1,selectOnFocus:g="replace"===t.selectionBehavior,disallowTypeAhead:y=!1,shouldUseVirtualFocus:v,allowsTabNavigation:m=!1,isVirtualized:b,scrollRef:_=c}=e,{direction:C}=(0,s.b)(),I=(0,r.useRef)({top:0,left:0});(0,o.o)(_,"scroll",b?null:()=>{I.current={top:_.current.scrollTop,left:_.current.scrollLeft}});const T=(0,r.useRef)(d);(0,r.useEffect)(()=>{if(T.current){let e=null;"first"===d&&(e=n.getFirstKey()),"last"===d&&(e=n.getLastKey());let r=t.selectedKeys;r.size&&(e=r.values().next().value),t.setFocused(!0),t.setFocusedKey(e),null!=e||v||(0,i.b)(c.current)}T.current=!1},[]),(0,r.useEffect)(()=>{let e=(0,a.a)();if(!b&&t.isFocused&&null!=t.focusedKey&&(null===_||void 0===_?void 0:_.current)){let n=_.current.querySelector(`[data-key="${t.focusedKey}"]`);n&&((0,o.l)(_.current,n),"keyboard"===e&&(0,o.m)(n,{containingElement:c.current}))}},[b,_,t.focusedKey,t.isFocused,c]);let P,O={onKeyDown:e=>{if(e.altKey&&"Tab"===e.key&&e.preventDefault(),!c.current.contains(e.target))return;const r=(n,r)=>{null!=n&&(t.setFocusedKey(n,r),e.shiftKey&&"multiple"===t.selectionMode?t.extendSelection(n):g&&!l(e)&&t.replaceSelection(n))};switch(e.key){case"ArrowDown":if(n.getKeyBelow){var a,s;e.preventDefault();let i=null!=t.focusedKey?n.getKeyBelow(t.focusedKey):null===(a=n.getFirstKey)||void 0===a?void 0:a.call(n);null==i&&h&&(i=null===(s=n.getFirstKey)||void 0===s?void 0:s.call(n,t.focusedKey)),r(i)}break;case"ArrowUp":if(n.getKeyAbove){var d,y;e.preventDefault();let i=null!=t.focusedKey?n.getKeyAbove(t.focusedKey):null===(d=n.getLastKey)||void 0===d?void 0:d.call(n);null==i&&h&&(i=null===(y=n.getLastKey)||void 0===y?void 0:y.call(n,t.focusedKey)),r(i)}break;case"ArrowLeft":n.getKeyLeftOf&&(e.preventDefault(),r(n.getKeyLeftOf(t.focusedKey),"rtl"===C?"first":"last"));break;case"ArrowRight":n.getKeyRightOf&&(e.preventDefault(),r(n.getKeyRightOf(t.focusedKey),"rtl"===C?"last":"first"));break;case"Home":if(n.getFirstKey){e.preventDefault();let r=n.getFirstKey(t.focusedKey,u(e));t.setFocusedKey(r),u(e)&&e.shiftKey&&"multiple"===t.selectionMode?t.extendSelection(r):g&&t.replaceSelection(r)}break;case"End":if(n.getLastKey){e.preventDefault();let r=n.getLastKey(t.focusedKey,u(e));t.setFocusedKey(r),u(e)&&e.shiftKey&&"multiple"===t.selectionMode?t.extendSelection(r):g&&t.replaceSelection(r)}break;case"PageDown":n.getKeyPageBelow&&(e.preventDefault(),r(n.getKeyPageBelow(t.focusedKey)));break;case"PageUp":n.getKeyPageAbove&&(e.preventDefault(),r(n.getKeyPageAbove(t.focusedKey)));break;case"a":u(e)&&"multiple"===t.selectionMode&&!0!==p&&(e.preventDefault(),t.selectAll());break;case"Escape":e.preventDefault(),f||t.clearSelection();break;case"Tab":if(!m){if(e.shiftKey)c.current.focus();else{let e,t,n=(0,i.c)(c.current,{tabbable:!0});do{t=n.lastChild(),t&&(e=t)}while(t);e&&!e.contains(document.activeElement)&&(0,o.c)(e)}break}}},onFocus:e=>{if(t.isFocused)e.currentTarget.contains(e.target)||t.setFocused(!1);else if(e.currentTarget.contains(e.target)){if(t.setFocused(!0),null==t.focusedKey){let o=e=>{null!=e&&(t.setFocusedKey(e),g&&t.replaceSelection(e))},a=e.relatedTarget;var r,i;a&&e.currentTarget.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_FOLLOWING?o(null!==(r=t.lastSelectedKey)&&void 0!==r?r:n.getLastKey()):o(null!==(i=t.firstSelectedKey)&&void 0!==i?i:n.getFirstKey())}else b||(_.current.scrollTop=I.current.top,_.current.scrollLeft=I.current.left);if(!b&&null!=t.focusedKey){let e=_.current.querySelector(`[data-key="${t.focusedKey}"]`);e&&((0,o.c)(e),(0,o.l)(_.current,e))}}},onBlur:e=>{e.currentTarget.contains(e.relatedTarget)||t.setFocused(!1)},onMouseDown(e){_.current===e.target&&e.preventDefault()}},{typeSelectProps:S}=function(e){let{keyboardDelegate:t,selectionManager:n,onTypeSelect:i}=e,o=(0,r.useRef)({search:"",timeout:null}).current;return{typeSelectProps:{onKeyDownCapture:t.getKeyForSearch?e=>{let r=function(e){return 1!==e.length&&/^[A-Z]/i.test(e)?"":e}(e.key);if(!r||e.ctrlKey||e.metaKey)return;" "===r&&o.search.trim().length>0&&(e.preventDefault(),"continuePropagation"in e||e.stopPropagation()),o.search+=r;let a=t.getKeyForSearch(o.search,n.focusedKey);null==a&&(a=t.getKeyForSearch(o.search)),null!=a&&(n.setFocusedKey(a),i&&i(a)),clearTimeout(o.timeout),o.timeout=setTimeout(()=>{o.search=""},1e3)}:null}}}({keyboardDelegate:n,selectionManager:t});return y||(O=(0,o.j)(S,O)),v||(P=null==t.focusedKey?0:-1),{collectionProps:{...O,tabIndex:P}}}function d(e){let{selectionManager:t,key:n,ref:s,shouldSelectOnPressUp:c,isVirtualized:d,shouldUseVirtualFocus:p,focus:g,isDisabled:y,onAction:v,allowsDifferentPressOrigin:m}=e,b=e=>{if("keyboard"===e.pointerType&&l(e))t.toggleSelection(n);else{if("none"===t.selectionMode)return;"single"===t.selectionMode?t.isSelected(n)&&!t.disallowEmptySelection?t.toggleSelection(n):t.replaceSelection(n):e&&e.shiftKey?t.extendSelection(n):"toggle"===t.selectionBehavior||e&&(u(e)||"touch"===e.pointerType||"virtual"===e.pointerType)?t.toggleSelection(n):t.replaceSelection(n)}};(0,r.useEffect)(()=>{n===t.focusedKey&&t.isFocused&&!p&&(g?g():document.activeElement!==s.current&&(0,i.b)(s.current))},[s,n,t.focusedKey,t.childFocusStrategy,t.isFocused,p]),y=y||t.isDisabled(n);let _={};p||y?y&&(_.onMouseDown=e=>{e.preventDefault()}):_={tabIndex:n===t.focusedKey?0:-1,onFocus(e){e.target===s.current&&t.setFocusedKey(n)}};let C=!y&&t.canSelectItem(n),I=v&&!y,T=I&&("replace"===t.selectionBehavior?!C:t.isEmpty),P=I&&C&&"replace"===t.selectionBehavior,O=T||P,S=(0,r.useRef)(null),w=O&&C,x=(0,r.useRef)(!1),E=(0,r.useRef)(!1),N={};c?(N.onPressStart=e=>{S.current=e.pointerType,x.current=w,"keyboard"!==e.pointerType||O&&!f()||b(e)},m?(N.onPressUp=e=>{"keyboard"!==e.pointerType&&b(e)},N.onPress=T?()=>v():null):N.onPress=e=>{if(T||P&&"mouse"!==e.pointerType){if("keyboard"===e.pointerType&&!h())return;v()}else"keyboard"!==e.pointerType&&b(e)}):(N.onPressStart=e=>{S.current=e.pointerType,x.current=w,E.current=T,("mouse"===e.pointerType&&!T||"keyboard"===e.pointerType&&(!v||f()))&&b(e)},N.onPress=e=>{("touch"===e.pointerType||"pen"===e.pointerType||"virtual"===e.pointerType||"keyboard"===e.pointerType&&O&&h()||"mouse"===e.pointerType&&E.current)&&(O?v():b(e))}),d||(_["data-key"]=n),N.preventFocusOnPress=p;let{pressProps:A,isPressed:D}=(0,a.l)(N),R=P?e=>{"mouse"===S.current&&(e.stopPropagation(),e.preventDefault(),v())}:void 0,{longPressProps:U}=(0,a.k)({isDisabled:!w,onLongPress(e){"touch"===e.pointerType&&(b(e),t.setSelectionBehavior("toggle"))}});return{itemProps:(0,o.j)(_,C||T?A:{},w?U:{},{onDoubleClick:R,onDragStartCapture:e=>{"touch"===S.current&&x.current&&e.preventDefault()}}),isPressed:D,isSelected:t.isSelected(n),isFocused:t.isFocused&&t.focusedKey===n,isDisabled:y,allowsSelection:C,hasAction:O}}function h(){let e=window.event;return"Enter"===(null===e||void 0===e?void 0:e.key)}function f(){let e=window.event;return" "===(null===e||void 0===e?void 0:e.key)||"Space"===(null===e||void 0===e?void 0:e.code)}class p{getKeyBelow(e){for(e=this.collection.getKeyAfter(e);null!=e;){if("item"===this.collection.getItem(e).type&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyAfter(e)}return null}getKeyAbove(e){for(e=this.collection.getKeyBefore(e);null!=e;){if("item"===this.collection.getItem(e).type&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyBefore(e)}return null}getFirstKey(){let e=this.collection.getFirstKey();for(;null!=e;){if("item"===this.collection.getItem(e).type&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyAfter(e)}return null}getLastKey(){let e=this.collection.getLastKey();for(;null!=e;){if("item"===this.collection.getItem(e).type&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyBefore(e)}return null}getItem(e){return this.ref.current.querySelector(`[data-key="${e}"]`)}getKeyPageAbove(e){let t=this.ref.current,n=this.getItem(e);if(!n)return null;let r=Math.max(0,n.offsetTop+n.offsetHeight-t.offsetHeight);for(;n&&n.offsetTop>r;)n=null==(e=this.getKeyAbove(e))?null:this.getItem(e);return e}getKeyPageBelow(e){let t=this.ref.current,n=this.getItem(e);if(!n)return null;let r=Math.min(t.scrollHeight,n.offsetTop-n.offsetHeight+t.offsetHeight);for(;n&&n.offsetTop<r;)n=null==(e=this.getKeyBelow(e))?null:this.getItem(e);return e}getKeyForSearch(e,t){if(!this.collator)return null;let n=this.collection,r=t||this.getFirstKey();for(;null!=r;){let t=n.getItem(r),i=t.textValue.slice(0,e.length);if(t.textValue&&0===this.collator.compare(i,e))return r;r=this.getKeyBelow(r)}return null}constructor(e,t,n,r){this.collection=e,this.disabledKeys=t,this.ref=n,this.collator=r}}function g(e){let{selectionManager:t,collection:n,disabledKeys:i,ref:o,keyboardDelegate:a,autoFocus:l,shouldFocusWrap:u,isVirtualized:d,disallowEmptySelection:h,selectOnFocus:f="replace"===t.selectionBehavior,disallowTypeAhead:g,shouldUseVirtualFocus:y,allowsTabNavigation:v}=e,m=(0,s.a)({usage:"search",sensitivity:"base"}),b=t.disabledBehavior,_=(0,r.useMemo)(()=>a||new p(n,"selection"===b?new Set:i,o,m),[a,n,i,o,m,b]),{collectionProps:C}=c({ref:o,selectionManager:t,keyboardDelegate:_,autoFocus:l,shouldFocusWrap:u,disallowEmptySelection:h,selectOnFocus:f,disallowTypeAhead:g,shouldUseVirtualFocus:y,allowsTabNavigation:v,isVirtualized:d,scrollRef:o});return{listProps:C}}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"chevron.right",svgPath:"M68.5547-35.2539C68.5547-36.9141 67.9199-38.3301 66.6504-39.5996L28.5645-76.8555C27.4902-77.9297 26.1719-78.4668 24.6094-78.4668C21.4355-78.4668 18.8965-76.0254 18.8965-72.8516C18.8965-71.2891 19.5312-69.873 20.6055-68.75L54.9805-35.2539L20.6055-1.75781C19.5801-0.683594 18.8965 0.732422 18.8965 2.29492C18.8965 5.51758 21.4355 7.95898 24.6094 7.95898C26.1719 7.95898 27.4902 7.42188 28.5645 6.34766L66.6504-30.9082C67.9688-32.1777 68.5547-33.5938 68.5547-35.2539Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:97.48974609375,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 64.0687255859375 86.4736328125",width:64.0687255859375,height:86.4736328125,translateX:-4.4859619140625,translateY:78.466796875,baseline:78.466796875,capline:8.0068359375}}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var r,i=n(478),o=n(689);!function(e){e.Keyboard="keyboard",e.Mouse="mouse",e.Unknown=""}(r||(r={}));const a=i.createContext(r.Mouse);function s(e){const t=Object(o.i)(),n=i.useMemo(()=>t?"pointer"===t?r.Mouse:r.Keyboard:r.Unknown,[t]);return i.createElement(a.Provider,{value:n},e.children)}function l(){return i.useContext(a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(e,t)=>null==t?void 0:t.has(String(e.key))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(1468);const i=r.a,o=r.b},,function(e,t,n){},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"clock",svgPath:"M58.5449 14.5508C85.791 14.5508 108.35-8.05664 108.35-35.2539C108.35-62.5 85.7422-85.0586 58.4961-85.0586C31.2988-85.0586 8.74023-62.5 8.74023-35.2539C8.74023-8.05664 31.3477 14.5508 58.5449 14.5508ZM58.5449 6.25C35.498 6.25 17.0898-12.207 17.0898-35.2539C17.0898-58.3008 35.4492-76.7578 58.4961-76.7578C81.543-76.7578 100-58.3008 100.049-35.2539C100.098-12.207 81.5918 6.25 58.5449 6.25ZM33.0078-29.9805L58.4961-29.9805C60.4004-29.9805 61.9141-31.4453 61.9141-33.3984L61.9141-66.3086C61.9141-68.2129 60.4004-69.6777 58.4961-69.6777C56.5918-69.6777 55.127-68.2129 55.127-66.3086L55.127-36.7676L33.0078-36.7676C31.0547-36.7676 29.5898-35.3027 29.5898-33.3984C29.5898-31.4453 31.0547-29.9805 33.0078-29.9805Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.46503906249995,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 99.6099853515625 99.6572265625",width:99.6099853515625,height:99.6572265625,translateX:-8.740039062500045,translateY:85.05859375,baseline:85.05859375,capline:14.5986328125}}})}},,function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"icloud.and.arrow.up.fill",svgPath:"M8.74023-28.1738C8.74023-15.7227 19.2383-5.71289 35.2539-5.71289L66.5527-5.71289L66.5527 15.4785C66.5527 17.5293 68.3594 19.2383 70.459 19.2383C72.5586 19.2383 74.3164 17.5293 74.3164 15.4785L74.3164-5.71289L108.008-5.71289C122.07-5.71289 131.494-14.502 131.494-26.0742C131.494-35.6445 125.586-44.4336 116.064-48.3887C116.162-70.166 100.488-85.8887 80.5176-85.8887C67.2852-85.8887 57.8613-78.8086 52.002-70.2637C40.918-73.2422 26.9043-64.6484 26.6602-50.9277C15.625-49.1699 8.74023-39.4531 8.74023-28.1738ZM66.5527-7.71484L66.5527-32.8613L66.8457-40.1367L64.3555-37.5L56.1523-28.8086C55.4688-28.0273 54.3945-27.6367 53.4668-27.6367C51.416-27.6367 49.9512-29.1016 49.9512-31.0547C49.9512-32.1289 50.3906-32.9102 51.123-33.6426L67.627-49.5605C68.6035-50.5371 69.4336-50.8789 70.459-50.8789C71.4355-50.8789 72.2656-50.5371 73.2422-49.5605L89.7461-33.6426C90.4785-32.9102 90.918-32.1289 90.918-31.0547C90.918-29.1016 89.3555-27.6367 87.3535-27.6367C86.4258-27.6367 85.4004-28.0273 84.7168-28.8086L76.5137-37.5L74.0234-40.1367L74.3164-32.8613L74.3164-7.71484C74.3164-5.56641 72.5586-3.85742 70.459-3.85742C68.3105-3.85742 66.5527-5.56641 66.5527-7.71484Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:63.89510009765627,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 122.758056640625 108.9365234375",width:122.758056640625,height:108.9365234375,translateX:-8.735942382812482,translateY:89.6982421875,baseline:89.6982421875,capline:19.23828125}}})}},,,,,,function(e,t,n){!function(t){"use strict";function n(e){function t(){return Pe<Oe}function n(){return Pe}function i(e){Pe=e}function o(){Pe=0,Oe=Te.length}function a(e,t){return{name:e,tokens:t||"",semantic:t||"",children:[]}}function s(e,t){var n;return null===t?null:((n=a(e)).tokens=t.tokens,n.semantic=t.semantic,n.children.push(t),n)}function l(e,t){return null!==t&&(e.tokens+=t.tokens,e.semantic+=t.semantic),e.children.push(t),e}function u(e){var n;return t()&&e(n=Te[Pe])?(Pe+=1,a("token",n)):null}function c(){return null}function d(e){return function(){return s("literal",u((function(t){return t===e})))}}function h(){var e=arguments;return function(){var t,r,o,s;for(s=n(),r=a("and"),t=0;t<e.length;t+=1){if(null===(o=e[t]()))return i(s),null;l(r,o)}return r}}function f(){var e=arguments;return function(){var t,r,o;for(o=n(),t=0;t<e.length;t+=1){if(null!==(r=e[t]()))return r;i(o)}return null}}function p(e){return function(){var t,r;return r=n(),null!==(t=e())?t:(i(r),a("opt"))}}function g(e){return function(){var t=e();return null!==t&&(t.semantic=""),t}}function y(e){return function(){var t=e();return null!==t&&t.semantic.length>0&&(t.semantic=" "),t}}function v(e,t){return function(){var r,o,s,u,c;for(u=n(),r=a("star"),s=0,c=void 0===t?0:t;null!==(o=e());)s+=1,l(r,o);return s>=c?r:(i(u),null)}}function m(e){return e.charCodeAt(0)>=128}function b(){return s("cr",d("\r")())}function _(){return s("crlf",h(b,T)())}function C(){return s("dquote",d('"')())}function I(){return s("htab",d("\t")())}function T(){return s("lf",d("\n")())}function P(){return s("sp",d(" ")())}function O(){return s("vchar",u((function(t){var n=t.charCodeAt(0),r=33<=n&&n<=126;return e.rfc6532&&(r=r||m(t)),r})))}function S(){return s("wsp",f(P,I)())}function w(){var e=s("quoted-pair",f(h(d("\\"),f(O,S)),ie)());return null===e?null:(e.semantic=e.semantic[1],e)}function x(){return s("fws",f(ae,h(p(h(v(S),g(_))),v(S,1)))())}function E(){return s("ctext",f((function(){return u((function(t){var n=t.charCodeAt(0),r=33<=n&&n<=39||42<=n&&n<=91||93<=n&&n<=126;return e.rfc6532&&(r=r||m(t)),r}))}),ne)())}function N(){return s("ccontent",f(E,w,A)())}function A(){return s("comment",h(d("("),v(h(p(x),N)),p(x),d(")"))())}function D(){return s("cfws",f(h(v(h(p(x),A),1),p(x)),x)())}function R(){return s("atext",u((function(t){var n="a"<=t&&t<="z"||"A"<=t&&t<="Z"||"0"<=t&&t<="9"||["!","#","$","%","&","'","*","+","-","/","=","?","^","_","`","{","|","}","~"].indexOf(t)>=0;return e.rfc6532&&(n=n||m(t)),n})))}function U(){return s("atom",h(y(p(D)),v(R,1),y(p(D)))())}function k(){var e,t;return null===(e=s("dot-atom-text",v(R,1)()))||null!==(t=v(h(d("."),v(R,1)))())&&l(e,t),e}function j(){return s("dot-atom",h(g(p(D)),k,g(p(D)))())}function M(){return s("qtext",f((function(){return u((function(t){var n=t.charCodeAt(0),r=33===n||35<=n&&n<=91||93<=n&&n<=126;return e.rfc6532&&(r=r||m(t)),r}))}),re)())}function L(){return s("qcontent",f(M,w)())}function B(){return s("quoted-string",h(g(p(D)),g(C),v(h(p(y(x)),L)),p(g(x)),g(C),g(p(D)))())}function F(){return s("word",f(U,B)())}function K(){return s("address",f(W,q)())}function W(){return s("mailbox",f(V,ee)())}function V(){return s("name-addr",h(p(Y),z)())}function z(){return s("angle-addr",f(h(g(p(D)),d("<"),ee,d(">"),g(p(D))),se)())}function q(){return s("group",h(Y,d(":"),p(X),d(";"),g(p(D)))())}function Y(){return s("display-name",function(){var e=s("phrase",f(oe,v(F,1))());return null!==e&&(e.semantic=e.semantic.replace(/([ \t]|\r\n)+/g," ").replace(/^\s*/,"").replace(/\s*$/,"")),e}())}function Z(){return s("mailbox-list",f(h(W,v(h(d(","),W))),ce)())}function H(){return s("address-list",f(h(K,v(h(d(e.addressListSeparator),K))),de)())}function X(){return s("group-list",f(Z,g(D),he)())}function G(){return s("local-part",f(fe,j,B)())}function $(){return s("dtext",f((function(){return u((function(t){var n=t.charCodeAt(0),r=33<=n&&n<=90||94<=n&&n<=126;return e.rfc6532&&(r=r||m(t)),r}))}),ge)())}function J(){return s("domain-literal",h(g(p(D)),d("["),v(h(p(x),$)),p(x),d("]"),g(p(D)))())}function Q(){return s("domain",function(){var t=f(pe,j,J)();return e.rejectTLD&&t&&t.semantic&&t.semantic.indexOf(".")<0?null:(t&&(t.semantic=t.semantic.replace(/\s+/g,"")),t)}())}function ee(){return s("addr-spec",h(G,d("@"),Q)())}function te(){return e.strict?null:s("obs-NO-WS-CTL",u((function(e){var t=e.charCodeAt(0);return 1<=t&&t<=8||11===t||12===t||14<=t&&t<=31||127===t})))}function ne(){return e.strict?null:s("obs-ctext",te())}function re(){return e.strict?null:s("obs-qtext",te())}function ie(){return e.strict?null:s("obs-qp",h(d("\\"),f(d("\0"),te,T,b))())}function oe(){return e.strict?null:s("obs-phrase",h(F,v(f(F,d("."),e.atInDisplayName?d("@"):c,e.commaInDisplayName?d(","):c,y(D))))())}function ae(){return e.strict?null:s("obs-FWS",v(h(g(p(_)),S),1)())}function se(){return e.strict?null:s("obs-angle-addr",h(g(p(D)),d("<"),le,ee,d(">"),g(p(D)))())}function le(){return e.strict?null:s("obs-route",h(ue,d(":"))())}function ue(){return e.strict?null:s("obs-domain-list",h(v(f(g(D),d(","))),d("@"),Q,v(h(d(","),g(p(D)),p(h(d("@"),Q)))))())}function ce(){return e.strict?null:s("obs-mbox-list",h(v(h(g(p(D)),d(","))),W,v(h(d(","),p(h(W,g(D))))))())}function de(){return e.strict?null:s("obs-addr-list",h(v(h(g(p(D)),d(","))),K,v(h(d(","),p(h(K,g(D))))))())}function he(){return e.strict?null:s("obs-group-list",h(v(h(g(p(D)),d(",")),1),g(p(D)))())}function fe(){return e.strict?null:s("obs-local-part",h(F,v(h(d("."),F)))())}function pe(){return e.strict?null:s("obs-domain",h(U,v(h(d("."),U)))())}function ge(){return e.strict?null:s("obs-dtext",f(te,w)())}function ye(e,t){var n,r,i;if(null===t||void 0===t)return null;for(r=[t];r.length>0;){if((i=r.pop()).name===e)return i;for(n=i.children.length-1;n>=0;n-=1)r.push(i.children[n])}return null}function ve(e,t){var n,r,i,o,a;if(null===t||void 0===t)return null;for(r=[t],o=[],a={},n=0;n<e.length;n+=1)a[e[n]]=!0;for(;r.length>0;)if((i=r.pop()).name in a)o.push(i);else for(n=i.children.length-1;n>=0;n-=1)r.push(i.children[n]);return o}function me(t){var n,r,i,o,a;if(null===t)return null;for(n=[],r=ve(["group","mailbox"],t),i=0;i<r.length;i+=1)"group"===(o=r[i]).name?n.push(be(o)):"mailbox"===o.name&&n.push(_e(o));return a={ast:t,addresses:n},e.simple&&(a=function(e){var t;if(e&&e.addresses)for(t=0;t<e.addresses.length;t+=1)delete e.addresses[t].node;return e}(a)),e.oneResult?function(t){return t?!e.partial&&t.addresses.length>1?null:t.addresses&&t.addresses[0]:null}(a):e.simple?a&&a.addresses:a}function be(e){var t,n=ye("display-name",e),r=[],i=ve(["mailbox"],e);for(t=0;t<i.length;t+=1)r.push(_e(i[t]));return{node:e,parts:{name:n},type:e.name,name:Ce(n),addresses:r}}function _e(e){var t=ye("display-name",e),n=ye("addr-spec",e),r=function(e,t){var n,r,i,o;if(null===t||void 0===t)return null;for(r=[t],o=[];r.length>0;)for("cfws"===(i=r.pop()).name&&o.push(i),n=i.children.length-1;n>=0;n-=1)r.push(i.children[n]);return o}(0,e),i=ve(["comment"],e),o=ye("local-part",n),a=ye("domain",n);return{node:e,parts:{name:t,address:n,local:o,domain:a,comments:r},type:e.name,name:Ce(t),address:Ce(n),local:Ce(o),domain:Ce(a),comments:Ie(i),groupName:Ce(e.groupName)}}function Ce(e){return null!==e&&void 0!==e?e.semantic:null}function Ie(e){var t="";if(e)for(var n=0;n<e.length;n+=1)t+=Ce(e[n]);return t}var Te,Pe,Oe,Se,we;if(null===(e=r(e,{})))return null;if(Te=e.input,we={address:K,"address-list":H,"angle-addr":z,from:function(){return s("from",f(Z,H)())},group:q,mailbox:W,"mailbox-list":Z,"reply-to":function(){return s("reply-to",H())},sender:function(){return s("sender",f(W,K)())}}[e.startAt]||H,!e.strict){if(o(),e.strict=!0,Se=we(Te),e.partial||!t())return me(Se);e.strict=!1}return o(),Se=we(Te),!e.partial&&t()?null:me(Se)}function r(e,t){function n(e){return"[object String]"===Object.prototype.toString.call(e)}function r(e){return null===e||void 0===e}var i,o;if(n(e))e={input:e};else if(!function(e){return e===Object(e)}(e))return null;if(!n(e.input))return null;if(!t)return null;for(o in i={oneResult:!1,partial:!1,rejectTLD:!1,rfc6532:!1,simple:!1,startAt:"address-list",strict:!1,atInDisplayName:!1,commaInDisplayName:!1,addressListSeparator:","})r(e[o])&&(e[o]=r(t[o])?i[o]:t[o]);return e}n.parseOneAddress=function(e){return n(r(e,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"address-list"}))},n.parseAddressList=function(e){return n(r(e,{rfc6532:!0,simple:!0,startAt:"address-list"}))},n.parseFrom=function(e){return n(r(e,{rfc6532:!0,simple:!0,startAt:"from"}))},n.parseSender=function(e){return n(r(e,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"sender"}))},n.parseReplyTo=function(e){return n(r(e,{rfc6532:!0,simple:!0,startAt:"reply-to"}))},"undefined"!==typeof e.exports?e.exports=n:t.emailAddresses=n}(this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imapDecode=t.imapEncode=t.decode=t.encodeAll=t.encode=void 0;var r=n(1486);function i(e){for(var t=new Uint8Array(2*e.length),n=0,i=0,o=e.length;n<o;n++){var a=e.charCodeAt(n);t[i++]=a>>8,t[i++]=255&a}return(0,r.encode)(t).replace(/=+$/,"")}function o(e){for(var t=(0,r.decode)(e,r.OUTPUT_TYPED_ARRAY),n="",i=0,o=t.length;i<o;)n+=String.fromCharCode(t[i++]<<8|t[i++]);return n}function a(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}var s="A-Za-z0-9"+a("'(),-./:?"),l=a("!\"#$%&*;<=>@[]^_'{|}"),u=a(" \r\n\t");t.encode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.replace(new RegExp("[^"+s+a(t)+"]+","g"),(function(e){return"+"+("+"===e?"":i(e))+"-"}))},t.encodeAll=function(e){return e.replace(new RegExp("[^"+u+s+l+"]+","g"),(function(e){return"+"+("+"===e?"":i(e))+"-"}))},t.decode=function(e){return e.replace(/\+([A-Za-z0-9/]*)-?/gi,(function(e,t){return""===t?"+":o(t)}))},t.imapEncode=function(e){return e.replace(/&/g,"&-").replace(/[^\x20-\x7e]+/g,(function(e){return"&"+("&"===e?"":i(e)).replace(/\//g,",")+"-"}))},t.imapDecode=function(e){return e.replace(/&([^-]*)-/g,(function(e,t){return""===t?"&":o(t.replace(/,/g,"/"))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1487);Object.defineProperty(t,"OUTPUT_STRING",{enumerable:!0,get:function(){return r.OUTPUT_STRING}}),Object.defineProperty(t,"OUTPUT_TYPED_ARRAY",{enumerable:!0,get:function(){return r.OUTPUT_TYPED_ARRAY}});var i=n(1488);function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"encode",{enumerable:!0,get:function(){return o(i).default}}),Object.defineProperty(t,"decode",{enumerable:!0,get:function(){return o(r).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.OUTPUT_STRING="OUTPUT_STRING",i=(t.OUTPUT_TYPED_ARRAY="OUTPUT_TYPED_ARRAY",function(e){return String.fromCharCode.apply(null,e)});function o(e){for(var t=0,n=new Uint8Array(Math.ceil(3*e.length/4)),r=0,i=e.length,o=0,a=0;r<i;r++){var s=void 0,l=e.charCodeAt(r);if(l>=65&&l<=90)s=l-65;else if(l>=97&&l<=122)s=l-97+26;else if(l>=48&&l<=57)s=l-48+52;else if(43===l)s=62;else{if(47!==l){if(61===l){o=0;continue}continue}s=63}a=a<<6|s,(o+=6)>=8&&(o-=8,n[t++]=a>>o,2===o?a&=3:4===o&&(a&=15))}return t<n.length?n.subarray(0,t):n}t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;return t===r?i(o(e)):o(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");function i(e,t,n){for(var i,o="",a=t;a<n;a+=3)o+=(i=(e[a]<<16)+(e[a+1]<<8)+e[a+2],r[i>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o}t.default=function(e){return function(e){for(var t=e.length,n=t%3,o="",a=0,s=t-n;a<s;a+=16383)o+=i(e,a,a+16383>s?s:a+16383);if(1===n){var l=e[t-1];o+=r[l>>2],o+=r[l<<4&63],o+="=="}else if(2===n){var u=(e[t-2]<<8)+e[t-1];o+=r[u>>10],o+=r[u>>4&63],o+=r[u<<2&63],o+="="}return o}("string"===typeof e?new Uint8Array(e.split("").map((function(e){return e.charCodeAt(0)}))):e)}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"person",svgPath:"M55.127-34.375C66.748-34.375 76.2207-44.7266 76.2207-57.3242C76.2207-69.8242 66.7969-79.6387 55.127-79.6387C43.5547-79.6387 34.0332-69.6289 34.0332-57.2266C34.082-44.6777 43.5059-34.375 55.127-34.375ZM55.127-41.748C47.998-41.748 41.8945-48.584 41.8945-57.2266C41.8945-65.7227 47.9004-72.2656 55.127-72.2656C62.4023-72.2656 68.3594-65.8203 68.3594-57.3242C68.3594-48.6816 62.3047-41.748 55.127-41.748ZM24.4141 10.791L85.791 10.791C93.8965 10.791 97.7539 8.34961 97.7539 2.97852C97.7539-9.81445 81.5918-28.3203 55.127-28.3203C28.6133-28.3203 12.4512-9.81445 12.4512 2.97852C12.4512 8.34961 16.3086 10.791 24.4141 10.791ZM22.1191 3.41797C20.8496 3.41797 20.3125 3.07617 20.3125 2.05078C20.3125-5.95703 32.7148-20.9473 55.127-20.9473C77.4902-20.9473 89.8926-5.95703 89.8926 2.05078C89.8926 3.07617 89.4043 3.41797 88.1348 3.41797Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:78.90510009765626,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 85.3076171875 92.0419921875",width:85.3076171875,height:92.0419921875,translateX:-12.451162109374991,translateY:81.2509765625,baseline:81.2509765625,capline:10.791015625}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"cart",svgPath:"M49.6582-7.51953L106.641-7.51953C108.545-7.51953 110.205-9.08203 110.205-11.1816C110.205-13.2812 108.545-14.8438 106.641-14.8438L50.4883-14.8438C47.7051-14.8438 45.9961-16.7969 45.5566-19.7754L44.7754-24.9023L106.738-24.9023C113.867-24.9023 117.529-29.2969 118.555-36.2793L122.461-62.1094C122.559-62.7441 122.656-63.5254 122.656-63.9648C122.656-66.3086 120.898-67.9199 118.213-67.9199L38.4766-67.9199L37.5488-74.1211C37.0605-77.8809 35.6934-79.7852 30.7129-79.7852L13.5742-79.7852C11.6211-79.7852 9.96094-78.0762 9.96094-76.123C9.96094-74.1211 11.6211-72.4121 13.5742-72.4121L30.0781-72.4121L37.8906-18.7988C38.916-11.8652 42.5781-7.51953 49.6582-7.51953ZM114.355-60.5469L110.889-37.1582C110.498-34.1309 108.887-32.2754 106.006-32.2754L43.7012-32.2266L39.5508-60.5469ZM53.5156 16.2109C57.9102 16.2109 61.4258 12.7441 61.4258 8.30078C61.4258 3.90625 57.9102 0.390625 53.5156 0.390625C49.0723 0.390625 45.5566 3.90625 45.5566 8.30078C45.5566 12.7441 49.0723 16.2109 53.5156 16.2109ZM99.1699 16.2109C103.613 16.2109 107.129 12.7441 107.129 8.30078C107.129 3.90625 103.613 0.390625 99.1699 0.390625C94.7754 0.390625 91.2109 3.90625 91.2109 8.30078C91.2109 12.7441 94.7754 16.2109 99.1699 16.2109Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:66.45503906249996,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 115.1881103515625 102.8818359375",width:115.1881103515625,height:102.8818359375,translateX:-9.960976562500036,translateY:86.6708984375,baseline:86.6708984375,capline:16.2109375}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"megaphone",svgPath:"M12.4512-35.7422C12.4512-23.877 18.3594-16.8945 29.4922-15.5762L40.6738 9.13086C43.4082 15.1855 47.1191 18.1152 52.7832 18.1152C59.8633 18.1152 64.9414 13.0371 63.3301 4.6875L59.7168-14.0625C73.8281-11.5234 88.1348-6.54297 100.928 0.927734C102.295 6.34766 106.787 9.76562 112.939 9.76562C120.41 9.76562 125.391 4.78516 125.391-2.63672L125.391-76.5625C125.391-84.0332 120.41-89.0137 112.939-89.0137C106.592-89.0137 102.051-85.4004 100.83-79.7363C85.8398-70.8496 66.6992-65.1855 51.5137-63.5742L33.5938-63.5742C19.7754-63.5742 12.4512-56.4453 12.4512-43.1641ZM108.398-2.63672L108.398-76.5625C108.398-79.3457 110.205-81.1523 112.939-81.1523C115.674-81.1523 117.529-79.3457 117.529-76.5625L117.529-2.63672C117.529 0.0976562 115.674 1.9043 112.939 1.9043C110.205 1.9043 108.398 0.0976562 108.398-2.63672ZM52.3926-23.0469L52.3926-55.9082C69.7754-57.9102 86.3281-62.793 100.537-70.9473L100.537-7.95898C85.9863-16.3086 69.5801-21.0449 52.3926-23.0469ZM33.5938-23.1934C24.2188-23.1934 20.3125-26.9043 20.3125-35.7422L20.3125-43.1641C20.3125-52.002 24.2188-55.7129 33.5938-55.7129L44.5312-55.7129L44.5312-23.1934ZM47.998 6.98242L37.5488-15.332L51.2207-15.332C51.5137-15.332 51.8066-15.2832 52.0996-15.2344L56.2988 5.81055C56.8848 8.83789 55.1758 10.7422 52.6367 10.7422C50.3418 10.7422 49.2188 9.57031 47.998 6.98242Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:65.08503906250007,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 112.9476318359375 107.5673828125",width:112.9476318359375,height:107.5673828125,translateX:-12.451215820312427,translateY:89.013671875,baseline:89.013671875,capline:18.5537109375}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"text.bubble",svgPath:"M42.4805 18.4082C44.873 18.4082 46.5332 17.1387 49.5117 14.502L66.3574-0.488281L97.7051-0.488281C112.256-0.488281 120.068-8.54492 120.068-22.8516L120.068-60.2539C120.068-74.5605 112.256-82.6172 97.7051-82.6172L34.8145-82.6172C20.2637-82.6172 12.4512-74.6094 12.4512-60.2539L12.4512-22.8516C12.4512-8.49609 20.2637-0.488281 34.8145-0.488281L37.1582-0.488281L37.1582 12.207C37.1582 15.9668 39.0625 18.4082 42.4805 18.4082ZM44.4824 9.47266L44.4824-4.6875C44.4824-7.32422 43.457-8.34961 40.8203-8.34961L34.8145-8.34961C24.9512-8.34961 20.3125-13.3789 20.3125-22.9004L20.3125-60.2539C20.3125-69.7754 24.9512-74.7559 34.8145-74.7559L97.7051-74.7559C107.52-74.7559 112.207-69.7754 112.207-60.2539L112.207-22.9004C112.207-13.3789 107.52-8.34961 97.7051-8.34961L66.0645-8.34961C63.3301-8.34961 61.9629-7.95898 60.1074-6.05469ZM41.1133-55.0293L90.8203-55.0293C92.3828-55.0293 93.6035-56.25 93.6035-57.8613C93.6035-59.375 92.3828-60.6445 90.8203-60.6445L41.1133-60.6445C39.5508-60.6445 38.2812-59.375 38.2812-57.8613C38.2812-56.25 39.5508-55.0293 41.1133-55.0293ZM41.1133-39.1113L90.8203-39.1113C92.3828-39.1113 93.6035-40.3809 93.6035-41.9922C93.6035-43.5059 92.3828-44.7754 90.8203-44.7754L41.1133-44.7754C39.5508-44.7754 38.2812-43.5059 38.2812-41.9922C38.2812-40.3809 39.5508-39.1113 41.1133-39.1113ZM41.1133-23.2422L73.4375-23.2422C75-23.2422 76.2207-24.4629 76.2207-26.0254C76.2207-27.6367 75-28.9062 73.4375-28.9062L41.1133-28.9062C39.5508-28.9062 38.2812-27.6367 38.2812-26.0254C38.2812-24.4629 39.5508-23.2422 41.1133-23.2422Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:67.75010498046868,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 107.61767578125 107.2763671875",width:107.61767578125,height:107.2763671875,translateX:-12.451127929687573,translateY:88.8681640625,baseline:88.8681640625,capline:18.408203125}}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(797),i=n(927);class o{constructor(){this.connection=new r.a(i.a),this.connection.exportedObject=this,this.connection.start()}async canShowCategoryViews(){return this.connection.remoteObjectProxy.canShowCategoryViews()}async fetchMailboxList(e){return this.connection.remoteObjectProxy.fetchMailboxList(e)}async fetchMailboxThreads(e){return this.connection.remoteObjectProxy.fetchMailboxThreads(e)}async fetchPreferences(e){return this.connection.remoteObjectProxy.fetchPreferences(e)}}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"envelope.badge",svgPath:"M112.354-52.3926C121.631-52.3926 129.297-60.0586 129.297-69.3359C129.297-78.6133 121.631-86.2793 112.354-86.2793C103.076-86.2793 95.459-78.6133 95.459-69.3359C95.459-60.0586 103.076-52.3926 112.354-52.3926ZM27.7832 6.88477L106.396 6.88477C115.186 6.88477 120.264 1.80664 120.264-8.25195L120.264-47.1191C117.92-46.2402 115.43-45.8008 112.793-45.752L112.793-8.20312C112.793-7.95898 112.793-7.76367 112.793-7.51953L84.9121-35.1074L99.5605-49.5117C97.5586-50.7812 95.752-52.4414 94.2383-54.2969L72.3633-32.7148C70.2637-30.6152 68.3594-29.6875 66.4551-29.6875C64.502-29.6875 62.6465-30.6152 60.5469-32.7148L23.6816-69.0918C24.7559-69.5312 26.0254-69.7754 27.4902-69.7754L88.7695-69.7754C88.7695-72.4121 89.2578-74.9512 90.1367-77.2461L26.3184-77.2461C17.5293-77.2461 12.4512-72.2168 12.4512-62.1582L12.4512-8.25195C12.4512 1.85547 17.5781 6.88477 27.7832 6.88477ZM19.9219-8.25195L19.9219-62.1582C19.9219-62.3535 19.9219-62.5488 19.9219-62.6953L47.998-35.1074L19.9707-7.37305C19.9219-7.66602 19.9219-7.95898 19.9219-8.25195ZM66.4551-22.168C69.873-22.168 73.1934-23.584 76.6113-26.9531L79.7852-30.0781L108.887-1.26953C107.861-0.78125 106.641-0.585938 105.225-0.585938L27.4902-0.585938C26.123-0.585938 24.9512-0.78125 23.9258-1.2207L53.125-30.0781L56.2988-26.9531C59.7168-23.584 62.9883-22.168 66.4551-22.168Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:67.62510009765629,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 125.823974609375 102.0986328125",width:125.823974609375,height:102.0986328125,translateX:-3.4729833984374636,translateY:86.279296875,baseline:86.279296875,capline:15.8193359375}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"envelope.open",svgPath:"M27.7832 13.7695L104.932 13.7695C115.137 13.7695 120.264 8.69141 120.264-1.36719L120.264-49.9512C120.264-56.9824 118.799-60.1074 114.16-63.7695L76.416-93.457C72.9004-96.2891 69.9707-98.0957 66.3574-98.0957C62.7441-98.0957 59.8145-96.2891 56.2988-93.457L18.5547-63.7695C13.916-60.1074 12.4512-56.9824 12.4512-49.9512L12.4512-1.36719C12.4512 8.74023 17.5781 13.7695 27.7832 13.7695ZM76.6113-33.0566C73.1934-36.4746 69.873-37.8418 66.4551-37.8418C62.9883-37.8418 59.7168-36.4746 56.2988-33.0566L53.125-29.9316L23.877-58.8379L60.498-87.4023C62.8906-89.2578 64.209-90.2832 66.3574-90.2832C68.457-90.2832 69.8242-89.2578 72.2168-87.4023L108.936-58.7402L79.7852-29.9316ZM19.9219-1.36719L19.9219-51.2695C19.9219-51.7578 19.9219-52.1973 19.9707-52.5879L47.998-24.9023L20.459 2.09961C20.1172 1.12305 19.9219-0.0488281 19.9219-1.36719ZM112.793-51.2695L112.793-1.36719C112.793-0.0976562 112.598 1.02539 112.256 2.00195L84.9121-24.9023L112.744-52.4414C112.793-52.0996 112.793-51.709 112.793-51.2695ZM27.4902 6.29883C27.1484 6.29883 26.8066 6.29883 26.5137 6.25L60.5469-27.2949C62.5977-29.3945 64.502-30.3223 66.4551-30.3223C68.3594-30.3223 70.2637-29.3945 72.3633-27.2949L106.348 6.25C106.006 6.29883 105.615 6.29883 105.225 6.29883Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:67.65510009765626,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 107.818115234375 125.7314453125",width:107.818115234375,height:125.7314453125,translateX:-12.445913085937491,translateY:98.095703125,baseline:98.095703125,capline:27.6357421875}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"flag.slash",svgPath:"M98.7305-1.31836C100.244 0.146484 102.637 0.146484 104.053-1.31836C105.518-2.83203 105.566-5.17578 104.053-6.64062L19.2383-91.4551C17.7734-92.9199 15.332-92.9199 13.8672-91.4551C12.4512-90.0391 12.4512-87.5488 13.8672-86.1328ZM101.025-18.457C101.709-19.4824 102.002-20.8008 102.002-22.6074L102.002-72.168C102.002-74.8047 99.7559-76.3184 96.9238-76.3184C94.5312-76.3184 90.0391-74.2676 81.6406-74.2676C64.7949-74.2676 53.5645-82.8125 35.8398-83.1055L44.1406-74.8047C56.8848-72.7539 67.0898-66.8945 81.6406-66.8945C86.9629-66.8945 91.3574-67.5293 94.6289-68.457L94.6289-24.9023ZM18.9941 12.6953C21.0449 12.6953 22.7051 11.084 22.7051 9.0332L22.7051-18.1152C23.9258-18.6523 28.5156-20.4102 35.6934-20.4102C53.0273-20.4102 63.8184-12.3535 80.1758-11.6211L71.3867-20.459C59.8633-22.6074 49.9023-27.7832 35.6934-27.7832C30.3223-27.7832 25.4395-27.1484 22.7051-26.0254L22.7051-68.5547L15.918-75.3418C15.5273-74.6094 15.2832-73.6816 15.2832-72.3145L15.2832 9.0332C15.2832 11.0352 16.9922 12.6953 18.9941 12.6953Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:77.8551000976563,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 98.029541015625 114.6474609375",width:98.029541015625,height:114.6474609375,translateX:-7.140200195312445,translateY:92.5537109375,baseline:92.5537109375,capline:22.09375}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"flag",svgPath:"M18.9941 12.6953C21.0449 12.6953 22.7051 11.084 22.7051 9.0332L22.7051-18.1152C23.9258-18.6523 28.5156-20.4102 35.6934-20.4102C53.7598-20.4102 65.0879-11.5723 82.2754-11.5723C89.8926-11.5723 92.7246-12.4023 96.4355-14.0625C99.8047-15.5762 102.002-18.1152 102.002-22.6074L102.002-72.168C102.002-74.8047 99.7559-76.3184 96.9238-76.3184C94.5312-76.3184 90.0391-74.2676 81.6406-74.2676C64.4531-74.2676 53.1738-83.1055 35.0586-83.1055C27.4414-83.1055 24.5605-82.2754 20.8496-80.6152C17.4805-79.1016 15.2832-76.5625 15.2832-72.1191L15.2832 9.0332C15.2832 11.0352 16.9922 12.6953 18.9941 12.6953ZM82.2754-18.9453C66.0156-18.9453 54.4922-27.7832 35.6934-27.7832C30.3223-27.7832 25.4395-27.1484 22.7051-26.0254L22.7051-71.875C23.3887-73.4863 27.4414-75.7324 35.0586-75.7324C52.2461-75.7324 63.7207-66.8945 81.6406-66.8945C86.9629-66.8945 91.3574-67.5293 94.6289-68.457L94.6289-22.8027C93.9453-21.1914 89.8926-18.9453 82.2754-18.9453Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:77.8551000976563,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 91.69384765625 95.8505859375",width:91.69384765625,height:95.8505859375,translateX:-10.308046874999945,translateY:83.1552734375,baseline:83.1552734375,capline:12.6953125}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"circle.fill",svgPath:"M59.1797 15.1855C86.7676 15.1855 109.619-7.61719 109.619-35.2539C109.619-62.8418 86.7676-85.6934 59.1309-85.6934C31.543-85.6934 8.74023-62.8418 8.74023-35.2539C8.74023-7.61719 31.5918 15.1855 59.1797 15.1855Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.46508300781261,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 102.1480712890625 100.9267578125",width:102.1480712890625,height:100.9267578125,translateX:-7.470952148437391,translateY:85.693359375,baseline:85.693359375,capline:15.2333984375}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"paperclip",svgPath:"M91.5039-32.5684L55.4688 3.4668C46.2891 12.6953 33.9844 11.7676 26.123 3.85742C18.1641-4.05273 17.2852-16.3086 26.5137-25.5371L75.7812-74.8047C81.1523-80.1758 89.209-81.1523 94.4336-75.8789C99.707-70.6055 98.7305-62.6465 93.3594-57.2266L45.0195-8.83789C42.8223-6.64062 40.2344-7.27539 38.7207-8.74023C37.2559-10.3027 36.6211-12.8418 38.8184-15.0879L72.5098-48.7793C74.2188-50.4883 74.3164-52.9785 72.7051-54.6387C71.0449-56.2012 68.5547-56.1523 66.8457-54.4434L32.959-20.6055C27.7832-15.332 27.9785-7.32422 32.6172-2.68555C37.6465 2.34375 45.2637 2.24609 50.5371-3.02734L99.1211-51.6113C108.545-61.0352 108.203-73.4375 99.9512-81.7383C91.8457-89.7949 79.248-90.3809 69.7754-80.957L20.2148-31.2988C7.86133-18.9453 8.69141-1.2207 19.9219 10.0098C31.1523 21.1914 48.9258 22.0703 61.2793 9.76562L97.5586-26.5137C99.2188-28.125 99.1699-31.1035 97.5098-32.7148C95.8984-34.4238 93.2129-34.1797 91.5039-32.5684Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:76.26252685546865,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 96.83642578125 107.853271484375",width:96.83642578125,height:107.853271484375,translateX:-9.3293310546876,translateY:89.1566162109375,baseline:89.1566162109375,capline:18.6966552734375}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"flag.fill",svgPath:"M18.9941 12.6953C21.0449 12.6953 22.7051 11.084 22.7051 9.0332L22.7051-18.1152C23.9258-18.6523 28.5156-20.4102 35.6934-20.4102C53.7598-20.4102 65.0879-11.5723 82.2754-11.5723C89.8926-11.5723 92.7246-12.4023 96.4355-14.0625C99.8047-15.5762 102.002-18.1152 102.002-22.6074L102.002-72.168C102.002-74.8047 99.7559-76.3184 96.9238-76.3184C94.5312-76.3184 90.0391-74.2676 81.6406-74.2676C64.4531-74.2676 53.1738-83.1055 35.0586-83.1055C27.4414-83.1055 24.5605-82.2754 20.8496-80.6152C17.4805-79.1016 15.2832-76.5625 15.2832-72.1191L15.2832 9.0332C15.2832 11.0352 16.9922 12.6953 18.9941 12.6953Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:77.8551000976563,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 91.69384765625 95.8505859375",width:91.69384765625,height:95.8505859375,translateX:-10.308046874999945,translateY:83.1552734375,baseline:83.1552734375,capline:12.6953125}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"chevron.left.circle",svgPath:"M59.1797 15.1855C86.7676 15.1855 109.619-7.61719 109.619-35.2539C109.619-62.8418 86.7676-85.6934 59.1309-85.6934C31.543-85.6934 8.74023-62.8418 8.74023-35.2539C8.74023-7.61719 31.5918 15.1855 59.1797 15.1855ZM59.1797 5.27344C36.7188 5.27344 18.7012-12.793 18.7012-35.2539C18.7012-57.7148 36.6699-75.7324 59.1309-75.7324C81.5918-75.7324 99.6582-57.7148 99.707-35.2539C99.707-12.793 81.6406 5.27344 59.1797 5.27344ZM68.8965-11.1816C70.6055-12.8906 70.5078-15.4785 68.8965-17.041L49.5605-35.2539L68.8965-53.3691C70.5566-54.9316 70.5078-57.6172 68.7988-59.2285C67.2852-60.6934 64.7461-60.6445 63.0859-59.082L43.2129-40.332C40.2344-37.5977 40.2832-32.8125 43.2129-30.0781L63.0859-11.3281C64.5996-9.91211 67.4805-9.81445 68.8965-11.1816Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.46508300781261,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 102.1480712890625 100.9267578125",width:102.1480712890625,height:100.9267578125,translateX:-7.470952148437391,translateY:85.693359375,baseline:85.693359375,capline:15.2333984375}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"chevron.right.circle",svgPath:"M59.1797 15.1855C86.7676 15.1855 109.619-7.61719 109.619-35.2539C109.619-62.8418 86.7676-85.6934 59.1309-85.6934C31.543-85.6934 8.74023-62.8418 8.74023-35.2539C8.74023-7.61719 31.5918 15.1855 59.1797 15.1855ZM59.1797 5.27344C36.7188 5.27344 18.7012-12.793 18.7012-35.2539C18.7012-57.7148 36.6699-75.7324 59.1309-75.7324C81.5918-75.7324 99.6582-57.7148 99.707-35.2539C99.707-12.793 81.6406 5.27344 59.1797 5.27344ZM48.1934-11.1816C49.6094-9.81445 52.4902-9.91211 53.9551-11.3281L73.877-30.0781C76.8066-32.8125 76.8066-37.5977 73.877-40.332L53.9551-59.082C52.2949-60.6445 49.8047-60.6934 48.2422-59.2285C46.5332-57.6172 46.5332-54.9316 48.1934-53.3691L67.5293-35.2539L48.1934-17.041C46.582-15.4785 46.4844-12.8906 48.1934-11.1816Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.46508300781261,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 102.1480712890625 100.9267578125",width:102.1480712890625,height:100.9267578125,translateX:-7.470952148437391,translateY:85.693359375,baseline:85.693359375,capline:15.2333984375}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"tray",svgPath:"M27.7832 6.49414L112.256 6.49414C122.51 6.49414 127.588 1.41602 127.588-8.64258L127.588-37.5488C127.588-41.9434 127.002-44.1406 124.805-46.8262L107.959-67.6758C102.246-74.707 99.707-76.8555 91.0156-76.8555L49.0234-76.8555C40.332-76.8555 37.8418-74.707 32.1289-67.6758L15.2344-46.8262C13.0859-44.1406 12.4512-41.9434 12.4512-37.5488L12.4512-8.64258C12.4512 1.46484 17.5781 6.49414 27.7832 6.49414ZM70.0195-24.707C63.1348-24.707 58.6914-30.7129 58.6914-36.377L58.6914-36.5234C58.6914-38.5742 57.4707-40.4785 54.9316-40.4785L22.7539-40.4785C21.1426-40.4785 20.8008-41.8945 21.6309-42.9199L39.7461-65.7715C42.1387-68.7988 44.873-70.0195 48.4375-70.0195L91.6016-70.0195C95.166-70.0195 97.9004-68.7988 100.293-65.7715L118.457-42.9199C119.238-41.8945 118.945-40.4785 117.334-40.4785L85.1074-40.4785C82.5684-40.4785 81.3965-38.5742 81.3965-36.5234L81.3965-36.377C81.3965-30.7129 76.9531-24.707 70.0195-24.707ZM27.8809-1.36719C22.998-1.36719 20.3125-3.95508 20.3125-9.0332L20.3125-33.3496L51.2695-33.3496C52.4414-24.2188 60.1074-17.4805 70.0195-17.4805C79.9316-17.4805 87.5977-24.2676 88.7695-33.3496L119.727-33.3496L119.727-9.0332C119.727-3.95508 116.992-1.36719 112.158-1.36719Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:63.990104980468686,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 115.1376953125 83.4482421875",width:115.1376953125,height:83.4482421875,translateX:-12.451118164062564,translateY:76.9541015625,baseline:76.9541015625,capline:6.494140625}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"square.and.pencil",svgPath:"M110.059-73.8281L113.867-77.7832C115.82-79.8828 115.967-82.8125 114.014-84.8145L112.646-86.1816C110.889-87.9883 107.91-87.6465 105.957-85.6934L102.051-81.8848ZM52.7344-22.5586L63.0371-26.8066L106.543-70.3125L98.4863-78.3203L55.0293-34.7656L50.5859-24.8047C50.0488-23.4863 51.5137-22.0703 52.7344-22.5586ZM33.7891 10.791L90.3809 10.791C100.146 10.791 105.859 5.07812 105.859-5.61523L105.859-56.7871L94.9707-45.8984L94.9707-6.78711C94.9707-2.29492 92.627-0.0976562 89.4531-0.0976562L34.7168-0.0976562C30.4199-0.0976562 28.125-2.29492 28.125-6.78711L28.125-60.3027C28.125-64.7949 30.4199-66.9922 34.7168-66.9922L74.3164-66.9922L85.2051-77.832L33.7891-77.832C22.998-77.832 17.2363-72.168 17.2363-61.4258L17.2363-5.61523C17.2363 5.07812 22.998 10.791 33.7891 10.791Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:73.50924560546878,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 109.812744140625 104.26904296875",width:109.812744140625,height:104.26904296875,translateX:-5.594453124999973,translateY:87.364501953125,baseline:87.364501953125,capline:16.904541015625}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"line.3.horizontal.decrease.circle.fill",svgPath:"M58.5449 14.5508C85.791 14.5508 108.35-8.05664 108.35-35.2539C108.35-62.5 85.7422-85.0586 58.4961-85.0586C31.2988-85.0586 8.74023-62.5 8.74023-35.2539C8.74023-8.05664 31.3477 14.5508 58.5449 14.5508ZM31.2012-45.2637C28.9551-45.2637 27.3438-46.6797 27.3438-48.8281C27.3438-50.9766 28.9551-52.3926 31.2012-52.3926L86.084-52.3926C88.2812-52.3926 89.9414-50.9766 89.9414-48.8281C89.9414-46.6797 88.2812-45.2637 86.084-45.2637ZM38.6719-28.5645C36.377-28.5645 34.8145-29.9805 34.8145-32.1777C34.8145-34.3262 36.377-35.7422 38.6719-35.7422L78.6133-35.7422C80.8594-35.7422 82.4219-34.3262 82.4219-32.1777C82.4219-29.9805 80.8594-28.5645 78.6133-28.5645ZM46.4355-11.8652C44.1895-11.8652 42.627-13.3301 42.627-15.4785C42.627-17.5781 44.1895-18.9941 46.4355-18.9941L70.8008-18.9941C73.0469-18.9941 74.6582-17.5781 74.6582-15.4785C74.6582-13.3301 73.0469-11.8652 70.8008-11.8652Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.46503906249995,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 99.6099853515625 99.6572265625",width:99.6099853515625,height:99.6572265625,translateX:-8.740039062500045,translateY:85.05859375,baseline:85.05859375,capline:14.5986328125}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"line.3.horizontal.decrease.circle",svgPath:"M58.5449 14.5508C85.791 14.5508 108.35-8.05664 108.35-35.2539C108.35-62.5 85.7422-85.0586 58.4961-85.0586C31.2988-85.0586 8.74023-62.5 8.74023-35.2539C8.74023-8.05664 31.3477 14.5508 58.5449 14.5508ZM58.5449 6.25C35.498 6.25 17.0898-12.207 17.0898-35.2539C17.0898-58.3008 35.4492-76.7578 58.4961-76.7578C81.543-76.7578 100-58.3008 100.049-35.2539C100.098-12.207 81.5918 6.25 58.5449 6.25ZM31.9824-44.873L85.2051-44.873C87.3535-44.873 88.916-46.2402 88.916-48.3398C88.916-50.3906 87.3535-51.7578 85.2051-51.7578L31.9824-51.7578C29.7852-51.7578 28.2715-50.3906 28.2715-48.3398C28.2715-46.2402 29.7852-44.873 31.9824-44.873ZM39.209-28.7109L77.9785-28.7109C80.127-28.7109 81.6406-30.0781 81.6406-32.1777C81.6406-34.2285 80.127-35.5957 77.9785-35.5957L39.209-35.5957C37.0117-35.5957 35.498-34.2285 35.498-32.1777C35.498-30.0781 37.0117-28.7109 39.209-28.7109ZM46.7285-12.5L70.4102-12.5C72.5586-12.5 74.1211-13.916 74.1211-15.9668C74.1211-18.0176 72.5586-19.3848 70.4102-19.3848L46.7285-19.3848C44.5801-19.3848 43.0664-18.0176 43.0664-15.9668C43.0664-13.916 44.5801-12.5 46.7285-12.5Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.46503906249995,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 99.6099853515625 99.6572265625",width:99.6099853515625,height:99.6572265625,translateX:-8.740039062500045,translateY:85.05859375,baseline:85.05859375,capline:14.5986328125}}})}},,function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"flag",svgPath:"M19.5312 13.1836C21.9727 13.1836 24.0234 11.1816 24.0234 8.69141L24.0234-18.0176C25.3418-18.5059 29.4922-20.0195 35.791-20.0195C53.6133-20.0195 65.4785-11.1328 82.666-11.1328C90.1855-11.1328 93.5547-12.0605 97.3633-13.8184C100.83-15.3809 102.881-18.2129 102.881-22.7051L102.881-71.4844C102.881-74.6094 100.439-76.6113 97.168-76.6113C94.3848-76.6113 89.9902-74.707 82.1289-74.707C65.1367-74.707 53.0762-83.5938 35.3027-83.5938C27.8809-83.5938 24.5605-82.7148 20.6055-80.9082C17.1875-79.3457 15.0391-76.8066 15.0391-72.3633L15.0391 8.69141C15.0391 11.1328 17.0898 13.1836 19.5312 13.1836ZM82.4707-20.2637C66.6016-20.2637 54.4434-29.1016 35.9375-29.1016C31.1523-29.1016 26.8066-28.5645 24.2188-27.5391L24.2188-71.1914C25.0488-72.6074 28.7109-74.5117 35.4492-74.5117C52.0996-74.5117 64.3066-65.6738 81.9824-65.6738C86.7676-65.6738 90.7227-66.2109 93.75-67.041L93.75-23.584C92.9199-22.168 89.209-20.2637 82.4707-20.2637Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:78.09921630859367,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 93.940185546875 96.8271484375",width:93.940185546875,height:96.8271484375,translateX:-8.940761718750082,translateY:83.6435546875,baseline:83.6435546875,capline:13.18359375}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"envelope.badge.shield.lefthalf.fill",svgPath:"M 27.7832 6.88477 L 89.502 6.88477 C 87.9395 4.73633 86.9141 2.29492 86.4258 -0.585938 L 27.4902 -0.585938 C 26.123 -0.585938 24.9512 -0.78125 23.9258 -1.2207 L 53.125 -30.0781 L 56.2988 -26.9531 C 59.7168 -23.584 62.9883 -22.168 66.4551 -22.168 C 69.873 -22.168 73.1934 -23.584 76.6113 -26.9531 L 79.7852 -30.0781 L 85.6934 -24.2188 C 85.6934 -27.7344 86.1328 -30.0781 87.6953 -32.373 L 84.9121 -35.1074 L 112.793 -62.5488 C 112.793 -62.4023 112.793 -62.2559 112.793 -62.1094 L 112.793 -43.5059 C 115.234 -44.1895 117.773 -44.1406 120.264 -43.457 L 120.264 -62.1582 C 120.264 -72.168 115.137 -77.2461 104.932 -77.2461 L 26.3184 -77.2461 C 17.5293 -77.2461 12.4512 -72.2168 12.4512 -62.1582 L 12.4512 -8.25195 C 12.4512 1.85547 17.5781 6.88477 27.7832 6.88477 Z M 60.5469 -32.7148 L 23.6816 -69.0918 C 24.7559 -69.5312 26.0254 -69.7754 27.4902 -69.7754 L 105.225 -69.7754 C 106.738 -69.7754 108.057 -69.5312 109.131 -69.043 L 72.3633 -32.7148 C 70.2637 -30.6152 68.3594 -29.6875 66.4551 -29.6875 C 64.502 -29.6875 62.5977 -30.6641 60.5469 -32.7148 Z M 19.9219 -8.25195 L 19.9219 -62.1582 C 19.9219 -62.3535 19.9219 -62.5488 19.9219 -62.6953 L 47.998 -35.1074 L 19.9707 -7.42188 C 19.9219 -7.66602 19.9219 -7.95898 19.9219 -8.25195 Z M 112.744 16.2598 C 114.014 16.9922 116.016 17.1875 117.627 16.2598 C 132.031 7.76367 137.988 4.05273 137.988 -6.05469 L 137.988 -25.1465 C 137.988 -28.1738 136.816 -30.2246 133.691 -31.543 C 130.566 -32.8613 120.85 -36.2793 117.773 -37.3535 C 116.064 -37.9395 114.111 -37.9883 112.109 -37.1582 C 109.521 -36.1816 99.7559 -32.8613 96.6309 -31.543 C 93.5059 -30.2246 92.334 -28.1738 92.334 -25.1465 L 92.334 -6.05469 C 92.334 4.05273 98.291 7.76367 112.744 16.2598 Z M 116.65 8.44727 C 116.162 8.74023 115.674 8.83789 115.186 8.83789 L 115.186 -30.3711 C 115.723 -30.3711 116.26 -30.2734 116.846 -30.0293 C 120.312 -28.8086 125.439 -26.8555 128.906 -25.5859 C 130.42 -25.0488 130.811 -24.3164 130.811 -22.8516 L 130.811 -6.98242 C 130.811 0.0488281 127.783 1.70898 116.65 8.44727 Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:58.78949462890614,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 125.538818359375 104.22900390625",width:125.538818359375,height:104.22900390625,translateX:-12.45116699218761,translateY:87.344482421875,baseline:87.344482421875,capline:16.884521484375}}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(478),i=n.n(r),o=n(1842);const a=e=>i.a.createElement(o.a,{role:"menu",variant:"standard",...e})},,,function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"pin.slash",svgPath:"M25.5859-85.4492C25.5859-84.0332 26.1719-82.373 27.4414-80.7129C29.9316-77.3926 35.8398-72.8027 41.9922-68.75L41.6016-63.3789L48.8281-56.1523L49.8047-72.3633C49.8535-73.0469 49.7559-73.291 49.2676-73.5352C41.9434-77.2949 36.2793-81.7383 35.8887-82.7148C35.498-83.3496 35.8887-83.7402 36.4258-83.7402L78.1738-83.7402C78.7109-83.7402 79.1016-83.3496 78.7109-82.7148C78.3203-81.7383 72.6562-77.2949 65.332-73.5352C64.8926-73.291 64.7461-73.0469 64.8438-72.3633L66.3086-48.1445C63.4277-48.7305 60.4492-49.0234 57.3242-49.0234L56.0059-49.0234L63.5742-41.3574C77.0996-39.9902 87.0117-28.9551 87.0117-21.1426C87.0117-20.8984 87.0117-20.6543 87.0117-20.4102L92.2852-14.3555C93.8965-15.332 95.2148-17.334 95.2148-20.166C95.2148-30.4688 86.9629-40.8691 74.2188-45.8496L72.6074-68.75C78.8086-72.8027 84.668-77.3926 87.1582-80.7129C88.4766-82.373 89.0625-84.0332 89.0625-85.4492C89.0625-88.4277 86.7676-90.625 83.3496-90.625L31.2988-90.625C27.832-90.625 25.5859-88.4277 25.5859-85.4492ZM8.54492-77.1484L96.8262 11.0352C98.3398 12.5 100.732 12.5 102.148 11.0352C103.613 9.57031 103.662 7.17773 102.148 5.71289L13.916-82.4707C12.4512-83.9355 10.0098-83.9844 8.54492-82.4707C7.12891-81.0547 7.12891-78.6133 8.54492-77.1484ZM19.3848-20.166C19.3848-16.0156 22.168-13.2812 26.5625-13.2812L52.9785-13.2812L52.9785 9.52148C52.9785 16.9922 56.1035 23.1934 57.3242 23.1934C58.4961 23.1934 61.6211 16.9922 61.6211 9.52148L61.6211-12.6953L64.4043-12.6953L56.4453-20.6543L28.5156-20.6543C27.3926-20.6543 26.9043-21.2891 27.0996-22.6074C27.6855-28.0762 32.2754-33.8867 39.502-37.5977L34.375-42.7246C25.1465-37.3047 19.3848-28.7598 19.3848-20.166Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:76.68503906249998,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 99.6842041015625 116.8466796875",width:99.6842041015625,height:116.8466796875,translateX:-7.482929687500018,translateY:93.6533203125,baseline:93.6533203125,capline:23.193359375}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"person.crop.circle",svgPath:"M59.1797 15.1855C86.7676 15.1855 109.619-7.61719 109.619-35.2539C109.619-62.8418 86.7676-85.6934 59.1309-85.6934C31.543-85.6934 8.74023-62.8418 8.74023-35.2539C8.74023-7.61719 31.5918 15.1855 59.1797 15.1855ZM59.1797-18.4082C45.2637-18.4082 34.5215-13.4766 29.3945-7.76367C22.7539-14.9414 18.7012-24.6094 18.7012-35.2539C18.7012-57.7148 36.6699-75.7324 59.1309-75.7324C81.5918-75.7324 99.6582-57.7148 99.707-35.2539C99.707-24.6094 95.6543-14.9414 89.0137-7.71484C83.8379-13.4766 73.0957-18.4082 59.1797-18.4082ZM59.1797-26.416C68.6523-26.3672 75.9766-34.4238 75.9766-44.9219C75.9766-54.7852 68.6035-62.9883 59.1797-62.9883C49.8047-62.9883 42.334-54.7852 42.3828-44.9219C42.4316-34.4238 49.7559-26.5137 59.1797-26.416Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.46508300781261,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 102.1480712890625 100.9267578125",width:102.1480712890625,height:100.9267578125,translateX:-7.470952148437391,translateY:85.693359375,baseline:85.693359375,capline:15.2333984375}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"lock.fill",svgPath:"M29.9805 10.9863L76.4648 10.9863C82.7637 10.9863 85.8398 7.86133 85.8398 1.02539L85.8398-34.8145C85.8398-40.9668 83.3008-44.1406 78.0762-44.6777L78.0762-56.9824C78.0762-75.3906 66.0156-84.2773 53.2227-84.2773C40.4297-84.2773 28.3691-75.3906 28.3691-56.9824L28.3691-44.4336C23.584-43.7012 20.6055-40.5762 20.6055-34.8145L20.6055 1.02539C20.6055 7.86133 23.6816 10.9863 29.9805 10.9863ZM36.2305-58.0078C36.2305-70.2637 44.0918-76.7578 53.2227-76.7578C62.3535-76.7578 70.2148-70.2637 70.2148-58.0078L70.2148-44.7266L36.2305-44.6777Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:80.78510009765614,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 65.239013671875 98.0947265625",width:65.239013671875,height:98.0947265625,translateX:-20.60546386718761,translateY:84.27734375,baseline:84.27734375,capline:13.8173828125}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"pin.fill",svgPath:"M19.3848-20.166C19.3848-16.0156 22.168-13.2812 26.5625-13.2812L52.9785-13.2812L52.9785 9.52148C52.9785 16.9922 56.1035 23.1934 57.3242 23.1934C58.4961 23.1934 61.6211 16.9922 61.6211 9.52148L61.6211-13.2812L88.0371-13.2812C92.4316-13.2812 95.2148-16.0156 95.2148-20.166C95.2148-30.4688 86.9629-41.3574 73.2422-46.3379L71.6309-68.75C78.7598-72.8027 84.6191-77.3926 87.1582-80.6641C88.4277-82.3242 89.0625-83.9844 89.0625-85.4492C89.0625-88.4277 86.7676-90.625 83.3496-90.625L31.2988-90.625C27.832-90.625 25.5859-88.4277 25.5859-85.4492C25.5859-83.9844 26.1719-82.3242 27.4414-80.6641C29.9805-77.3926 35.8398-72.8027 42.9688-68.75L41.3574-46.3379C27.6367-41.3574 19.3848-30.4688 19.3848-20.166Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:76.71004394531246,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 75.8304443359375 116.8466796875",width:75.8304443359375,height:116.8466796875,translateX:-19.384804687500036,translateY:93.6533203125,baseline:93.6533203125,capline:23.193359375}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"note.text",svgPath:"M27.7832 9.76562L94.4824 9.76562C104.688 9.76562 109.766 4.6875 109.766-5.37109L109.766-64.9902C109.766-75.0488 104.688-80.127 94.4824-80.127L27.7832-80.127C17.5781-80.127 12.4512-75.0977 12.4512-64.9902L12.4512-5.37109C12.4512 4.73633 17.5781 9.76562 27.7832 9.76562ZM27.0508 1.9043C22.7051 1.9043 20.3125-0.390625 20.3125-4.93164L20.3125-50.9766C20.3125-55.4688 22.7051-57.8125 27.0508-57.8125L95.1172-57.8125C99.4629-57.8125 101.904-55.4688 101.904-50.9766L101.904-4.93164C101.904-0.390625 99.4629 1.9043 95.1172 1.9043ZM35.5469-39.6484L86.8164-39.6484C88.5254-39.6484 89.8438-41.0156 89.8438-42.7246C89.8438-44.3848 88.5254-45.6543 86.8164-45.6543L35.5469-45.6543C33.7402-45.6543 32.4707-44.3848 32.4707-42.7246C32.4707-41.0156 33.7402-39.6484 35.5469-39.6484ZM35.5469-24.9512L86.8164-24.9512C88.5254-24.9512 89.8438-26.2207 89.8438-27.8809C89.8438-29.6387 88.5254-30.957 86.8164-30.957L35.5469-30.957C33.7402-30.957 32.4707-29.6387 32.4707-27.8809C32.4707-26.2207 33.7402-24.9512 35.5469-24.9512ZM35.5469-10.2539L68.1152-10.2539C69.8242-10.2539 71.1426-11.5234 71.1426-13.1836C71.1426-14.8926 69.8242-16.2598 68.1152-16.2598L35.5469-16.2598C33.7402-16.2598 32.4707-14.8926 32.4707-13.1836C32.4707-11.5234 33.7402-10.2539 35.5469-10.2539Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:72.90510009765626,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 97.322021484375 89.9912109375",width:97.322021484375,height:89.9912109375,translateX:-12.443959960937491,translateY:80.2255859375,baseline:80.2255859375,capline:9.765625}}})}},,,,,,function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"heart",svgPath:"M12.0605-49.0723C12.0605-28.2715 29.4922-7.8125 57.0312 9.76562C58.0566 10.4004 59.5215 11.084 60.5469 11.084C61.5723 11.084 63.0371 10.4004 64.1113 9.76562C91.6016-7.8125 109.033-28.2715 109.033-49.0723C109.033-66.3574 97.168-78.5645 81.3477-78.5645C72.3145-78.5645 64.9902-74.2676 60.5469-67.6758C56.2012-74.2188 48.7793-78.5645 39.7461-78.5645C23.9258-78.5645 12.0605-66.3574 12.0605-49.0723ZM19.9219-49.0723C19.9219-62.0605 28.3203-70.7031 39.6484-70.7031C48.8281-70.7031 54.1016-64.9902 57.2266-60.1074C58.5449-58.1543 59.375-57.6172 60.5469-57.6172C61.7188-57.6172 62.4512-58.2031 63.8672-60.1074C67.2363-64.8926 72.3145-70.7031 81.4453-70.7031C92.7734-70.7031 101.172-62.0605 101.172-49.0723C101.172-30.9082 81.9824-11.3281 61.5723 2.24609C61.084 2.58789 60.7422 2.83203 60.5469 2.83203C60.3516 2.83203 60.0098 2.58789 59.5703 2.24609C39.1113-11.3281 19.9219-30.9082 19.9219-49.0723Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:73.46503906249995,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 96.9759521484375 92.6279296875",width:96.9759521484375,height:92.6279296875,translateX:-12.057055664062545,translateY:81.5439453125,baseline:81.5439453125,capline:11.083984375}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"heart.slash",svgPath:"M96.7285 8.98438C98.1934 10.498 100.586 10.498 102.051 8.98438C103.467 7.51953 103.516 5.17578 102.051 3.66211L13.916-84.375C12.4512-85.8398 10.0586-85.8398 8.54492-84.375C7.12891-82.959 7.12891-80.4688 8.54492-79.0527ZM87.1094-19.4824L92.8711-13.7207C103.125-25.0488 109.033-37.0117 109.033-49.0723C109.033-66.3574 97.168-78.5645 81.3477-78.5645C72.3145-78.5645 64.9902-74.2676 60.5469-67.6758C56.2012-74.2188 48.7793-78.5645 39.7461-78.5645C36.2305-78.5645 32.9102-77.9297 29.8828-76.8066L36.4258-70.2637C37.4023-70.6055 38.5254-70.7031 39.6484-70.7031C48.8281-70.7031 54.1016-64.9902 57.2266-60.1074C58.5449-58.1543 59.375-57.6172 60.5469-57.6172C61.7188-57.6172 62.4512-58.2031 63.8672-60.1074C67.2363-64.8926 72.3145-70.7031 81.4453-70.7031C92.7734-70.7031 101.172-62.0605 101.172-49.0723C101.172-39.2578 95.5566-29.0039 87.1094-19.4824ZM78.7109-0.634766L73.0957-6.25C69.4336-3.22266 65.4785-0.390625 61.5723 2.24609C61.084 2.58789 60.7422 2.83203 60.5469 2.83203C60.3516 2.83203 60.0098 2.58789 59.5703 2.24609C39.1113-11.3281 19.9219-30.9082 19.9219-49.0723C19.9219-52.2949 20.5566-55.2246 21.6309-57.7148L15.5273-63.8184C13.3301-59.5703 12.0605-54.5898 12.0605-49.0723C12.0605-28.2715 29.4922-7.8125 57.0312 9.76562C58.0566 10.4004 59.5215 11.084 60.5469 11.084C61.5723 11.084 63.0371 10.4004 64.1113 9.76562C69.3359 6.39648 74.2676 2.92969 78.7109-0.634766Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:73.46503906249995,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 106.1241455078125 100.4873046875",width:106.1241455078125,height:100.4873046875,translateX:-7.4829589843750455,translateY:85.4736328125,baseline:85.4736328125,capline:15.013671875}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"heart.fill",svgPath:"M60.5469 11.084C61.5723 11.084 63.0371 10.4004 64.1113 9.76562C91.6016-7.8125 109.033-28.2715 109.033-49.0723C109.033-66.3574 97.168-78.5645 81.8359-78.5645C72.3145-78.5645 64.9902-73.291 60.5469-65.2344C56.2012-73.2422 48.7793-78.5645 39.2578-78.5645C23.9258-78.5645 12.0605-66.3574 12.0605-49.0723C12.0605-28.2715 29.4922-7.8125 57.0312 9.76562C58.0566 10.4004 59.5215 11.084 60.5469 11.084Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:73.46503906249995,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 96.9759521484375 92.6279296875",width:96.9759521484375,height:92.6279296875,translateX:-12.057055664062545,translateY:81.5439453125,baseline:81.5439453125,capline:11.083984375}}})}},,function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"person.fill",svgPath:"M53.5645-35.7422C64.0137-35.7422 73.0957-45.1172 73.0957-57.3242C73.0957-69.3848 64.0137-78.3203 53.5645-78.3203C43.1152-78.3203 34.0332-69.1895 34.0332-57.2266C34.0332-45.1172 43.0664-35.7422 53.5645-35.7422ZM20.8008 9.47266L86.2793 9.47266C91.5039 9.47266 94.6289 7.03125 94.6289 2.97852C94.6289-9.61914 78.8574-27.002 53.5156-27.002C28.2227-27.002 12.4512-9.61914 12.4512 2.97852C12.4512 7.03125 15.5762 9.47266 20.8008 9.47266Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:80.47004394531245,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 82.1778564453125 89.4052734375",width:82.1778564453125,height:89.4052734375,translateX:-12.451098632812545,translateY:79.9326171875,baseline:79.9326171875,capline:9.47265625}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"person.2.fill",svgPath:"M104.443-35.7422C114.941-35.7422 123.975-45.1172 123.975-57.3242C123.975-69.3848 114.893-78.3203 104.443-78.3203C94.043-78.3203 84.9121-69.1895 84.9609-57.2266C84.9609-45.1172 93.9941-35.7422 104.443-35.7422ZM48.2422-34.6191C57.373-34.6191 65.2344-42.8223 65.2344-53.418C65.2344-63.916 57.3242-71.6797 48.2422-71.6797C39.209-71.6797 31.2012-63.7207 31.25-53.3203C31.25-42.8223 39.1602-34.6191 48.2422-34.6191ZM21.0449 9.47266L58.1055 9.47266C53.0273 2.09961 59.2285-12.7441 69.7754-20.8496C64.3066-24.4629 57.3242-27.1484 48.2422-27.1484C26.2207-27.1484 12.4512-10.8887 12.4512 2.63672C12.4512 7.03125 14.8438 9.47266 21.0449 9.47266ZM73.7793 9.47266L135.107 9.47266C142.773 9.47266 145.508 7.27539 145.508 2.97852C145.508-9.61914 129.736-27.002 104.443-27.002C79.1016-27.002 63.3301-9.61914 63.3301 2.97852C63.3301 7.27539 66.0645 9.47266 73.7793 9.47266Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:55.03010498046865,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 133.0576171875 89.4052734375",width:133.0576171875,height:89.4052734375,translateX:-12.4511572265626,translateY:79.9326171875,baseline:79.9326171875,capline:9.47265625}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"rectangle.stack.badge.person.crop",svgPath:"M32.8125-83.0566L94.4336-83.0566C94.1406-87.207 91.7969-89.3555 87.2559-89.3555L39.9414-89.3555C35.4492-89.3555 33.1055-87.207 32.8125-83.0566ZM22.7539-69.5312L104.492-69.5312C103.76-73.9746 101.66-76.416 96.7773-76.416L30.4688-76.416C25.5859-76.416 23.4863-73.9746 22.7539-69.5312ZM42.2852 18.75L99.4141 18.75C109.57 18.75 114.746 13.6719 114.746 3.61328L114.746-46.5332C114.746-56.5918 109.57-61.6699 99.4141-61.6699L27.7832-61.6699C17.5293-61.6699 12.4512-56.5918 12.4512-46.5332L12.4512-30.2734C13.7695-30.4199 15.0879-30.5176 16.3574-30.5176C17.6758-30.5176 18.9941-30.4199 20.3125-30.2734L20.3125-46.0938C20.3125-51.1719 22.998-53.8086 27.8809-53.8086L99.2676-53.8086C104.102-53.8086 106.885-51.1719 106.885-46.0938L106.885 3.17383C106.885 8.25195 104.102 10.8887 99.2676 10.8887L46.2402 10.8887C45.3125 13.7207 43.9453 16.3574 42.2852 18.75ZM16.4062 25.8301C29.834 25.8301 41.2109 14.5508 41.2109 1.02539C41.2109-12.5977 30.0293-23.7793 16.4062-23.7793C2.7832-23.7793-8.39844-12.5977-8.39844 1.02539C-8.39844 14.6484 2.7832 25.8301 16.4062 25.8301ZM16.4062 2.49023C11.9141 2.49023 8.44727-1.26953 8.44727-6.29883C8.44727-10.8887 11.9141-14.7461 16.4062-14.7461C20.8496-14.7461 24.3652-10.8887 24.3652-6.29883C24.3652-1.26953 20.8984 2.49023 16.4062 2.49023ZM16.4062 20.1172C9.27734 20.1172 3.66211 16.4062 2.05078 13.0371L2.05078 12.793C3.66211 9.76562 8.64258 6.39648 16.4062 6.39648C24.1699 6.39648 29.1504 9.76562 30.7129 12.8418L30.7129 13.0371C29.1016 16.4551 23.5352 20.1172 16.4062 20.1172Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:70.41510009765625,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 143.98681640625 122.1201171875",width:143.98681640625,height:122.1201171875,translateX:8.3984375,translateY:96.2900390625,baseline:96.2900390625,capline:25.830078125}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"rectangle.stack",svgPath:"M32.8125-83.0566L94.4336-83.0566C94.1406-87.207 91.7969-89.3555 87.2559-89.3555L39.9414-89.3555C35.4492-89.3555 33.1055-87.207 32.8125-83.0566ZM22.7539-69.5312L104.492-69.5312C103.76-73.9746 101.66-76.416 96.7773-76.416L30.4688-76.416C25.5859-76.416 23.4863-73.9746 22.7539-69.5312ZM27.7832 18.75L99.4141 18.75C109.57 18.75 114.746 13.6719 114.746 3.61328L114.746-46.5332C114.746-56.5918 109.57-61.6699 99.4141-61.6699L27.7832-61.6699C17.5293-61.6699 12.4512-56.5918 12.4512-46.5332L12.4512 3.61328C12.4512 13.6719 17.5293 18.75 27.7832 18.75ZM27.8809 10.8887C22.998 10.8887 20.3125 8.25195 20.3125 3.17383L20.3125-46.0938C20.3125-51.1719 22.998-53.8086 27.8809-53.8086L99.2676-53.8086C104.102-53.8086 106.885-51.1719 106.885-46.0938L106.885 3.17383C106.885 8.25195 104.102 10.8887 99.2676 10.8887Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:70.41510009765625,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 102.302001953125 108.2509765625",width:102.302001953125,height:108.2509765625,translateX:-12.4439697265625,translateY:89.35546875,baseline:89.35546875,capline:18.8955078125}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"suit.heart",svgPath:"M12.0605-49.0723C12.0605-28.2715 29.4922-7.8125 57.0312 9.76562C58.0566 10.4004 59.5215 11.084 60.5469 11.084C61.5723 11.084 63.0371 10.4004 64.1113 9.76562C91.6016-7.8125 109.033-28.2715 109.033-49.0723C109.033-66.3574 97.168-78.5645 81.3477-78.5645C72.3145-78.5645 64.9902-74.2676 60.5469-67.6758C56.2012-74.2188 48.7793-78.5645 39.7461-78.5645C23.9258-78.5645 12.0605-66.3574 12.0605-49.0723ZM19.9219-49.0723C19.9219-62.0605 28.3203-70.7031 39.6484-70.7031C48.8281-70.7031 54.1016-64.9902 57.2266-60.1074C58.5449-58.1543 59.375-57.6172 60.5469-57.6172C61.7188-57.6172 62.4512-58.2031 63.8672-60.1074C67.2363-64.8926 72.3145-70.7031 81.4453-70.7031C92.7734-70.7031 101.172-62.0605 101.172-49.0723C101.172-30.9082 81.9824-11.3281 61.5723 2.24609C61.084 2.58789 60.7422 2.83203 60.5469 2.83203C60.3516 2.83203 60.0098 2.58789 59.5703 2.24609C39.1113-11.3281 19.9219-30.9082 19.9219-49.0723Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:73.46503906249995,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 96.9759521484375 92.6279296875",width:96.9759521484375,height:92.6279296875,translateX:-12.057055664062545,translateY:81.5439453125,baseline:81.5439453125,capline:11.083984375}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"photo.on.rectangle",svgPath:"M27.7832-8.39844L36.5723-8.39844L36.5723-0.927734C36.5723 9.17969 41.6504 14.209 51.9043 14.209L118.604 14.209C128.76 14.209 133.936 9.13086 133.936-0.927734L133.936-46.9727C133.936-57.0312 128.76-62.1094 118.604-62.1094L109.277-62.1094L109.277-69.5801C109.277-79.6387 104.102-84.7168 93.9453-84.7168L27.7832-84.7168C17.5293-84.7168 12.4512-79.6387 12.4512-69.5801L12.4512-23.5352C12.4512-13.4277 17.5293-8.39844 27.7832-8.39844ZM27.8809-16.2598C22.998-16.2598 20.3125-18.8477 20.3125-23.9258L20.3125-69.1406C20.3125-74.2188 22.998-76.8555 27.8809-76.8555L93.7988-76.8555C98.6328-76.8555 101.416-74.2188 101.416-69.1406L101.416-62.1094L51.9043-62.1094C41.6504-62.1094 36.5723-57.0312 36.5723-46.9727L36.5723-16.2598ZM44.4336-46.5332C44.4336-51.6113 47.1191-54.248 52.002-54.248L118.457-54.248C123.291-54.248 126.074-51.6113 126.074-46.5332L126.074-8.49609L107.812-25.7324C105.908-27.4902 103.564-28.3691 101.221-28.3691C98.7793-28.3691 96.6309-27.5879 94.6289-25.7812L74.9023-8.30078L67.041-15.3809C65.1855-17.0898 63.1836-17.8711 61.084-17.8711C59.1797-17.8711 57.373-17.0898 55.4688-15.4785L44.4336-5.85938ZM71.3867-24.6582C77.0508-24.6582 81.6895-29.3945 81.6895-35.1074C81.6895-40.7227 77.0508-45.459 71.3867-45.459C65.6738-45.459 61.0352-40.7227 61.0352-35.1074C61.0352-29.3945 65.6738-24.6582 71.3867-24.6582Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:60.81503906250009,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 121.4876708984375 98.9736328125",width:121.4876708984375,height:98.9736328125,translateX:-12.451196289062409,translateY:84.716796875,baseline:84.716796875,capline:14.2568359375}}})}},,function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"person.2",svgPath:"M105.811-35.0586C117.383-35.0586 126.904-45.4102 126.904-58.0078C126.904-70.459 117.48-80.3223 105.811-80.3223C94.1895-80.3223 84.668-70.3125 84.7168-57.9102C84.7168-45.3613 94.1895-35.0586 105.811-35.0586ZM49.5605-33.9844C59.6191-33.9844 67.8711-43.0176 67.8711-54.1016C67.8711-64.9414 59.7168-73.6816 49.5605-73.6816C39.502-73.6816 31.2012-64.7949 31.25-54.0039C31.25-42.9688 39.502-33.9844 49.5605-33.9844ZM105.811-42.4316C98.6328-42.4316 92.5781-49.2676 92.5781-57.9102C92.5293-66.4062 98.5352-72.9492 105.811-72.9492C113.086-72.9492 119.043-66.5039 119.043-58.0078C119.043-49.3652 112.988-42.4316 105.811-42.4316ZM49.5605-41.2598C43.5547-41.2598 38.5254-46.9727 38.5254-54.0039C38.5254-60.8887 43.5059-66.4062 49.5605-66.4062C55.7129-66.4062 60.6445-60.9863 60.6445-54.1016C60.6445-46.9727 55.5664-41.2598 49.5605-41.2598ZM22.3633 10.791L60.6934 10.791C58.3496 9.47266 56.5918 6.54297 56.9336 3.56445L21.1914 3.56445C20.166 3.56445 19.7266 3.17383 19.7266 2.24609C19.7266-9.86328 33.5449-21.1914 49.5117-21.1914C55.6152-21.1914 61.1816-19.7266 65.918-16.9434C67.4316-18.8965 69.2383-20.6055 71.4355-22.1191C65.1367-26.2695 57.5684-28.418 49.5117-28.418C29.0527-28.418 12.4512-13.5742 12.4512 2.68555C12.4512 8.10547 15.7715 10.791 22.3633 10.791ZM75.0977 10.791L136.426 10.791C144.58 10.791 148.438 8.34961 148.438 2.97852C148.438-9.81445 132.275-28.3203 105.762-28.3203C79.248-28.3203 63.0859-9.81445 63.0859 2.97852C63.0859 8.34961 66.9922 10.791 75.0977 10.791ZM72.7539 3.41797C71.4844 3.41797 70.9473 3.07617 70.9473 2.05078C70.9473-5.95703 83.3496-20.9473 105.762-20.9473C128.174-20.9473 140.576-5.95703 140.576 2.05078C140.576 3.07617 140.039 3.41797 138.77 3.41797Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:53.56503906250009,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 135.9876708984375 92.0419921875",width:135.9876708984375,height:92.0419921875,translateX:-12.451196289062409,translateY:81.2509765625,baseline:81.2509765625,capline:10.791015625}}})}},,function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"checkmark.circle",svgPath:"M58.5449 14.5508C85.791 14.5508 108.35-8.05664 108.35-35.2539C108.35-62.5 85.7422-85.0586 58.4961-85.0586C31.2988-85.0586 8.74023-62.5 8.74023-35.2539C8.74023-8.05664 31.3477 14.5508 58.5449 14.5508ZM58.5449 6.25C35.498 6.25 17.0898-12.207 17.0898-35.2539C17.0898-58.3008 35.4492-76.7578 58.4961-76.7578C81.543-76.7578 100-58.3008 100.049-35.2539C100.098-12.207 81.5918 6.25 58.5449 6.25ZM53.1738-12.0605C54.7852-12.0605 56.1523-12.8418 57.1289-14.3555L79.4434-49.4629C79.9805-50.4395 80.6152-51.5137 80.6152-52.5879C80.6152-54.7852 78.6621-56.2012 76.6113-56.2012C75.3906-56.2012 74.1699-55.4199 73.2422-54.0039L52.9785-21.4844L43.3594-33.9355C42.1875-35.498 41.1133-35.8887 39.7461-35.8887C37.6465-35.8887 35.9863-34.1797 35.9863-32.0312C35.9863-30.957 36.4258-29.9316 37.1094-29.0039L49.0234-14.3555C50.2441-12.7441 51.5625-12.0605 53.1738-12.0605Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.46503906249995,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 99.6099853515625 99.6572265625",width:99.6099853515625,height:99.6572265625,translateX:-8.740039062500045,translateY:85.05859375,baseline:85.05859375,capline:14.5986328125}}})}},,,function(e,t,n){var r,i,o;i=[n(1540)],void 0===(o="function"===typeof(r=function(e){"use strict";var t=function(e,n,i){if("undefined"===typeof e&&(e=t.DEFAULT_CAPACITY),"undefined"===typeof n&&(n=t.DEFAULT_ENDIAN),"undefined"===typeof i&&(i=t.DEFAULT_NOASSERT),!i){if((e|=0)<0)throw RangeError("Illegal capacity");n=!!n,i=!!i}this.buffer=0===e?r:new ArrayBuffer(e),this.view=0===e?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=e,this.littleEndian=n,this.noAssert=i};t.VERSION="5.0.1",t.LITTLE_ENDIAN=!0,t.BIG_ENDIAN=!1,t.DEFAULT_CAPACITY=16,t.DEFAULT_ENDIAN=t.BIG_ENDIAN,t.DEFAULT_NOASSERT=!1,t.Long=e||null;var n=t.prototype;n.__isByteBuffer__,Object.defineProperty(n,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var r=new ArrayBuffer(0),i=String.fromCharCode;function o(e){var t=0;return function(){return t<e.length?e.charCodeAt(t++):null}}function a(){var e=[],t=[];return function(){if(0===arguments.length)return t.join("")+i.apply(String,e);e.length+arguments.length>1024&&(t.push(i.apply(String,e)),e.length=0),Array.prototype.push.apply(e,arguments)}}function s(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,d=n?i-1:0,h=n?-1:1,f=e[t+d];for(d+=h,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+e[t+d],d+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+d],d+=h,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=u}return(f?-1:1)*a*Math.pow(2,o-r)}function l(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,d=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+f]=255&s,f+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+f]=255&a,f+=p,a/=256,u-=8);e[n+f-p]|=128*g}t.accessor=function(){return Uint8Array},t.allocate=function(e,n,r){return new t(e,n,r)},t.concat=function(e,n,r,i){"boolean"!==typeof n&&"string"===typeof n||(i=r,r=n,n=void 0);for(var o,a=0,s=0,l=e.length;s<l;++s)t.isByteBuffer(e[s])||(e[s]=t.wrap(e[s],n)),(o=e[s].limit-e[s].offset)>0&&(a+=o);if(0===a)return new t(0,r,i);var u,c=new t(a,r,i);for(s=0;s<l;)(o=(u=e[s++]).limit-u.offset)<=0||(c.view.set(u.view.subarray(u.offset,u.limit),c.offset),c.offset+=o);return c.limit=c.offset,c.offset=0,c},t.isByteBuffer=function(e){return!0===(e&&e.__isByteBuffer__)},t.type=function(){return ArrayBuffer},t.wrap=function(e,r,i,o){if("string"!==typeof r&&(o=i,i=r,r=void 0),"string"===typeof e)switch("undefined"===typeof r&&(r="utf8"),r){case"base64":return t.fromBase64(e,i);case"hex":return t.fromHex(e,i);case"binary":return t.fromBinary(e,i);case"utf8":return t.fromUTF8(e,i);case"debug":return t.fromDebug(e,i);default:throw Error("Unsupported encoding: "+r)}if(null===e||"object"!==typeof e)throw TypeError("Illegal buffer");var a;if(t.isByteBuffer(e))return(a=n.clone.call(e)).markedOffset=-1,a;if(e instanceof Uint8Array)a=new t(0,i,o),e.length>0&&(a.buffer=e.buffer,a.offset=e.byteOffset,a.limit=e.byteOffset+e.byteLength,a.view=new Uint8Array(e.buffer));else if(e instanceof ArrayBuffer)a=new t(0,i,o),e.byteLength>0&&(a.buffer=e,a.offset=0,a.limit=e.byteLength,a.view=e.byteLength>0?new Uint8Array(e):null);else{if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Illegal buffer");(a=new t(e.length,i,o)).limit=e.length;for(var s=0;s<e.length;++s)a.view[s]=e[s]}return a},n.writeBitSet=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if(!(e instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var r,i=t,o=e.length,a=o>>3,s=0;for(t+=this.writeVarint32(o,t);a--;)r=1&!!e[s++]|(1&!!e[s++])<<1|(1&!!e[s++])<<2|(1&!!e[s++])<<3|(1&!!e[s++])<<4|(1&!!e[s++])<<5|(1&!!e[s++])<<6|(1&!!e[s++])<<7,this.writeByte(r,t++);if(s<o){var l=0;for(r=0;s<o;)r|=(1&!!e[s++])<<l++;this.writeByte(r,t++)}return n?(this.offset=t,this):t-i},n.readBitSet=function(e){var t="undefined"===typeof e;t&&(e=this.offset);var n,r=this.readVarint32(e),i=r.value,o=i>>3,a=0,s=[];for(e+=r.length;o--;)n=this.readByte(e++),s[a++]=!!(1&n),s[a++]=!!(2&n),s[a++]=!!(4&n),s[a++]=!!(8&n),s[a++]=!!(16&n),s[a++]=!!(32&n),s[a++]=!!(64&n),s[a++]=!!(128&n);if(a<i){var l=0;for(n=this.readByte(e++);a<i;)s[a++]=!!(n>>l++&1)}return t&&(this.offset=e),s},n.readBytes=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+e+") <= "+this.buffer.byteLength)}var r=this.slice(t,t+e);return n&&(this.offset+=e),r},n.writeBytes=n.append,n.writeInt8=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=1,this.view[t]=e,n&&(this.offset+=1),this},n.writeByte=n.writeInt8,n.readInt8=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=this.view[e];return 128===(128&n)&&(n=-(255-n+1)),t&&(this.offset+=1),n},n.readByte=n.readInt8,n.writeUint8=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=1,this.view[t]=e,n&&(this.offset+=1),this},n.writeUInt8=n.writeUint8,n.readUint8=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=this.view[e];return t&&(this.offset+=1),n},n.readUInt8=n.readUint8,n.writeInt16=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),n&&(this.offset+=2),this},n.writeShort=n.writeInt16,n.readInt16=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[e],n|=this.view[e+1]<<8):(n=this.view[e]<<8,n|=this.view[e+1]),32768===(32768&n)&&(n=-(65535-n+1)),t&&(this.offset+=2),n},n.readShort=n.readInt16,n.writeUint16=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),n&&(this.offset+=2),this},n.writeUInt16=n.writeUint16,n.readUint16=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[e],n|=this.view[e+1]<<8):(n=this.view[e]<<8,n|=this.view[e+1]),t&&(this.offset+=2),n},n.readUInt16=n.readUint16,n.writeInt32=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),n&&(this.offset+=4),this},n.writeInt=n.writeInt32,n.readInt32=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0):(n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0),n|=0,t&&(this.offset+=4),n},n.readInt=n.readInt32,n.writeUint32=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),n&&(this.offset+=4),this},n.writeUInt32=n.writeUint32,n.readUint32=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0):(n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0),t&&(this.offset+=4),n},n.readUInt32=n.readUint32,e&&(n.writeInt64=function(t,n){var r="undefined"===typeof n;if(r&&(n=this.offset),!this.noAssert){if("number"===typeof t)t=e.fromNumber(t);else if("string"===typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!==typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"===typeof t?t=e.fromNumber(t):"string"===typeof t&&(t=e.fromString(t)),n+=8;var i=this.buffer.byteLength;n>i&&this.resize((i*=2)>n?i:n),n-=8;var o=t.low,a=t.high;return this.littleEndian?(this.view[n+3]=o>>>24&255,this.view[n+2]=o>>>16&255,this.view[n+1]=o>>>8&255,this.view[n]=255&o,n+=4,this.view[n+3]=a>>>24&255,this.view[n+2]=a>>>16&255,this.view[n+1]=a>>>8&255,this.view[n]=255&a):(this.view[n]=a>>>24&255,this.view[n+1]=a>>>16&255,this.view[n+2]=a>>>8&255,this.view[n+3]=255&a,n+=4,this.view[n]=o>>>24&255,this.view[n+1]=o>>>16&255,this.view[n+2]=o>>>8&255,this.view[n+3]=255&o),r&&(this.offset+=8),this},n.writeLong=n.writeInt64,n.readInt64=function(t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=0,i=0;this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0,t+=4,i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0):(i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0,t+=4,r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0);var o=new e(r,i,!1);return n&&(this.offset+=8),o},n.readLong=n.readInt64,n.writeUint64=function(t,n){var r="undefined"===typeof n;if(r&&(n=this.offset),!this.noAssert){if("number"===typeof t)t=e.fromNumber(t);else if("string"===typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!==typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"===typeof t?t=e.fromNumber(t):"string"===typeof t&&(t=e.fromString(t)),n+=8;var i=this.buffer.byteLength;n>i&&this.resize((i*=2)>n?i:n),n-=8;var o=t.low,a=t.high;return this.littleEndian?(this.view[n+3]=o>>>24&255,this.view[n+2]=o>>>16&255,this.view[n+1]=o>>>8&255,this.view[n]=255&o,n+=4,this.view[n+3]=a>>>24&255,this.view[n+2]=a>>>16&255,this.view[n+1]=a>>>8&255,this.view[n]=255&a):(this.view[n]=a>>>24&255,this.view[n+1]=a>>>16&255,this.view[n+2]=a>>>8&255,this.view[n+3]=255&a,n+=4,this.view[n]=o>>>24&255,this.view[n+1]=o>>>16&255,this.view[n+2]=o>>>8&255,this.view[n+3]=255&o),r&&(this.offset+=8),this},n.writeUInt64=n.writeUint64,n.readUint64=function(t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=0,i=0;this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0,t+=4,i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0):(i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0,t+=4,r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0);var o=new e(r,i,!0);return n&&(this.offset+=8),o},n.readUInt64=n.readUint64),n.writeFloat32=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=4,l(this.view,e,t,this.littleEndian,23,4),n&&(this.offset+=4),this},n.writeFloat=n.writeFloat32,n.readFloat32=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=s(this.view,e,this.littleEndian,23,4);return t&&(this.offset+=4),n},n.readFloat=n.readFloat32,n.writeFloat64=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=8;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=8,l(this.view,e,t,this.littleEndian,52,8),n&&(this.offset+=8),this},n.writeDouble=n.writeFloat64,n.readFloat64=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var n=s(this.view,e,this.littleEndian,52,8);return t&&(this.offset+=8),n},n.readDouble=n.readFloat64,t.MAX_VARINT32_BYTES=5,t.calculateVarint32=function(e){return(e>>>=0)<128?1:e<16384?2:e<1<<21?3:e<1<<28?4:5},t.zigZagEncode32=function(e){return((e|=0)<<1^e>>31)>>>0},t.zigZagDecode32=function(e){return e>>>1^-(1&e)|0},n.writeVarint32=function(e,n){var r="undefined"===typeof n;if(r&&(n=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!==typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var i,o=t.calculateVarint32(e);n+=o;var a=this.buffer.byteLength;for(n>a&&this.resize((a*=2)>n?a:n),n-=o,e>>>=0;e>=128;)i=127&e|128,this.view[n++]=i,e>>>=7;return this.view[n++]=e,r?(this.offset=n,this):o},n.writeVarint32ZigZag=function(e,n){return this.writeVarint32(t.zigZagEncode32(e),n)},n.readVarint32=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n,r=0,i=0;do{if(!this.noAssert&&e>this.limit){var o=Error("Truncated");throw o.truncated=!0,o}n=this.view[e++],r<5&&(i|=(127&n)<<7*r),++r}while(0!==(128&n));return i|=0,t?(this.offset=e,i):{value:i,length:r}},n.readVarint32ZigZag=function(e){var n=this.readVarint32(e);return"object"===typeof n?n.value=t.zigZagDecode32(n.value):n=t.zigZagDecode32(n),n},e&&(t.MAX_VARINT64_BYTES=10,t.calculateVarint64=function(t){"number"===typeof t?t=e.fromNumber(t):"string"===typeof t&&(t=e.fromString(t));var n=t.toInt()>>>0,r=t.shiftRightUnsigned(28).toInt()>>>0,i=t.shiftRightUnsigned(56).toInt()>>>0;return 0==i?0==r?n<16384?n<128?1:2:n<1<<21?3:4:r<16384?r<128?5:6:r<1<<21?7:8:i<128?9:10},t.zigZagEncode64=function(t){return"number"===typeof t?t=e.fromNumber(t,!1):"string"===typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftLeft(1).xor(t.shiftRight(63)).toUnsigned()},t.zigZagDecode64=function(t){return"number"===typeof t?t=e.fromNumber(t,!1):"string"===typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftRightUnsigned(1).xor(t.and(e.ONE).toSigned().negate()).toSigned()},n.writeVarint64=function(n,r){var i="undefined"===typeof r;if(i&&(r=this.offset),!this.noAssert){if("number"===typeof n)n=e.fromNumber(n);else if("string"===typeof n)n=e.fromString(n);else if(!(n&&n instanceof e))throw TypeError("Illegal value: "+n+" (not an integer or Long)");if("number"!==typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"===typeof n?n=e.fromNumber(n,!1):"string"===typeof n?n=e.fromString(n,!1):!1!==n.unsigned&&(n=n.toSigned());var o=t.calculateVarint64(n),a=n.toInt()>>>0,s=n.shiftRightUnsigned(28).toInt()>>>0,l=n.shiftRightUnsigned(56).toInt()>>>0;r+=o;var u=this.buffer.byteLength;switch(r>u&&this.resize((u*=2)>r?u:r),r-=o,o){case 10:this.view[r+9]=l>>>7&1;case 9:this.view[r+8]=9!==o?128|l:127&l;case 8:this.view[r+7]=8!==o?s>>>21|128:s>>>21&127;case 7:this.view[r+6]=7!==o?s>>>14|128:s>>>14&127;case 6:this.view[r+5]=6!==o?s>>>7|128:s>>>7&127;case 5:this.view[r+4]=5!==o?128|s:127&s;case 4:this.view[r+3]=4!==o?a>>>21|128:a>>>21&127;case 3:this.view[r+2]=3!==o?a>>>14|128:a>>>14&127;case 2:this.view[r+1]=2!==o?a>>>7|128:a>>>7&127;case 1:this.view[r]=1!==o?128|a:127&a}return i?(this.offset+=o,this):o},n.writeVarint64ZigZag=function(e,n){return this.writeVarint64(t.zigZagEncode64(e),n)},n.readVarint64=function(t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=t,i=0,o=0,a=0,s=0;if(i=127&(s=this.view[t++]),128&s&&(i|=(127&(s=this.view[t++]))<<7,(128&s||this.noAssert&&"undefined"===typeof s)&&(i|=(127&(s=this.view[t++]))<<14,(128&s||this.noAssert&&"undefined"===typeof s)&&(i|=(127&(s=this.view[t++]))<<21,(128&s||this.noAssert&&"undefined"===typeof s)&&(o=127&(s=this.view[t++]),(128&s||this.noAssert&&"undefined"===typeof s)&&(o|=(127&(s=this.view[t++]))<<7,(128&s||this.noAssert&&"undefined"===typeof s)&&(o|=(127&(s=this.view[t++]))<<14,(128&s||this.noAssert&&"undefined"===typeof s)&&(o|=(127&(s=this.view[t++]))<<21,(128&s||this.noAssert&&"undefined"===typeof s)&&(a=127&(s=this.view[t++]),(128&s||this.noAssert&&"undefined"===typeof s)&&(a|=(127&(s=this.view[t++]))<<7,128&s||this.noAssert&&"undefined"===typeof s))))))))))throw Error("Buffer overrun");var l=e.fromBits(i|o<<28,o>>>4|a<<24,!1);return n?(this.offset=t,l):{value:l,length:t-r}},n.readVarint64ZigZag=function(n){var r=this.readVarint64(n);return r&&r.value instanceof e?r.value=t.zigZagDecode64(r.value):r=t.zigZagDecode64(r),r}),n.writeCString=function(e,t){var n="undefined"===typeof t;n&&(t=this.offset);var r,i=e.length;if(!this.noAssert){if("string"!==typeof e)throw TypeError("Illegal str: Not a string");for(r=0;r<i;++r)if(0===e.charCodeAt(r))throw RangeError("Illegal str: Contains NULL-characters");if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}i=c.calculateUTF16asUTF8(o(e))[1],t+=i+1;var a=this.buffer.byteLength;return t>a&&this.resize((a*=2)>t?a:t),t-=i+1,c.encodeUTF16toUTF8(o(e),function(e){this.view[t++]=e}.bind(this)),this.view[t++]=0,n?(this.offset=t,this):i},n.readCString=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n,r=e,i=-1;return c.decodeUTF8toUTF16(function(){if(0===i)return null;if(e>=this.limit)throw RangeError("Illegal range: Truncated data, "+e+" < "+this.limit);return 0===(i=this.view[e++])?null:i}.bind(this),n=a(),!0),t?(this.offset=e,n()):{string:n(),length:e-r}},n.writeIString=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("string"!==typeof e)throw TypeError("Illegal str: Not a string");if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var r,i=t;r=c.calculateUTF16asUTF8(o(e),this.noAssert)[1],t+=4+r;var a=this.buffer.byteLength;if(t>a&&this.resize((a*=2)>t?a:t),t-=4+r,this.littleEndian?(this.view[t+3]=r>>>24&255,this.view[t+2]=r>>>16&255,this.view[t+1]=r>>>8&255,this.view[t]=255&r):(this.view[t]=r>>>24&255,this.view[t+1]=r>>>16&255,this.view[t+2]=r>>>8&255,this.view[t+3]=255&r),t+=4,c.encodeUTF16toUTF8(o(e),function(e){this.view[t++]=e}.bind(this)),t!==i+4+r)throw RangeError("Illegal range: Truncated data, "+t+" == "+(t+4+r));return n?(this.offset=t,this):t-i},n.readIString=function(e){var n="undefined"===typeof e;if(n&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=e,i=this.readUint32(e),o=this.readUTF8String(i,t.METRICS_BYTES,e+=4);return e+=o.length,n?(this.offset=e,o.string):{string:o.string,length:e-r}},t.METRICS_CHARS="c",t.METRICS_BYTES="b",n.writeUTF8String=function(e,t){var n,r="undefined"===typeof t;if(r&&(t=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i=t;n=c.calculateUTF16asUTF8(o(e))[1],t+=n;var a=this.buffer.byteLength;return t>a&&this.resize((a*=2)>t?a:t),t-=n,c.encodeUTF16toUTF8(o(e),function(e){this.view[t++]=e}.bind(this)),r?(this.offset=t,this):t-i},n.writeString=n.writeUTF8String,t.calculateUTF8Chars=function(e){return c.calculateUTF16asUTF8(o(e))[0]},t.calculateUTF8Bytes=function(e){return c.calculateUTF16asUTF8(o(e))[1]},t.calculateString=t.calculateUTF8Bytes,n.readUTF8String=function(e,n,r){"number"===typeof n&&(r=n,n=void 0);var i="undefined"===typeof r;if(i&&(r=this.offset),"undefined"===typeof n&&(n=t.METRICS_CHARS),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal length: "+e+" (not an integer)");if(e|=0,"number"!==typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var o,s=0,l=r;if(n===t.METRICS_CHARS){if(o=a(),c.decodeUTF8(function(){return s<e&&r<this.limit?this.view[r++]:null}.bind(this),(function(e){++s,c.UTF8toUTF16(e,o)})),s!==e)throw RangeError("Illegal range: Truncated data, "+s+" == "+e);return i?(this.offset=r,o()):{string:o(),length:r-l}}if(n===t.METRICS_BYTES){if(!this.noAssert){if("number"!==typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+"+e+") <= "+this.buffer.byteLength)}var u=r+e;if(c.decodeUTF8toUTF16(function(){return r<u?this.view[r++]:null}.bind(this),o=a(),this.noAssert),r!==u)throw RangeError("Illegal range: Truncated data, "+r+" == "+u);return i?(this.offset=r,o()):{string:o(),length:r-l}}throw TypeError("Unsupported metrics: "+n)},n.readString=n.readUTF8String,n.writeVString=function(e,n){var r="undefined"===typeof n;if(r&&(n=this.offset),!this.noAssert){if("string"!==typeof e)throw TypeError("Illegal str: Not a string");if("number"!==typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var i,a,s=n;i=c.calculateUTF16asUTF8(o(e),this.noAssert)[1],a=t.calculateVarint32(i),n+=a+i;var l=this.buffer.byteLength;if(n>l&&this.resize((l*=2)>n?l:n),n-=a+i,n+=this.writeVarint32(i,n),c.encodeUTF16toUTF8(o(e),function(e){this.view[n++]=e}.bind(this)),n!==s+i+a)throw RangeError("Illegal range: Truncated data, "+n+" == "+(n+i+a));return r?(this.offset=n,this):n-s},n.readVString=function(e){var n="undefined"===typeof e;if(n&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=e,i=this.readVarint32(e),o=this.readUTF8String(i.value,t.METRICS_BYTES,e+=i.length);return e+=o.length,n?(this.offset=e,o.string):{string:o.string,length:e-r}},n.append=function(e,n,r){"number"!==typeof n&&"string"===typeof n||(r=n,n=void 0);var i="undefined"===typeof r;if(i&&(r=this.offset),!this.noAssert){if("number"!==typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof t||(e=t.wrap(e,n));var o=e.limit-e.offset;if(o<=0)return this;r+=o;var a=this.buffer.byteLength;return r>a&&this.resize((a*=2)>r?a:r),r-=o,this.view.set(e.view.subarray(e.offset,e.limit),r),e.offset+=o,i&&(this.offset+=o),this},n.appendTo=function(e,t){return e.append(this,t),this},n.assert=function(e){return this.noAssert=!e,this},n.capacity=function(){return this.buffer.byteLength},n.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},n.clone=function(e){var n=new t(0,this.littleEndian,this.noAssert);return e?(n.buffer=new ArrayBuffer(this.buffer.byteLength),n.view=new Uint8Array(n.buffer)):(n.buffer=this.buffer,n.view=this.view),n.offset=this.offset,n.markedOffset=this.markedOffset,n.limit=this.limit,n},n.compact=function(e,t){if("undefined"===typeof e&&(e=this.offset),"undefined"===typeof t&&(t=this.limit),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(0===e&&t===this.buffer.byteLength)return this;var n=t-e;if(0===n)return this.buffer=r,this.view=null,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=0,this;var i=new ArrayBuffer(n),o=new Uint8Array(i);return o.set(this.view.subarray(e,t)),this.buffer=i,this.view=o,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=n,this},n.copy=function(e,n){if("undefined"===typeof e&&(e=this.offset),"undefined"===typeof n&&(n=this.limit),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!==typeof n||n%1!==0)throw TypeError("Illegal end: Not an integer");if(n>>>=0,e<0||e>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+n+" <= "+this.buffer.byteLength)}if(e===n)return new t(0,this.littleEndian,this.noAssert);var r=n-e,i=new t(r,this.littleEndian,this.noAssert);return i.offset=0,i.limit=r,i.markedOffset>=0&&(i.markedOffset-=e),this.copyTo(i,0,e,n),i},n.copyTo=function(e,n,r,i){var o,a;if(!this.noAssert&&!t.isByteBuffer(e))throw TypeError("Illegal target: Not a ByteBuffer");if(n=(a="undefined"===typeof n)?e.offset:0|n,r=(o="undefined"===typeof r)?this.offset:0|r,i="undefined"===typeof i?this.limit:0|i,n<0||n>e.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+n+" <= "+e.buffer.byteLength);if(r<0||i>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+r+" <= "+this.buffer.byteLength);var s=i-r;return 0===s?e:(e.ensureCapacity(n+s),e.view.set(this.view.subarray(r,i),n),o&&(this.offset+=s),a&&(e.offset+=s),this)},n.ensureCapacity=function(e){var t=this.buffer.byteLength;return t<e?this.resize((t*=2)>e?t:e):this},n.fill=function(e,t,n){var r="undefined"===typeof t;if(r&&(t=this.offset),"string"===typeof e&&e.length>0&&(e=e.charCodeAt(0)),"undefined"===typeof t&&(t=this.offset),"undefined"===typeof n&&(n=this.limit),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!==typeof n||n%1!==0)throw TypeError("Illegal end: Not an integer");if(n>>>=0,t<0||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}if(t>=n)return this;for(;t<n;)this.view[t++]=e;return r&&(this.offset=t),this},n.flip=function(){return this.limit=this.offset,this.offset=0,this},n.mark=function(e){if(e="undefined"===typeof e?this.offset:e,!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=e,this},n.order=function(e){if(!this.noAssert&&"boolean"!==typeof e)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!e,this},n.LE=function(e){return this.littleEndian="undefined"===typeof e||!!e,this},n.BE=function(e){return this.littleEndian="undefined"!==typeof e&&!e,this},n.prepend=function(e,n,r){"number"!==typeof n&&"string"===typeof n||(r=n,n=void 0);var i="undefined"===typeof r;if(i&&(r=this.offset),!this.noAssert){if("number"!==typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof t||(e=t.wrap(e,n));var o=e.limit-e.offset;if(o<=0)return this;var a=o-r;if(a>0){var s=new ArrayBuffer(this.buffer.byteLength+a),l=new Uint8Array(s);l.set(this.view.subarray(r,this.buffer.byteLength),o),this.buffer=s,this.view=l,this.offset+=a,this.markedOffset>=0&&(this.markedOffset+=a),this.limit+=a,r+=a}else new Uint8Array(this.buffer);return this.view.set(e.view.subarray(e.offset,e.limit),r-o),e.offset=e.limit,i&&(this.offset-=o),this},n.prependTo=function(e,t){return e.prepend(this,t),this},n.printDebug=function(e){"function"!==typeof e&&(e=console.log.bind(console)),e(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},n.remaining=function(){return this.limit-this.offset},n.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},n.resize=function(e){if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal capacity: "+e+" (not an integer)");if((e|=0)<0)throw RangeError("Illegal capacity: 0 <= "+e)}if(this.buffer.byteLength<e){var t=new ArrayBuffer(e),n=new Uint8Array(t);n.set(this.view),this.buffer=t,this.view=n}return this},n.reverse=function(e,t){if("undefined"===typeof e&&(e=this.offset),"undefined"===typeof t&&(t=this.limit),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}return e===t||Array.prototype.reverse.call(this.view.subarray(e,t)),this},n.skip=function(e){if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal length: "+e+" (not an integer)");e|=0}var t=this.offset+e;if(!this.noAssert&&(t<0||t>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+e+" <= "+this.buffer.byteLength);return this.offset=t,this},n.slice=function(e,t){if("undefined"===typeof e&&(e=this.offset),"undefined"===typeof t&&(t=this.limit),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var n=this.clone();return n.offset=e,n.limit=t,n},n.toBuffer=function(e){var t=this.offset,n=this.limit;if(!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: Not an integer");if(t>>>=0,"number"!==typeof n||n%1!==0)throw TypeError("Illegal limit: Not an integer");if(n>>>=0,t<0||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}if(!e&&0===t&&n===this.buffer.byteLength)return this.buffer;if(t===n)return r;var i=new ArrayBuffer(n-t);return new Uint8Array(i).set(new Uint8Array(this.buffer).subarray(t,n),0),i},n.toArrayBuffer=n.toBuffer,n.toString=function(e,t,n){if("undefined"===typeof e)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"===typeof e&&(n=t=e="utf8"),e){case"utf8":return this.toUTF8(t,n);case"base64":return this.toBase64(t,n);case"hex":return this.toHex(t,n);case"binary":return this.toBinary(t,n);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+e)}};var u=function(){for(var e={},t=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],n=[],r=0,i=t.length;r<i;++r)n[t[r]]=r;return e.encode=function(e,n){for(var r,i;null!==(r=e());)n(t[r>>2&63]),i=(3&r)<<4,null!==(r=e())?(n(t[63&((i|=r>>4&15)|r>>4&15)]),i=(15&r)<<2,null!==(r=e())?(n(t[63&(i|r>>6&3)]),n(t[63&r])):(n(t[63&i]),n(61))):(n(t[63&i]),n(61),n(61))},e.decode=function(e,t){var r,i,o;function a(e){throw Error("Illegal character code: "+e)}for(;null!==(r=e());)if("undefined"===typeof(i=n[r])&&a(r),null!==(r=e())&&("undefined"===typeof(o=n[r])&&a(r),t(i<<2>>>0|(48&o)>>4),null!==(r=e()))){if("undefined"===typeof(i=n[r])){if(61===r)break;a(r)}if(t((15&o)<<4>>>0|(60&i)>>2),null!==(r=e())){if("undefined"===typeof(o=n[r])){if(61===r)break;a(r)}t((3&i)<<6>>>0|o)}}},e.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)},e}();n.toBase64=function(e,t){if("undefined"===typeof e&&(e=this.offset),"undefined"===typeof t&&(t=this.limit),t|=0,(e|=0)<0||t>this.capacity||e>t)throw RangeError("begin, end");var n;return u.encode(function(){return e<t?this.view[e++]:null}.bind(this),n=a()),n()},t.fromBase64=function(e,n){if("string"!==typeof e)throw TypeError("str");var r=new t(e.length/4*3,n),i=0;return u.decode(o(e),(function(e){r.view[i++]=e})),r.limit=i,r},t.btoa=function(e){return t.fromBinary(e).toBase64()},t.atob=function(e){return t.fromBase64(e).toBinary()},n.toBinary=function(e,t){if("undefined"===typeof e&&(e=this.offset),"undefined"===typeof t&&(t=this.limit),t|=0,(e|=0)<0||t>this.capacity()||e>t)throw RangeError("begin, end");if(e===t)return"";for(var n=[],r=[];e<t;)n.push(this.view[e++]),n.length>=1024&&(r.push(String.fromCharCode.apply(String,n)),n=[]);return r.join("")+String.fromCharCode.apply(String,n)},t.fromBinary=function(e,n){if("string"!==typeof e)throw TypeError("str");for(var r,i=0,o=e.length,a=new t(o,n);i<o;){if((r=e.charCodeAt(i))>255)throw RangeError("illegal char code: "+r);a.view[i++]=r}return a.limit=o,a},n.toDebug=function(e){for(var t,n=-1,r=this.buffer.byteLength,i="",o="",a="";n<r;){if(-1!==n&&(i+=(t=this.view[n])<16?"0"+t.toString(16).toUpperCase():t.toString(16).toUpperCase(),e&&(o+=t>32&&t<127?String.fromCharCode(t):".")),++n,e&&n>0&&n%16===0&&n!==r){for(;i.length<51;)i+=" ";a+=i+o+"\n",i=o=""}n===this.offset&&n===this.limit?i+=n===this.markedOffset?"!":"|":n===this.offset?i+=n===this.markedOffset?"[":"<":n===this.limit?i+=n===this.markedOffset?"]":">":i+=n===this.markedOffset?"'":e||0!==n&&n!==r?" ":""}if(e&&" "!==i){for(;i.length<51;)i+=" ";a+=i+o+"\n"}return e?a:i},t.fromDebug=function(e,n,r){for(var i,o,a=e.length,s=new t((a+1)/3|0,n,r),l=0,u=0,c=!1,d=!1,h=!1,f=!1,p=!1;l<a;){switch(i=e.charAt(l++)){case"!":if(!r){if(d||h||f){p=!0;break}d=h=f=!0}s.offset=s.markedOffset=s.limit=u,c=!1;break;case"|":if(!r){if(d||f){p=!0;break}d=f=!0}s.offset=s.limit=u,c=!1;break;case"[":if(!r){if(d||h){p=!0;break}d=h=!0}s.offset=s.markedOffset=u,c=!1;break;case"<":if(!r){if(d){p=!0;break}d=!0}s.offset=u,c=!1;break;case"]":if(!r){if(f||h){p=!0;break}f=h=!0}s.limit=s.markedOffset=u,c=!1;break;case">":if(!r){if(f){p=!0;break}f=!0}s.limit=u,c=!1;break;case"'":if(!r){if(h){p=!0;break}h=!0}s.markedOffset=u,c=!1;break;case" ":c=!1;break;default:if(!r&&c){p=!0;break}if(o=parseInt(i+e.charAt(l++),16),!r&&(isNaN(o)||o<0||o>255))throw TypeError("Illegal str: Not a debug encoded string");s.view[u++]=o,c=!0}if(p)throw TypeError("Illegal str: Invalid symbol at "+l)}if(!r){if(!d||!f)throw TypeError("Illegal str: Missing offset or limit");if(u<s.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+u+" < "+a)}return s},n.toHex=function(e,t){if(e="undefined"===typeof e?this.offset:e,t="undefined"===typeof t?this.limit:t,!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}for(var n,r=new Array(t-e);e<t;)(n=this.view[e++])<16?r.push("0",n.toString(16)):r.push(n.toString(16));return r.join("")},t.fromHex=function(e,n,r){if(!r){if("string"!==typeof e)throw TypeError("Illegal str: Not a string");if(e.length%2!==0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var i,o=e.length,a=new t(o/2|0,n),s=0,l=0;s<o;s+=2){if(i=parseInt(e.substring(s,s+2),16),!r&&(!isFinite(i)||i<0||i>255))throw TypeError("Illegal str: Contains non-hex characters");a.view[l++]=i}return a.limit=l,a};var c=function(){var e={MAX_CODEPOINT:1114111,encodeUTF8:function(e,t){var n=null;for("number"===typeof e&&(n=e,e=function(){return null});null!==n||null!==(n=e());)n<128?t(127&n):n<2048?(t(n>>6&31|192),t(63&n|128)):n<65536?(t(n>>12&15|224),t(n>>6&63|128),t(63&n|128)):(t(n>>18&7|240),t(n>>12&63|128),t(n>>6&63|128),t(63&n|128)),n=null},decodeUTF8:function(e,t){for(var n,r,i,o,a=function(e){e=e.slice(0,e.indexOf(null));var t=Error(e.toString());throw t.name="TruncatedError",t.bytes=e,t};null!==(n=e());)if(0===(128&n))t(n);else if(192===(224&n))null===(r=e())&&a([n,r]),t((31&n)<<6|63&r);else if(224===(240&n))(null===(r=e())||null===(i=e()))&&a([n,r,i]),t((15&n)<<12|(63&r)<<6|63&i);else{if(240!==(248&n))throw RangeError("Illegal starting byte: "+n);(null===(r=e())||null===(i=e())||null===(o=e()))&&a([n,r,i,o]),t((7&n)<<18|(63&r)<<12|(63&i)<<6|63&o)}},UTF16toUTF8:function(e,t){for(var n,r=null;null!==(n=null!==r?r:e());)n>=55296&&n<=57343&&null!==(r=e())&&r>=56320&&r<=57343?(t(1024*(n-55296)+r-56320+65536),r=null):t(n);null!==r&&t(r)},UTF8toUTF16:function(e,t){var n=null;for("number"===typeof e&&(n=e,e=function(){return null});null!==n||null!==(n=e());)n<=65535?t(n):(t(55296+((n-=65536)>>10)),t(n%1024+56320)),n=null},encodeUTF16toUTF8:function(t,n){e.UTF16toUTF8(t,(function(t){e.encodeUTF8(t,n)}))},decodeUTF8toUTF16:function(t,n){e.decodeUTF8(t,(function(t){e.UTF8toUTF16(t,n)}))},calculateCodePoint:function(e){return e<128?1:e<2048?2:e<65536?3:4},calculateUTF8:function(e){for(var t,n=0;null!==(t=e());)n+=t<128?1:t<2048?2:t<65536?3:4;return n},calculateUTF16asUTF8:function(t){var n=0,r=0;return e.UTF16toUTF8(t,(function(e){++n,r+=e<128?1:e<2048?2:e<65536?3:4})),[n,r]}};return e}();return n.toUTF8=function(e,t){if("undefined"===typeof e&&(e=this.offset),"undefined"===typeof t&&(t=this.limit),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var n;try{c.decodeUTF8toUTF16(function(){return e<t?this.view[e++]:null}.bind(this),n=a())}catch(r){if(e!==t)throw RangeError("Illegal range: Truncated data, "+e+" != "+t)}return n()},t.fromUTF8=function(e,n,r){if(!r&&"string"!==typeof e)throw TypeError("Illegal str: Not a string");var i=new t(c.calculateUTF16asUTF8(o(e),!0)[1],n,r),a=0;return c.encodeUTF16toUTF8(o(e),(function(e){i.view[a++]=e})),i.limit=a,i},t})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i;void 0===(i="function"===typeof(r=function(){"use strict";function e(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function t(e){return!0===(e&&e.__isLong__)}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),e.isLong=t;var n={},r={};function i(e,t){var i,o,s;return t?(s=0<=(e>>>=0)&&e<256)&&(o=r[e])?o:(i=a(e,(0|e)<0?-1:0,!0),s&&(r[e]=i),i):(s=-128<=(e|=0)&&e<128)&&(o=n[e])?o:(i=a(e,e<0?-1:0,!1),s&&(n[e]=i),i)}function o(e,t){if(isNaN(e)||!isFinite(e))return t?g:p;if(t){if(e<0)return g;if(e>=d)return _}else{if(e<=-h)return C;if(e+1>=h)return b}return e<0?o(-e,t).neg():a(e%c|0,e/c|0,t)}function a(t,n,r){return new e(t,n,r)}e.fromInt=i,e.fromNumber=o,e.fromBits=a;var s=Math.pow;function l(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return p;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return l(e.substring(1),t,n).neg();for(var i=o(s(n,8)),a=p,u=0;u<e.length;u+=8){var c=Math.min(8,e.length-u),d=parseInt(e.substring(u,u+c),n);if(c<8){var h=o(s(n,c));a=a.mul(h).add(o(d))}else a=(a=a.mul(i)).add(o(d))}return a.unsigned=t,a}function u(t){return t instanceof e?t:"number"===typeof t?o(t):"string"===typeof t?l(t):a(t.low,t.high,t.unsigned)}e.fromString=l,e.fromValue=u;var c=4294967296,d=c*c,h=d/2,f=i(1<<24),p=i(0);e.ZERO=p;var g=i(0,!0);e.UZERO=g;var y=i(1);e.ONE=y;var v=i(1,!0);e.UONE=v;var m=i(-1);e.NEG_ONE=m;var b=a(-1,2147483647,!1);e.MAX_VALUE=b;var _=a(-1,-1,!0);e.MAX_UNSIGNED_VALUE=_;var C=a(0,-2147483648,!1);e.MIN_VALUE=C;var I=e.prototype;return I.toInt=function(){return this.unsigned?this.low>>>0:this.low},I.toNumber=function(){return this.unsigned?(this.high>>>0)*c+(this.low>>>0):this.high*c+(this.low>>>0)},I.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(C)){var t=o(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=o(s(e,6),this.unsigned),a=this,l="";;){var u=a.div(i),c=(a.sub(u.mul(i)).toInt()>>>0).toString(e);if((a=u).isZero())return c+l;for(;c.length<6;)c="0"+c;l=""+c+l}},I.getHighBits=function(){return this.high},I.getHighBitsUnsigned=function(){return this.high>>>0},I.getLowBits=function(){return this.low},I.getLowBitsUnsigned=function(){return this.low>>>0},I.getNumBitsAbs=function(){if(this.isNegative())return this.eq(C)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},I.isZero=function(){return 0===this.high&&0===this.low},I.isNegative=function(){return!this.unsigned&&this.high<0},I.isPositive=function(){return this.unsigned||this.high>=0},I.isOdd=function(){return 1===(1&this.low)},I.isEven=function(){return 0===(1&this.low)},I.equals=function(e){return t(e)||(e=u(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&this.high===e.high&&this.low===e.low},I.eq=I.equals,I.notEquals=function(e){return!this.eq(e)},I.neq=I.notEquals,I.lessThan=function(e){return this.comp(e)<0},I.lt=I.lessThan,I.lessThanOrEqual=function(e){return this.comp(e)<=0},I.lte=I.lessThanOrEqual,I.greaterThan=function(e){return this.comp(e)>0},I.gt=I.greaterThan,I.greaterThanOrEqual=function(e){return this.comp(e)>=0},I.gte=I.greaterThanOrEqual,I.compare=function(e){if(t(e)||(e=u(e)),this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},I.comp=I.compare,I.negate=function(){return!this.unsigned&&this.eq(C)?C:this.not().add(y)},I.neg=I.negate,I.add=function(e){t(e)||(e=u(e));var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,o=65535&this.low,s=e.high>>>16,l=65535&e.high,c=e.low>>>16,d=0,h=0,f=0,p=0;return f+=(p+=o+(65535&e.low))>>>16,h+=(f+=i+c)>>>16,d+=(h+=r+l)>>>16,d+=n+s,a((f&=65535)<<16|(p&=65535),(d&=65535)<<16|(h&=65535),this.unsigned)},I.subtract=function(e){return t(e)||(e=u(e)),this.add(e.neg())},I.sub=I.subtract,I.multiply=function(e){if(this.isZero())return p;if(t(e)||(e=u(e)),e.isZero())return p;if(this.eq(C))return e.isOdd()?C:p;if(e.eq(C))return this.isOdd()?C:p;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(f)&&e.lt(f))return o(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,s=65535&this.low,l=e.high>>>16,c=65535&e.high,d=e.low>>>16,h=65535&e.low,g=0,y=0,v=0,m=0;return v+=(m+=s*h)>>>16,y+=(v+=i*h)>>>16,v&=65535,y+=(v+=s*d)>>>16,g+=(y+=r*h)>>>16,y&=65535,g+=(y+=i*d)>>>16,y&=65535,g+=(y+=s*c)>>>16,g+=n*h+r*d+i*c+s*l,a((v&=65535)<<16|(m&=65535),(g&=65535)<<16|(y&=65535),this.unsigned)},I.mul=I.multiply,I.divide=function(e){if(t(e)||(e=u(e)),e.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?g:p;var n,r,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return v;i=g}else{if(this.eq(C))return e.eq(y)||e.eq(m)?C:e.eq(C)?y:(n=this.shr(1).div(e).shl(1)).eq(p)?e.isNegative()?y:m:(r=this.sub(e.mul(n)),i=n.add(r.div(e)));if(e.eq(C))return this.unsigned?g:p;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=p}for(r=this;r.gte(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(n)/Math.LN2),l=a<=48?1:s(2,a-48),c=o(n),d=c.mul(e);d.isNegative()||d.gt(r);)d=(c=o(n-=l,this.unsigned)).mul(e);c.isZero()&&(c=y),i=i.add(c),r=r.sub(d)}return i},I.div=I.divide,I.modulo=function(e){return t(e)||(e=u(e)),this.sub(this.div(e).mul(e))},I.mod=I.modulo,I.not=function(){return a(~this.low,~this.high,this.unsigned)},I.and=function(e){return t(e)||(e=u(e)),a(this.low&e.low,this.high&e.high,this.unsigned)},I.or=function(e){return t(e)||(e=u(e)),a(this.low|e.low,this.high|e.high,this.unsigned)},I.xor=function(e){return t(e)||(e=u(e)),a(this.low^e.low,this.high^e.high,this.unsigned)},I.shiftLeft=function(e){return t(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?a(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):a(0,this.low<<e-32,this.unsigned)},I.shl=I.shiftLeft,I.shiftRight=function(e){return t(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?a(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):a(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},I.shr=I.shiftRight,I.shiftRightUnsigned=function(e){if(t(e)&&(e=e.toInt()),0===(e&=63))return this;var n=this.high;return e<32?a(this.low>>>e|n<<32-e,n>>>e,this.unsigned):a(32===e?n:n>>>e-32,0,this.unsigned)},I.shru=I.shiftRightUnsigned,I.toSigned=function(){return this.unsigned?a(this.low,this.high,!1):this},I.toUnsigned=function(){return this.unsigned?this:a(this.low,this.high,!0)},I.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},I.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24&255,255&e,e>>>8&255,e>>>16&255,e>>>24&255]},I.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t]},e})?r.apply(t,[]):r)||(e.exports=i)},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1542),t),i(n(1768),t),i(n(1783),t),i(n(1788),t),i(n(1792),t),i(n(1781),t),i(n(1784),t),i(n(1793),t),i(n(1556),t),i(n(1782),t),i(n(1794),t),i(n(1769),t),i(n(1772),t),i(n(1557),t),i(n(1775),t),i(n(1770),t),i(n(1771),t),i(n(1773),t),i(n(1774),t),i(n(1780),t),i(n(1795),t),i(n(1558),t),i(n(1789),t),i(n(1778),t),i(n(1796),t),i(n(1776),t),i(n(1777),t),i(n(1790),t),i(n(1798),t),i(n(1779),t),i(n(1791),t),i(n(1797),t),i(n(1799),t)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CRArray=void 0;var i=n(1543),o=n(1556),a=n(1558),s=n(1790),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._delegate=null,t._document=null,t._array=null,t._contents=null,t.moveClock=!1,t}return r(t,e),Object.defineProperty(t.prototype,"document",{get:function(){return this._document},set:function(e){this._document=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"delegate",{get:function(){return this._delegate},set:function(e){this._delegate=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"array",{get:function(){return this._array},set:function(e){this._array!==e&&(this._array&&this._array.release(),this._array=e.retain())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contents",{get:function(){return this._contents},set:function(e){this._contents!==e&&(this._contents&&this._contents.release(),this._contents=e.retain())},enumerable:!1,configurable:!0}),t.prototype.initWithDocument=function(e){var t=s.TTArray.alloc().initWithDocument(e).autorelease(),n=o.CRDictionary.alloc().initWithDocument(e).autorelease();return this.initWithTTArray_contents_document(t,n,e)},t.prototype.initWithTTArray_contents_document=function(e,t,n){return e.delegate=this,this.array=e,this.contents=t,this.document=n,this},t.prototype.free=function(){this.array.release(),this.contents.release(),this._array=null,this._contents=null,this._delegate=null,this._document=null,e.prototype.free.call(this)},t.prototype._push=function(e){return this._insert(e,this.length)},t.prototype._insert=function(e,t){return this._insertObjectWithIdentifier(e,a.CRUUID.UUID(),t)},t.prototype._insertObjectWithIdentifier=function(e,t,n){return this.array.insert(t,n),this.contents.set(t,e),t},Object.defineProperty(t.prototype,"length",{get:function(){return this.array.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"replicaUUID",{get:function(){return this.document.replica},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var t=this.array.get(e);return this.contents.get(t)},t.prototype.getWithIdentifier=function(e){return this.contents.get(e)},t.prototype.push=function(e){this._push(e)},t.prototype.insert=function(e,t){this._insert(e,t)},t.prototype.pop=function(){var e=this.length;e>0&&this.delete(e-1)},t.prototype.delete=function(e){var t=this.array.get(e);t&&(this.array.delete(e),this.contents.delete(t))},t.prototype.replace=function(e,t){this.delete(e),this.insert(t,e)},t.prototype.move=function(e,t){var n=this.array.get(e);n&&(this.array.delete(e),this.array.insert(n,t),this.moveClock=!0)},t.prototype.encode=function(e){return{contents:"array",array:this.encodeAsIArray(e)}},t.prototype.encodeAsIArray=function(e){return{array:this.array.encodeAsStringArray(e),dictionary:this.contents.encodeAsDictionary(e)}},t.decodeWithArray=function(e,n){var r=o.CRDictionary.decodeWithDictionary(e,n.dictionary),i=s.TTArray.decodeWithStringArray(e,n.array);return t.alloc().initWithTTArray_contents_document(i,r,e.document).autorelease()},t.prototype.mergeWith=function(e){if(!(e instanceof t))throw new TypeError("CRArray cannot merge with non-CRArray type.");this.array.mergeWith(e.array),this.contents.mergeWith(e.contents)},t.prototype.deltaSince=function(e,n){var r=this.array.deltaSince(e,n);if(!r)return null;var i=this.contents.deltaSince(e,n);return i?t.alloc().initWithTTArray_contents_document(r,i,n).autorelease():null},t.prototype.realizeLocalChanges=function(e){this.array.realizeLocalChanges(e),this.contents.realizeLocalChanges(e),this.moveClock&&(e.unserializedReplicaClock=e.unserializedReplicaClock+1),this.moveClock=!1},Object.defineProperty(t.prototype,"tombstone",{get:function(){var e=this.array.tombstone,n=this.contents.tombstone;return t.alloc().initWithTTArray_contents_document(e,n,this.document).autorelease()},enumerable:!1,configurable:!0}),t.prototype.walkGraph=function(e){this.array.walkGraph(e),this.contents.walkGraph(e)},t.prototype.setDocument=function(e){this._document=e,this.array.setDocument(e),this.contents.setDocument(e)},t.prototype.addUndoCommand=function(e){this._delegate&&this._delegate.addUndoCommand(e)},Object.defineProperty(t.prototype,"wantsUndoCommands",{get:function(){return!!this._delegate&&this._delegate.wantsUndoCommands},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dbg_description",{get:function(){var e=this.length;if(0===e)return"[]";for(var t="",n=0;n<e;++n){var r=this.array.get(n);0===n&&(t+="["),t+=this.contents.get(r).toString(),t+=n===e-1?"]":", "}return t},enumerable:!1,configurable:!0}),t}(i.Refcounted);t.CRArray=l,l.initializeRefcounted()},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(1544)),r(n(1545)),r(n(1546)),r(n(1547)),r(n(1548)),r(n(1549)),r(n(1551)),r(n(1552)),r(n(1554)),r(n(1550)),r(n(1555))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1545);function i(e,t){var n;return e instanceof Error?n=e:(e&&(e=r.fmt(e,t)),n=new Error(e)),n.context=t,n}t.createFatalError=i,t.fatalError=function(e,t){throw i(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1544),i=/\s/g;t.fmt=function(e,t){return e.replace(/%\{(.*?)\}/g,(function(n,o){if(!t)throw new Error("Cannot use named parameters with `fmt` without a data object. String: '"+e+"'");return function(e,t,n){var o,a,s=(e=e.replace(i,"")).indexOf(":");s>-1&&(o=e.substr(s+1),e=e.substr(0,s)),a=t[e];var l=t[e+"Formatter"];return l?a=l(a,o):o&&r.fatalError("fmt() was given a formatting string, but key '"+e+"' has no formatter.",{string:n}),a}(o,t,e)}))}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1547),a=n(1550),s=function(e){function t(){return e.call(this)||this}var n;return r(t,e),n=t,t.prototype.return=function(e){var t=this.getPow2Length(e.length);e.length=t,this.getPow2Pool(t).return(e)},t.prototype.bytesPerElement=function(){return 4},t.prototype.arrayPoolResetArray=function(e,t){var n=t.length;t.length=0,t.length=n},t.prototype.arrayPoolNewArray=function(e,t){var n=[];return n.length=t,n},t.create=function(){return new n},n=i([a.sealed],t)}(o.ArrayByLengthPoolBase);t.ArrayByLengthPool=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1548),i=function(){function e(){this._arraysByLength=new Map}return e.prototype.borrow=function(e){var t=this.getPow2Length(e);return this.getPow2Pool(t).borrow(t)},e.prototype.drainByLength=function(e){var t=this.getPow2Length(e),n=this._arraysByLength.get(t);n&&(n.drain(),this._arraysByLength.delete(t))},e.prototype.drainAll=function(){for(var e,t=this._arraysByLength[Symbol.iterator]();!(e=t.next()).done;)e.value[1].drain();this._arraysByLength.clear()},e.prototype.getPow2Length=function(e){return e<2||e<2?2:1<<Math.ceil(Math.log2(e))},e.prototype.getPow2Pool=function(e){var t=this._arraysByLength.get(e);return t||(t=new r.ArrayPool(this),this._arraysByLength.set(e,t)),t},e}();t.ArrayByLengthPoolBase=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1549),a=n(1550),s=function(e){function t(t){void 0===t&&(t=null);var n=e.call(this)||this;return n.delegate=t,n}var n;return r(t,e),n=t,t.prototype.arrayPoolResetArray=function(e){var t=this.delegate;if(t&&t.arrayPoolResetArray)t.arrayPoolResetArray(this,e);else if(Array.isArray(e)){var n=e.length;e.length=0,e.length=n}},t.prototype.arrayPoolNewArray=function(e){if(this.delegate)return this.delegate.arrayPoolNewArray(this,e);var t=[];return t.length=e,t},t.booleanArrays=new n,t.numberArrays=new n,t.stringArrays=new n,t.symbolArrays=new n,i([a.sealed],t)}(o.ArrayPoolBase);t.ArrayPool=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.freeCount=0,this._pool=[]}return e.prototype.borrow=function(e){if(this.freeCount>0){var t=this._pool[--this.freeCount];return this.arrayPoolResetArray(t),t}return this.arrayPoolNewArray(e)},e.prototype.return=function(e){this._pool[this.freeCount++]=e},e.prototype.drain=function(){this._pool.length=0,this.freeCount=0},e}();t.ArrayPoolBase=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sealed=function(e){function t(){Object.seal(e),Object.seal(e.prototype)}var n=e;if(e.initializeRefcounted){var r=n.initializeRefcounted;n.initializeRefcounted=function(){r.apply(e),t()}}else if(e.initializePooled){var i=n.initializePooled;n.initializePooled=function(){i.apply(e),t()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEBUG=!1,t.setDEBUG=function(e){void 0===e&&(e=!0),t.DEBUG=e},t.DEBUG_OPTS={trackActiveInstances:!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1551),i=n(1553);function o(e){var t=e;return t.dbg_activeInstances=new i.Set,t.dbg_activeInstanceCount=0,t.pool=[],t.freeCount=0,t.drain=function(){t.pool.length=0,t.freeCount=0},t.alloc=function(){var n;return t.freeCount>0?((n=t.pool[--t.freeCount]).isFreed=!1,n.instanceInit(),r.DEBUG&&(++t.dbg_activeInstanceCount,r.DEBUG_OPTS.trackActiveInstances&&t.dbg_activeInstances.add(n)),n):((n=new e).instanceInit(),r.DEBUG&&(++t.dbg_activeInstanceCount,r.DEBUG_OPTS.trackActiveInstances&&t.dbg_activeInstances.add(n)),n)},t.slowAllocAndInit=function(e){var n=t.alloc();return e(n),n},t.slowAllocAndInitWith=function(e){var n=t.alloc();for(var r in e)n[r]=e[r];return n},t.free=function(e){var n=e;if(n.isFreed)throw new Error("Instance of '"+this.name+"' has already been freed.");n.isFreed=!0,t.pool[t.freeCount++]=e,r.DEBUG&&(--t.dbg_activeInstanceCount,r.DEBUG_OPTS.trackActiveInstances&&t.dbg_activeInstances.remove(e))},t.prototype.isFreed=!1,Object.getPrototypeOf(t)===Function.prototype&&(t.prototype.instanceInit||(t.prototype.instanceInit=function(){})),t}function a(e){var n=e;if(o(e),Object.getPrototypeOf(n)===Function.prototype){var r=n.prototype.free;n.prototype.free=r?function(){r.call(this),this.constructor.free(this)}:function(){this.constructor.free(this)}}return t.dbg_pooledClasses.push(n),n}t.dbg_pooledClasses=[],t.makePooledWithoutFree=o,t.makePooled=a,t.pooled=function(){return function(e){a(e)}};var s=function(){function e(){this.isFreed=!1}return e.prototype.free=function(){this.constructor.free(this)},e.alloc_own=function(){return this.alloc()},e.initializePooled=function(){a(this)},e.prototype.instanceInit=function(){},e}();t.Pooled=s,t.dbg_pooledActiveInstanceCounts=function(e){void 0===e&&(e=[]);for(var n=new Map,r=0,i=0===e.length?t.dbg_pooledClasses:t.dbg_pooledClasses.filter((function(t){return-1===e.indexOf(t)}));r<i.length;r++){var o=i[r];n.set(o,o.dbg_activeInstanceCount)}return n},t.dbg_pooledActiveInstanceCountDifferences=function(e,n){void 0===n&&(n=[]);for(var r=new Map,i=0,o=0===n.length?t.dbg_pooledClasses:t.dbg_pooledClasses.filter((function(e){return-1===n.indexOf(e)}));i<o.length;i++){var a=o[i],s=e.get(a);void 0!==s?a.dbg_activeInstanceCount!==s&&r.set(a,a.dbg_activeInstanceCount-s):r.set(a,a.dbg_activeInstanceCount)}return r},t.dbg_pooledActiveInstances=function(){for(var e=new Map,n=0,r=t.dbg_pooledClasses;n<r.length;n++){var i=r[n];e.set(i,i.dbg_activeInstances.toArray())}return e},t.dbg_pooledActiveInstancesAdded=function(e){for(var n=new Map,r=function(t){var r=e.get(t);if(void 0!==r){var i=t.dbg_activeInstances.toArray().filter((function(e){return-1===r.indexOf(e)}));i.length>0&&n.set(t,i)}else n.set(t,t.dbg_activeInstances.toArray())},i=0,o=t.dbg_pooledClasses;i<o.length;i++)r(o[i]);return n},t.unsafePtrAsOwn=function(e){return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this._map=new Map}return e.prototype.add=function(e){this._map.set(e,null)},e.prototype.remove=function(e){this._map.delete(e)},e.prototype.contains=function(e){return void 0!==this._map.get(e)},e.prototype.toArray=function(){return Array.from(this._map.keys())},Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e}();t.Set=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1544),s=n(1551),l=n(1552),u=n(1550);t.dbg_refcountedClasses=[];var c=0,d=[],h=[],f=0;function p(){y.beginAutoreleaseFrame()}function g(){y.endAutoreleaseFrame()}Date.now(),t.beginAutoreleaseFrame=p,t.endAutoreleaseFrame=g,t.invokeWithAutoreleaseFrame=function(e,t,n){p();var r=e.apply(t,n);return g(),r};var y={autorelease:function(e){return s.DEBUG,h[f]=e,f++},beginAutoreleaseFrame:function(){d[c++]=f},endAutoreleaseFrame:function(){for(var e=d[c-1];f>e;)v(--f);--c}};function v(e){var t=h[e];h[e]=null,t&&t.release()}function m(e,t){h[t]!==e&&a.fatalError("_releaseImmediately: attempted to cancel autorelease for a different object",{object:e}),v(t)}function b(){this.isFreed&&a.fatalError("Cannot retain an object that has already been disposed.",{object:this,type:this.constructor.name}),++this.refCount;var e=this._autoreleaseForTransferToken;return isNaN(e)||(this._autoreleaseForTransferToken=NaN,m(this,e)),this}function _(){var e=--this.refCount,t=this._autoreleaseForTransferToken;return isNaN(t)||(this._autoreleaseForTransferToken=NaN),e<0?a.fatalError("Cannot release an object more times than it has been retained.",{object:this,type:this.constructor.name}):0===e&&this.free(),this}function C(){return y.autorelease(this),this}function I(){return this._autoreleaseForTransferToken=y.autorelease(this),this}function T(e){var n=e,r=n.alloc;n.alloc=function(){var e=r();return e.refCount=1,e._autoreleaseForTransferToken=NaN,e},t.dbg_refcountedClasses.push(n)}t.getAutoreleaseHooks=function(){return y},t.setAutoreleaseHooks=function(e){y=i({},e)},t._releaseImmediately=m,t.retainFn=b,t.releaseFn=_,t.autoreleaseFn=C,t.autoreleaseForTransferFn=I,t.autoreleasepool=function(e){p(),e(),g()},t.makeRefcounted=function(e){var t=e;return l.makePooled(t),t.prototype.refCount=1,t.prototype.retain=b,t.prototype.release=_,t.prototype.autorelease=C,t.prototype._autoreleaseForTransfer=I,t.prototype._autoreleaseForTransferToken=NaN,T(e),t};var P=function(){function e(){this.isFreed=!1,this.refCount=1,this._autoreleaseForTransferToken=-1,this._autoreleaseForTransfer=I}return e.initializeRefcounted=function(){l.makePooledWithoutFree(this),T(this)},e.prototype.instanceInit=function(){},e.prototype.free=function(){this.constructor.free(this)},e}();t.Refcounted=P,P.prototype.retain=b,P.prototype.release=_,P.prototype.autorelease=C;var O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),o([u.sealed],t)}(P);t.ConcreteRefcounted=O,t.dbg_refcountedActiveInstanceCounts=function(e){void 0===e&&(e=[]);for(var n=new Map,r=0,i=0===e.length?t.dbg_refcountedClasses:t.dbg_refcountedClasses.filter((function(t){return-1===e.indexOf(t)}));r<i.length;r++){var o=i[r];n.set(o,o.dbg_activeInstanceCount)}return n},t.dbg_refcountedActiveInstanceCountDifferences=function(e,n){void 0===n&&(n=[]);for(var r=new Map,i=0,o=0===n.length?t.dbg_refcountedClasses:t.dbg_refcountedClasses.filter((function(e){return-1===n.indexOf(e)}));i<o.length;i++){var a=o[i],s=e.get(a);void 0!==s?a.dbg_activeInstanceCount!==s&&r.set(a,a.dbg_activeInstanceCount-s):r.set(a,a.dbg_activeInstanceCount)}return r},t.dbg_refcountedActiveInstances=function(e){void 0===e&&(e=[]);for(var n=new Map,r=0,i=t.dbg_refcountedClasses.filter((function(t){return-1===e.indexOf(t)}));r<i.length;r++){var o=i[r];n.set(o,o.dbg_activeInstances.toArray())}return n},t.dbg_refcountedActiveInstancesAdded=function(e,n){void 0===n&&(n=[]);for(var r=new Map,i=function(t){var n=e.get(t);if(void 0!==n){var i=t.dbg_activeInstances.toArray().filter((function(e){return-1===n.indexOf(e)}));i.length>0&&r.set(t,i)}else r.set(t,t.dbg_activeInstances.toArray())},o=0,a=t.dbg_refcountedClasses.filter((function(e){return-1===n.indexOf(e)}));o<a.length;o++)i(a[o]);return r}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1547),a=n(1550),s=function(e){function t(t){var n=e.call(this)||this;return n.typedArrayConstructor=t,n}var n;return r(t,e),n=t,t.prototype.return=function(e){var t=this.getPow2Length(e.length);e.length===t&&this.getPow2Pool(t).return(e)},t.prototype.bytesPerElement=function(){return this.typedArrayConstructor.BYTES_PER_ELEMENT},t.prototype.arrayPoolNewArray=function(e,t){return new this.typedArrayConstructor(t)},t.int8Arrays=new n(Int8Array),t.int16Arrays=new n(Int16Array),t.int32Arrays=new n(Int32Array),t.uint8Arrays=new n(Uint8Array),t.uint16Arrays=new n(Uint16Array),t.uint32Arrays=new n(Uint32Array),t.uint8ClampedArrays=new n(Uint8ClampedArray),t.float32Arrays=new n(Float32Array),t.float64Arrays=new n(Float64Array),i([a.sealed],t)}(o.ArrayByLengthPoolBase);t.TypedArrayByLengthPool=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CRDictionary=void 0;var i=n(1543),o=n(1557),a=(n(1770),n(1558),n(1789)),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._value=null,t._timestamp=null,t}return r(t,e),Object.defineProperty(t.prototype,"timestamp",{get:function(){return this._timestamp},set:function(e){this._timestamp!==e&&(this._timestamp&&this._timestamp.release(),this._timestamp=e.retain())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this._value!==e&&(this._value&&this._value.release(),this._value=e.retain())},enumerable:!1,configurable:!0}),t.prototype.initWithValue=function(e){var t=a.CRVectorTimestamp.alloc().init().autorelease();return this.initWithValue_timestamp(e,t)},t.prototype.initWithValue_timestamp=function(e,t){return this.value=e,this.timestamp=t,this},t.prototype.free=function(){this.timestamp&&this.timestamp.release(),this.value&&this.value.release(),this._value=null,this._timestamp=null,e.prototype.free.call(this)},t.prototype.mergeWith=function(e){this.timestamp.mergeWith(e.timestamp),this.value.mergeWith(e.value)},t.prototype.toString=function(){return"<CRDictionaryElement "+this.timestamp+" "+this.value+">"},t}(i.Refcounted);function l(e){return e.UUIDString}s.initializeRefcounted();var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.contents=new Map,t.removeClock=0,t._document=null,t}return r(t,e),Object.defineProperty(t.prototype,"document",{get:function(){return this._document},set:function(e){this._document=e},enumerable:!1,configurable:!0}),t.prototype.initWithDocument=function(e){return this.document=e,this},t.prototype.free=function(){this.contents.forEach((function(e,t){e[0].release(),e[1].release()})),this.contents.clear(),this.removeClock=0,this._document=null,e.prototype.free.call(this)},t.prototype.encode=function(e){return{contents:"dictionary",dictionary:this.encodeAsDictionary(e)}},t.prototype.encodeAsDictionaryWithValueCoder=function(e,t){var n=this;return{element:function(){var r=[];return n.contents.forEach((function(n,i){var o=t(n[1],n[0]);o.timestamp=n[1].timestamp.encodeIntoProtobufTimestamp(e),r.push(o)})),r}()}},t.prototype.encodeAsDictionary=function(e){return this.encodeAsDictionaryWithValueCoder(e,(function(t,n){var r=e.encodeObjectForObjectID(t.value);return{key:e.encodeObjectForObjectID(n),value:r}}))},Object.defineProperty(t.prototype,"size",{get:function(){return this.contents.size},enumerable:!1,configurable:!0}),t.decodeWithDictionary=function(e,n){return t.decodeWithDictionaryValueDecoder(e,n,(function(t){var n=t.value?e.decodeObjectForProtobufObjectID(t.value):null;return[t.key?e.decodeObjectForProtobufObjectID(t.key):null,n]}))},t.decodeWithDictionaryValueDecoder=function(e,n,r){for(var i=t.alloc().initWithDocument(e.document).autorelease(),o=0,u=n.element||[];o<u.length;o++){var c=u[o],d=r(c),h=d[0],f=d[1],p=c.timestamp?a.CRVectorTimestamp.decodeWithProtobufTimestamp(e,c.timestamp):null;if(h&&p){var g=s.alloc().initWithValue_timestamp(f,p).autorelease(),y=i.contents.get(h);y&&(y[0].autorelease(),y[1].autorelease()),i.contents.set(l(h),[h.retain(),g.retain()])}}return i},t.prototype.get=function(e){var t=this.contents.get(l(e));return void 0===t?null:t[1].value},t.prototype.set=function(e,t){if(!this.contents.has(l(e))){var n=s.alloc().initWithValue(t).autorelease(),r=this.document.replicaClock+1;n.timestamp.setClockForReplica(r,o.unserialisedReplicaID()),this.contents.set(l(e),[e.retain(),n.retain()]),this.document.setDocumentFor(e),this.document.setDocumentFor(t)}},t.prototype.delete=function(e){var t=this.contents.get(l(e));this.contents.delete(l(e)),t&&(t[0].release(),t[1].release()),this.removeClock=this.document.replicaClock+1},t.prototype.clear=function(){this.contents.forEach((function(e,t){e[0].release(),e[1].release()})),this.contents.clear(),this.removeClock=this.document.replicaClock+1},t.prototype.realizeLocalChanges=function(e){this.contents.forEach((function(t,n){var r=t[1].timestamp.clockForReplica(o.unserialisedReplicaID());r>0&&(t[1].timestamp.removeReplica(o.unserialisedReplicaID()),t[1].timestamp.setClockForReplica(r,e.replica),e.unserializedReplicaClock=e.unserializedReplicaClock>r?e.unserializedReplicaClock:r)})),this.removeClock>0&&(e.unserializedReplicaClock=e.unserializedReplicaClock>this.removeClock?e.unserializedReplicaClock:this.removeClock),this.removeClock=0},t.prototype.mergeWith=function(e){var n=this;if(!(e instanceof t))throw new TypeError("CRDictionary cannot merge with non-CRDictionary type.");var r=new Set;this.contents.forEach((function(t,n){var i=e.contents.get(n);i?t[1].mergeWith(i[1]):(t[1].timestamp.minus(e.document.version),0===t[1].timestamp.length&&r.add(n))})),r.forEach((function(e){var t=n.contents.get(e);n.contents.delete(e),t&&(t[0].release(),t[1].release())})),e.contents.forEach((function(e,t){if(!n.contents.has(t)&&n.document.version.compare(e[1].timestamp)&a.CRVectorTimestampComparison.Ascending){var r=n.contents.get(t);r&&(r[0].autorelease(),r[1].autorelease()),n.contents.set(t,[e[0].retain(),e[1].retain()])}}))},t.prototype.setDocument=function(e){this._document=e},t.prototype.deltaSince=function(e,n){var r=t.alloc().initWithDocument(n).autorelease();return this.contents.forEach((function(t,i){var o=t[1].timestamp.copy().autorelease();o.minus(e);var a=t[1].value.deltaSince(e,n),l=s.alloc().initWithValue_timestamp(a||t[1].value.tombstone,o).autorelease(),u=r.contents.get(i);u&&(u[0].autorelease(),u[1].autorelease()),r.contents.set(i,[t[0].retain(),l.retain()])})),r},t.prototype.walkGraph=function(e){this.contents.forEach((function(t,n){e(t[0]),e(t[1].value)}))},Object.defineProperty(t.prototype,"tombstone",{get:function(){return this},enumerable:!1,configurable:!0}),t.prototype.toString=function(){if(0===this.size)return"{}";var e="{";return this.contents.forEach((function(t,n){e+=n+": "+t[1].timestamp+" "+t[1].value+"\n"})),e+="}"},t.prototype.forEach=function(e){this.contents.forEach((function(t,n){return e(t[1].value,t[0],t[1].timestamp)}))},t}(i.Refcounted);t.CRDictionary=u,u.initializeRefcounted()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dbg_releaseUnserialisedReplicaID=t.unserialisedReplicaID=t._unserialisedReplicaID=void 0;var r=n(1558);t._unserialisedReplicaID=null,t.unserialisedReplicaID=function(){return null===t._unserialisedReplicaID&&(t._unserialisedReplicaID=r.CRUUID.UUID().retain()),t._unserialisedReplicaID},t.dbg_releaseUnserialisedReplicaID=function(){t._unserialisedReplicaID&&t._unserialisedReplicaID.release(),t._unserialisedReplicaID=null}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CRUUID=void 0;var i=n(1559),o=n(1768),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.UUID=function(){return t.alloc().init().autorelease()},Object.defineProperty(t,"CRZero",{get:function(){return t.alloc().initWithUUIDBytes(new Uint8Array(16).fill(0)).autorelease()},enumerable:!1,configurable:!0}),t.prototype.encode=function(e){var n=e.encodeUUIDIndexFromUUID(this);return{contents:"custom",custom:{type:o.CRCoder.getTypeIndexForClass(t.decode),mapEntry:[e.encodeUInt64("UUIDIndex",n)]}}},t.decode=function(e,t){var n=e.decodeUInt64ForKey("UUIDIndex",t);return e.decodeUUIDFromUUIDIndex(n)},t.prototype.mergeWith=function(e){if(!(e instanceof t))throw new TypeError("CRUUID cannot merge with non-CRUUID type.")},t.prototype.deltaSince=function(e,t){return null},t.prototype.realizeLocalChanges=function(e){},Object.defineProperty(t.prototype,"tombstone",{get:function(){return this},enumerable:!1,configurable:!0}),t.prototype.walkGraph=function(e){},t.prototype.setDocument=function(e){},t}(i.NSUUID);t.CRUUID=a,a.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.singletons=t.UuidModule=t.Utilities=t.TopoTextProtobuf=void 0,o(n(1560),t),o(n(1675),t),o(n(1747),t),o(n(1766),t),o(n(1765),t),o(n(1767),t),o(n(1748),t),o(n(1694),t),o(n(1699),t),o(n(1703),t);var s=a(n(1704));t.TopoTextProtobuf=s;var l=a(n(1706));t.Utilities=l;var u=a(n(1705));t.UuidModule=u;var c=n(1699);t.singletons={pooled:[],refcounted:[c.NSUUID.TTZero,c.TTMergeableString.unserialisedReplicaID]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataClockOps=t.asValidatedDataClock=t.MAX_DATA_CLOCK=t.MIN_DATA_CLOCK=void 0;var r=n(1561);t.MIN_DATA_CLOCK=0,t.MAX_DATA_CLOCK=Math.pow(2,32)-1,t.asValidatedDataClock=function(e){return e},t.DataClockOps=new r.IntegerOps},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.singletons=t.dbg_codepoint=void 0,i(n(1562),t),i(n(1570),t),i(n(1571),t),i(n(1576),t),i(n(1572),t),i(n(1573),t),i(n(1574),t),i(n(1575),t),i(n(1577),t),i(n(1578),t),i(n(1579),t),i(n(1580),t),i(n(1666),t),i(n(1667),t),i(n(1662),t),i(n(1664),t),i(n(1668),t),i(n(1669),t),i(n(1655),t),i(n(1670),t),i(n(1663),t);var o=n(1665);Object.defineProperty(t,"dbg_codepoint",{enumerable:!0,get:function(){return o.dbg_codepoint}}),i(n(1671),t),i(n(1673),t),i(n(1672),t),i(n(1581),t),i(n(1656),t),i(n(1674),t);var a=n(1656);t.singletons={pooled:[],refcounted:[a.NoOpOperation.instance]}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeDictionary=t.AttrDict=t.AttrDictBase=void 0;var a=n(1563),s=n(1570),l=n(1571),u=n(1572),c=n(1573),d=n(1574),h=n(1575),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.dictionaryKeys=function(){return l.AttrDictKeys},t.prototype.setAttributesFrom=function(e){var t=this;for(var n in e)this.dictionaryKeys().indexOf(n)>=0&&(t=t.set(n,e[n]));return t},t.prototype.serialize=function(){var e=this.attachment,t=this.font,n=this.paragraphStyle,r=this.shadow,i={attachment:e&&e.serialize(),backgroundColor:this.backgroundColor,baselineOffset:this.baselineOffset,cursor:this.cursor,expansion:this.expansion,font:t&&t.serialize(),foregroundColor:this.foregroundColor,kern:this.kern,ligature:this.ligature,link:this.link,markedClauseSegment:this.markedClauseSegment,obliqueness:this.obliqueness,paragraphStyle:n&&n.serialize(),shadow:r&&r.serialize(),spellingState:this.spellingState,strikethroughColor:this.strikethroughColor,strikethroughStyle:this.strikethroughStyle,strokeColor:this.strokeColor,strokeWidth:this.strokeWidth,superscript:this.superscript,textEffect:this.textEffect,toolTip:this.toolTip,underlineColor:this.underlineColor,underlineStyle:this.underlineStyle,verticalGlyphForm:this.verticalGlyphForm,writingDirection:this.writingDirection};for(var o in i)null===i[o]&&delete i[o];return i},t.deserialize=function(e){var t=e,n=t.attachment,r=t.font,i=t.paragraphStyle,o=t.shadow,a=Object.assign({},e);return n&&(a.attachment=d.TextAttachmentAttribute.create(n)),r&&(a.font=s.FontAttribute.create(r)),i&&(a.paragraphStyle=u.ParagraphStyleAttribute.create(i)),o&&(a.shadow=c.ShadowAttribute.create(o)),p.create(a)},t.UnderlineStyle=h.UnderlineStyleAttribute,i([a.uniqueProperty(null,a.UniqueKind.Unique),o("design:type",Object)],t.prototype,"attachment",void 0),i([a.uniqueProperty(null,a.UniqueKind.String),o("design:type",Object)],t.prototype,"backgroundColor",void 0),i([a.uniqueProperty(null,a.UniqueKind.Number),o("design:type",Object)],t.prototype,"baselineOffset",void 0),i([a.uniqueProperty(null,a.UniqueKind.String),o("design:type",Object)],t.prototype,"cursor",void 0),i([a.uniqueProperty(null,a.UniqueKind.Number),o("design:type",Object)],t.prototype,"expansion",void 0),i([a.uniqueProperty(null,a.UniqueKind.Unique),o("design:type",Object)],t.prototype,"font",void 0),i([a.uniqueProperty(null,a.UniqueKind.String),o("design:type",Object)],t.prototype,"foregroundColor",void 0),i([a.uniqueProperty(null,a.UniqueKind.Number),o("design:type",Object)],t.prototype,"kern",void 0),i([a.uniqueProperty(null,a.UniqueKind.Number),o("design:type",Object)],t.prototype,"ligature",void 0),i([a.uniqueProperty(null,a.UniqueKind.String),o("design:type",Object)],t.prototype,"link",void 0),i([a.uniqueProperty(null,a.UniqueKind.Number),o("design:type",Object)],t.prototype,"markedClauseSegment",void 0),i([a.uniqueProperty(null,a.UniqueKind.Number),o("design:type",Object)],t.prototype,"obliqueness",void 0),i([a.uniqueProperty(null,a.UniqueKind.Unique),o("design:type",Object)],t.prototype,"paragraphStyle",void 0),i([a.uniqueProperty(null,a.UniqueKind.Unique),o("design:type",Object)],t.prototype,"shadow",void 0),i([a.uniqueProperty(null,a.UniqueKind.Number),o("design:type",Object)],t.prototype,"spellingState",void 0),i([a.uniqueProperty(null,a.UniqueKind.String),o("design:type",Object)],t.prototype,"strikethroughColor",void 0),i([a.uniqueProperty(null,a.UniqueKind.Number),o("design:type",Object)],t.prototype,"strikethroughStyle",void 0),i([a.uniqueProperty(null,a.UniqueKind.String),o("design:type",Object)],t.prototype,"strokeColor",void 0),i([a.uniqueProperty(null,a.UniqueKind.Number),o("design:type",Object)],t.prototype,"strokeWidth",void 0),i([a.uniqueProperty(null,a.UniqueKind.Number),o("design:type",Object)],t.prototype,"superscript",void 0),i([a.uniqueProperty(null,a.UniqueKind.String),o("design:type",Object)],t.prototype,"textEffect",void 0),i([a.uniqueProperty(null,a.UniqueKind.String),o("design:type",Object)],t.prototype,"toolTip",void 0),i([a.uniqueProperty(null,a.UniqueKind.String),o("design:type",Object)],t.prototype,"underlineColor",void 0),i([a.uniqueProperty(null,a.UniqueKind.Number),o("design:type",Object)],t.prototype,"underlineStyle",void 0),i([a.uniqueProperty(null,a.UniqueKind.Boolean),o("design:type",Object)],t.prototype,"verticalGlyphForm",void 0),i([a.uniqueProperty(null,a.UniqueKind.Number),o("design:type",Object)],t.prototype,"writingDirection",void 0),t}(a.Unique);t.AttrDictBase=f;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(f);t.AttrDict=p,p.initializeUnique(),t.AttributeDictionary=p},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1564),t),i(n(1565),t),i(n(1566),t),i(n(1567),t),i(n(1568),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectUniquenessAlterationCacheRecord=void 0;var r=function(){function e(e,t,n,r){this.prev=null,this.next=null,this.cachedBy=e,this.keyIdx=t,this.uniqueID=n,this.alteration=r}return e.prototype.install=function(){var e=this.alteration._firstUniqueAlterationCacheRecord;this.next=e,e&&(e.prev=this),this.alteration._firstUniqueAlterationCacheRecord=this,(this.cachedBy._uniqueAlterationCache[this.keyIdx]=this.cachedBy._uniqueAlterationCache[this.keyIdx]||{})[this.uniqueID]=this},e.prototype.removeRecordFromAlteration=function(){this.prev?this.prev.next=this.next:this.alteration._firstUniqueAlterationCacheRecord=this.next,this.next&&(this.next.prev=this.prev)},e.prototype.removeAlterationFromCache=function(){delete this.cachedBy._uniqueAlterationCache[this.keyIdx][this.uniqueID]},e}();t.ObjectUniquenessAlterationCacheRecord=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectUniquenessTrie=void 0;var r=function(){function e(e,t){this.theClass=e,this.keyCount=t,this.root={parent:null,size:0,lookup:{},alteration:null}}return e.prototype.lookUpWithUniqueIDArray=function(e,t){this.keyCount;for(var n=this.root,r=0;r<t.length;++r){var i=e[r],o=n.lookup[i];o||(o={parent:n,size:0,lookup:{},alteration:null},n.lookup[i]=o,++n.size),n=o}return n.alteration=n.alteration||this.theClass.createWithValues(e.slice(0),t.slice(0)),n.alteration},e.prototype.deleteWithUniqueIDArray=function(e){var t,n,r=this.root;for(t=0;t<e.length;++t)if(n=e[t],!(r=r.lookup[n]))return;for(r=r.parent,t=e.length;r&&r.size>0&&t>0;)n=e[--t],delete r.lookup[n],--r.size,r=r.parent},e}();t.ObjectUniquenessTrie=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractBase=void 0;t.AbstractBase=function(){}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.Unique=void 0;var i=n(1543),o=n(1564),a=n(1565),s=n(1568),l=n(1568);function u(e){var t="symbol"===typeof e?Symbol.keyFor(e):e;return"set"+t[0].toUpperCase()+t.substr(1)}var c=[],d=[],h=0;function f(e,t){e.length=t.length;for(var n=0,r=t.length;n<r;++n)e[n]=t[n]}var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uniqueID="",t._uniqueIDs=[],t._uniqueValues=[],t._uniqueAlterationCache=[],t._firstUniqueAlterationCacheRecord=null,t._cachedDataForOtherUniqueObjects={},t}return r(t,e),t.prototype.instanceInit=function(){e.prototype.instanceInit.call(this),this.uniqueID="uniqueobject"+ ++h,t._uniqueObjectCounter++},t.prototype.free=function(){var n=this.constructor;this._uniqueIDs.length===n._uniqueKeyCount&&this.constructor._uniquenessTrie.deleteWithUniqueIDArray(this._uniqueIDs);for(var r=this._firstUniqueAlterationCacheRecord;r;)r.removeAlterationFromCache(),r=r.next;for(var i=0,o=this._uniqueAlterationCache.length;i<o;++i){var a=this._uniqueAlterationCache[i];for(var s in a){var l=a[s];l&&l.removeRecordFromAlteration()}}for(var u in this._cachedDataForOtherUniqueObjects){var c=this._cachedDataForOtherUniqueObjects[u];c&&c.release()}for(var d=0,h=this.constructor._uniqueRefcountedKeys;d<h.length;d++){var f=this[u=h[d]];f&&f.release()}this._uniqueIDs.length=0,this._uniqueValues.length=0,this._cachedDataForOtherUniqueObjects={},this.uniqueID="",--t._uniqueObjectCounter,e.prototype.free.call(this)},t.prototype.cachedDataFor=function(e){return this._cachedDataForOtherUniqueObjects[e.uniqueID]},t.prototype.cacheDataFor=function(e,t){this._cachedDataForOtherUniqueObjects[e.uniqueID]=t,t.retain()},t.prototype.clearCachedDataFor=function(e){this._cachedDataForOtherUniqueObjects[e.uniqueID].release(),delete this._cachedDataForOtherUniqueObjects[e.uniqueID]},t.prototype.computeTotalCacheSize=function(){for(var e=0,t=this._uniqueAlterationCache.length,n=0;n<t;++n){var r=this._uniqueAlterationCache[n];for(var i in r)++e}return e},t.prototype.initUnique=function(e,t){this._uniqueIDs=e,this._uniqueValues=t;for(var n=this._uniqueIDs.length,r=0;r<n;++r){var i=this.constructor._uniqueKeys[r].toString(),o=t[r];this[i]=t[r],this._uniqueAlterationCache[r]={}}for(var a=0,s=this.constructor._uniqueRefcountedKeys;a<s.length;a++)(o=this[i=s[a]])&&o.retain()},t.prototype._cacheUniqueAlteration=function(e,t,n){new o.ObjectUniquenessAlterationCacheRecord(this,e,t,n).install()},t.prototype.set=function(e,t){return this[u(e)](t)},t.generateSetter=function(e,t){return function(n){var r=t(n),i=this._uniqueAlterationCache[e][r];if(void 0!==i)return i.alteration;f(c,this._uniqueIDs),f(d,this._uniqueValues),c[e]=r,d[e]=n;var o=this.constructor._uniquenessTrie.lookUpWithUniqueIDArray(c,d);return this._cacheUniqueAlteration(e,r,o),o}},t.swizzleAlloc=function(e){var n=e,r=n.alloc;n.alloc=function(){var e=r();if(!n._uniqueMetadataIsInitialized){var i=n._uniqueAccessorKeys||[],o=n._uniquePropertyKeys||[],c=i.slice().concat(o),d=0,h=c.reduce((function(e,t){return e[t.toString()]=d++,e}),{}),f=i.reduce((function(t,n){return t[n.toString()]=s.accessorDefaultValue(e,n),t}),{}),p=o.reduce((function(t,n){return t[n.toString()]=s.propertyDefaultValue(e,n),t}),f),g=i.reduce((function(t,n){return t[n.toString()]=s.accessorUniqueIDGenerator(e,n),t}),{}),y=o.reduce((function(t,n){return t[n.toString()]=s.propertyUniqueIDGenerator(e,n),t}),g);c.forEach((function(e){n.prototype[u(e)]=t.generateSetter(h[e.toString()],y[e.toString()])})),n._uniqueDefaultValues=p,n._uniqueIDGeneratorMap=y,n._uniqueKeys=c,n._uniqueRefcountedKeys=c.filter((function(t){return"Unique"===l.accessorType(e,t.toString())})).map((function(e){return e.toString()})),n._uniqueKeyIndexes=h,n._uniqueKeyCount=i.length+o.length,n._uniquenessTrie=new a.ObjectUniquenessTrie(n,n._uniqueKeyCount),n._nextUniqueID=1,n._uniqueMetadataIsInitialized=!0}return e},n.create=function(e){void 0===e&&(e={}),n._uniqueMetadataIsInitialized||n.alloc().release(),c.length=n._uniqueKeyCount,d.length=n._uniqueKeyCount;for(var t=0,r=n._uniqueKeys.length;t<r;++t){var i=n._uniqueKeys[t],o=n._uniqueKeyIndexes[i.toString()],a=n._uniqueIDGeneratorMap[i.toString()];if(e.hasOwnProperty(i)){var s=e[i.toString()];c[o]=a(s),d[o]=s}else s=n._uniqueDefaultValues[i.toString()],c[o]=a(s),d[o]=s}return n._uniquenessTrie.lookUpWithUniqueIDArray(c,d)},n.createWithValues=function(e,t){var n=this.alloc();return n.initUnique(e,t),n.autorelease()}},t.initializeUnique=function(){this.initializeRefcounted(),this._uniqueMetadataIsInitialized=!1,t.swizzleAlloc(this)},t._uniqueObjectCounter=0,t}(i.Refcounted);t.Unique=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.propertyDefaultValue=t.propertyUniqueIDGenerator=t.uniqueProperty=t.accessorDefaultValue=t.ownAccessorDefaultValue=t.accessorUniqueIDGenerator=t.accessorType=t.uniqueAccessor=t.UniqueKind=void 0,n(1569);var r,i=0,o=new WeakMap;function a(e,t){return Reflect.getMetadata("_uniqueKind",e,t)}function s(e,t){var n=Object.getPrototypeOf(e);if(n){var r=Object.getOwnPropertyDescriptor(n,t);if(r){var i=r.get._uniqueDefaultValue;return void 0===i?void 0:i}}}(r=t.UniqueKind||(t.UniqueKind={})).Boolean="Boolean",r.Number="Number",r.String="String",r.Symbol="symbol",r.Object="Object",r.Unique="Unique",t.uniqueAccessor=function(e){return void 0===e&&(e=null),function(t,n,r){t.constructor._uniqueAccessorKeys?t.constructor._uniqueAccessorKeys.push(n):t.constructor._uniqueAccessorKeys=[n],r.get._uniqueDefaultValue=e}},t.accessorType=a,t.accessorUniqueIDGenerator=function(e,t){return l[a(e,t)]},t.ownAccessorDefaultValue=s,t.accessorDefaultValue=function e(t,n){var r=s(t,n);if(void 0!==r)return r;var i=Object.getPrototypeOf(t);return i?e(i,n):void 0},t.uniqueProperty=function(e,t){return void 0===e&&(e=null),function(n,r){Reflect.defineMetadata("_uniqueDefaultValue",e,n,r),Reflect.defineMetadata("_uniqueKind",t,n,r);var i=n.constructor;i._uniquePropertyKeys=(i._uniquePropertyKeys||[]).concat(r)}},t.propertyUniqueIDGenerator=function(e,t){return l[a(e,t)]||l.Object},t.propertyDefaultValue=function(e,t){var n=Reflect.getMetadata("_uniqueDefaultValue",e,t);return void 0===n?void 0:n};var l={Boolean:function(e){return null===e?-1:void 0===e?-2:!1===e?0:1},Number:function(e){return null===e?"null":void 0===e?"undefined":e.toString()},Object:function(e){if(null===e)return"uniqueobject-null";var t=o.get(e);return t||(t="uniqueID"+ ++i,o.set(e,t)),t},String:function(e){return e},symbol:function(e){return Symbol.keyFor(e)},Unique:function(e){return e?e.uniqueID:"uniqueobject-null"}}},function(e,t,n){(function(e){var t;!function(t){!function(n){var r="object"===typeof e?e:"object"===typeof self?self:"object"===typeof this?this:Function("return this;")(),i=o(t);function o(e,t){return function(n,r){"function"!==typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}"undefined"===typeof r.Reflect?r.Reflect=t:i=o(r.Reflect,i),function(e){var t=Object.prototype.hasOwnProperty,n="function"===typeof Symbol,r=n&&"undefined"!==typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&"undefined"!==typeof Symbol.iterator?Symbol.iterator:"@@iterator",o="function"===typeof Object.create,a={__proto__:[]}instanceof Array,s=!o&&!a,l={create:o?function(){return A(Object.create(null))}:a?function(){return A({__proto__:null})}:function(){return A({})},has:s?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:s?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},u=Object.getPrototypeOf(Function),c="object"===typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=c||"function"!==typeof Map||"function"!==typeof Map.prototype.entries?function(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function o(e,t){return t}function a(e,t){return[e,t]}}():Map,h=c||"function"!==typeof Set||"function"!==typeof Set.prototype.entries?function(){function e(){this._map=new d}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}():Set,f=new(c||"function"!==typeof WeakMap?function(){var e=l.create(),n=r();return function(){function e(){this._key=r()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&l.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?l.get(t,this._key):void 0},e.prototype.set=function(e,t){return i(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=r()},e}();function r(){var t;do{t="@@WeakMap@@"+a()}while(l.has(e,t));return e[t]=!0,t}function i(e,r){if(!t.call(e,n)){if(!r)return;Object.defineProperty(e,n,{value:l.create()})}return e[n]}function o(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function a(){var e=(16,"function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):o(new Uint8Array(16),16):o(new Array(16),16));e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var t="",n=0;n<16;++n){var r=e[n];4!==n&&6!==n&&8!==n||(t+="-"),r<16&&(t+="0"),t+=r.toString(16).toLowerCase()}return t}}():WeakMap);function p(e,t,n){var r=f.get(e);if(_(r)){if(!n)return;r=new d,f.set(e,r)}var i=r.get(t);if(_(i)){if(!n)return;i=new d,r.set(t,i)}return i}function g(e,t,n){var r=p(t,n,!1);return!_(r)&&!!r.has(e)}function y(e,t,n){var r=p(t,n,!1);if(!_(r))return r.get(e)}function v(e,t,n,r){p(n,r,!0).set(e,t)}function m(e,t){var n=[],r=p(e,t,!1);if(_(r))return n;for(var o=function(e){var t=w(e,i);if(!O(t))throw new TypeError;var n=t.call(e);if(!I(n))throw new TypeError;return n}(r.keys()),a=0;;){var s=x(o);if(!s)return n.length=a,n;var l=s.value;try{n[a]=l}catch(u){try{E(o)}finally{throw u}}a++}}function b(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function _(e){return void 0===e}function C(e){return null===e}function I(e){return"object"===typeof e?null!==e:"function"===typeof e}function T(e){var t=function(e,t){switch(b(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",i=w(e,r);if(void 0!==i){var o=i.call(e,n);if(I(o))throw new TypeError;return o}return function(e,t){if("string"===t){var n=e.toString;if(O(n)&&!I(i=n.call(e)))return i;if(O(r=e.valueOf)&&!I(i=r.call(e)))return i}else{var r;if(O(r=e.valueOf)&&!I(i=r.call(e)))return i;var i,o=e.toString;if(O(o)&&!I(i=o.call(e)))return i}throw new TypeError}(e,"default"===n?"number":n)}(e,3);return"symbol"===typeof t?t:function(e){return""+e}(t)}function P(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function O(e){return"function"===typeof e}function S(e){return"function"===typeof e}function w(e,t){var n=e[t];if(void 0!==n&&null!==n){if(!O(n))throw new TypeError;return n}}function x(e){var t=e.next();return!t.done&&t}function E(e){var t=e.return;t&&t.call(e)}function N(e){var t=Object.getPrototypeOf(e);if("function"!==typeof e||e===u)return t;if(t!==u)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!==typeof i||i===e?t:i}function A(e){return e.__=void 0,delete e.__,e}e("decorate",(function(e,t,n,r){if(_(n)){if(!P(e))throw new TypeError;if(!S(t))throw new TypeError;return function(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!_(r)&&!C(r)){if(!S(r))throw new TypeError;t=r}}return t}(e,t)}if(!P(e))throw new TypeError;if(!I(t))throw new TypeError;if(!I(r)&&!_(r)&&!C(r))throw new TypeError;return C(r)&&(r=void 0),function(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,n,r);if(!_(o)&&!C(o)){if(!I(o))throw new TypeError;r=o}}return r}(e,t,n=T(n),r)})),e("metadata",(function(e,t){return function(n,r){if(!I(n))throw new TypeError;if(!_(r)&&!function(e){switch(b(e)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;v(e,t,n,r)}})),e("defineMetadata",(function(e,t,n,r){if(!I(n))throw new TypeError;return _(r)||(r=T(r)),v(e,t,n,r)})),e("hasMetadata",(function(e,t,n){if(!I(t))throw new TypeError;return _(n)||(n=T(n)),function e(t,n,r){if(g(t,n,r))return!0;var i=N(n);return!C(i)&&e(t,i,r)}(e,t,n)})),e("hasOwnMetadata",(function(e,t,n){if(!I(t))throw new TypeError;return _(n)||(n=T(n)),g(e,t,n)})),e("getMetadata",(function(e,t,n){if(!I(t))throw new TypeError;return _(n)||(n=T(n)),function e(t,n,r){if(g(t,n,r))return y(t,n,r);var i=N(n);return C(i)?void 0:e(t,i,r)}(e,t,n)})),e("getOwnMetadata",(function(e,t,n){if(!I(t))throw new TypeError;return _(n)||(n=T(n)),y(e,t,n)})),e("getMetadataKeys",(function(e,t){if(!I(e))throw new TypeError;return _(t)||(t=T(t)),function e(t,n){var r=m(t,n),i=N(t);if(null===i)return r;var o=e(i,n);if(o.length<=0)return r;if(r.length<=0)return o;for(var a=new h,s=[],l=0,u=r;l<u.length;l++){var c=u[l];a.has(c)||(a.add(c),s.push(c))}for(var d=0,f=o;d<f.length;d++)c=f[d],a.has(c)||(a.add(c),s.push(c));return s}(e,t)})),e("getOwnMetadataKeys",(function(e,t){if(!I(e))throw new TypeError;return _(t)||(t=T(t)),m(e,t)})),e("deleteMetadata",(function(e,t,n){if(!I(t))throw new TypeError;_(n)||(n=T(n));var r=p(t,n,!1);if(_(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var i=f.get(t);return i.delete(n),i.size>0||f.delete(t),!0}))}(i)}()}(t||(t={}))}).call(this,n(238))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.FontAttribute=t.FontAttributeBase=void 0;var a=n(1563),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.serialize=function(){return{name:this.name,size:this.size}},i([a.uniqueProperty("",a.UniqueKind.String),o("design:type",Object)],t.prototype,"name",void 0),i([a.uniqueProperty(0,a.UniqueKind.Number),o("design:type",Object)],t.prototype,"size",void 0),t}(a.Unique);t.FontAttributeBase=s;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(s);t.FontAttribute=l,l.initializeUnique()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AttrDictKeys=void 0,t.AttrDictKeys=["attachment","backgroundColor","baselineOffset","cursor","expansion","font","foregroundColor","kern","ligature","link","markedClauseSegment","obliqueness","paragraphStyle","shadow","spellingState","strikethroughColor","strikethroughStyle","strokeColor","strokeWidth","superscript","textEffect","toolTip","underlineColor","underlineStyle","verticalGlyphForm","writingDirection"]},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ParagraphStyleAttribute=t.ParagraphStyleAttributeBase=void 0;var a=n(1563),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.serialize=function(){var e={alignment:this.alignment,firstLineHeadIndent:this.firstLineHeadIndent,headIndent:this.headIndent,tailIndent:this.tailIndent,lineHeightMultiple:this.lineHeightMultiple,maximumLineHeight:this.maximumLineHeight,lineSpacing:this.lineSpacing,paragraphSpacing:this.paragraphSpacing,paragraphSpacingBefore:this.paragraphSpacingBefore};for(var t in e)null===e[t]&&delete e[t];return e},i([a.uniqueProperty("natural",a.UniqueKind.String),o("design:type",Object)],t.prototype,"alignment",void 0),i([a.uniqueProperty(0,a.UniqueKind.Number),o("design:type",Number)],t.prototype,"firstLineHeadIndent",void 0),i([a.uniqueProperty(0,a.UniqueKind.Number),o("design:type",Number)],t.prototype,"headIndent",void 0),i([a.uniqueProperty(0,a.UniqueKind.Number),o("design:type",Number)],t.prototype,"tailIndent",void 0),i([a.uniqueProperty(0,a.UniqueKind.Number),o("design:type",Number)],t.prototype,"lineHeightMultiple",void 0),i([a.uniqueProperty(0,a.UniqueKind.Number),o("design:type",Number)],t.prototype,"maximumLineHeight",void 0),i([a.uniqueProperty(null,a.UniqueKind.Number),o("design:type",Object)],t.prototype,"lineSpacing",void 0),i([a.uniqueProperty(0,a.UniqueKind.Number),o("design:type",Number)],t.prototype,"paragraphSpacing",void 0),i([a.uniqueProperty(0,a.UniqueKind.Number),o("design:type",Number)],t.prototype,"paragraphSpacingBefore",void 0),t}(a.Unique);t.ParagraphStyleAttributeBase=s;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(s);t.ParagraphStyleAttribute=l,l.initializeUnique()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ShadowAttribute=void 0;var a=n(1563),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.serialize=function(){return{xOffset:this.xOffset,yOffset:this.yOffset,blurRadius:this.blurRadius,color:this.color}},i([a.uniqueProperty(1,a.UniqueKind.Number),o("design:type",Number)],t.prototype,"xOffset",void 0),i([a.uniqueProperty(1,a.UniqueKind.Number),o("design:type",Number)],t.prototype,"yOffset",void 0),i([a.uniqueProperty(0,a.UniqueKind.Number),o("design:type",Number)],t.prototype,"blurRadius",void 0),i([a.uniqueProperty("black",a.UniqueKind.String),o("design:type",Object)],t.prototype,"color",void 0),t}(a.Unique);t.ShadowAttribute=s,s.initializeUnique()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TextAttachmentAttribute=void 0;var a=n(1563),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.serialize=function(){return{contents:this.contents}},i([a.uniqueProperty("",a.UniqueKind.String),o("design:type",Object)],t.prototype,"contents",void 0),t}(a.Unique);t.TextAttachmentAttribute=s,s.initializeUnique()},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.UnderlineStyleAttribute=void 0,(r=t.UnderlineStyleAttribute||(t.UnderlineStyleAttribute={}))[r.STYLE_NONE=0]="STYLE_NONE",r[r.STYLE_SINGLE=1]="STYLE_SINGLE",r[r.STYLE_THICK=2]="STYLE_THICK",r[r.STYLE_DOUBLE=9]="STYLE_DOUBLE",r[r.PATTERN_DOT=256]="PATTERN_DOT",r[r.PATTERN_DASH=512]="PATTERN_DASH",r[r.PATTERN_DASH_DOT=768]="PATTERN_DASH_DOT",r[r.PATTERN_DASH_DOT_DOT=1024]="PATTERN_DASH_DOT_DOT",r[r.BY_WORD=32768]="BY_WORD"},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.LigatureAttribute=void 0,(r=t.LigatureAttribute||(t.LigatureAttribute={})).NO_LIGATURES="NO_LIGATURES",r.DEFAULT_LIGATURES="DEFAULT_LIGATURES",r.ALL_LIGATURES="ALL_LIGATURES"},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.WritingDirectionAttribute=void 0,(r=t.WritingDirectionAttribute||(t.WritingDirectionAttribute={}))[r.Natural=-1]="Natural",r[r.leftToRight=0]="leftToRight",r[r.rightToLeft=1]="rightToLeft"},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.WritingDirectionFormatAttribute=void 0,(r=t.WritingDirectionFormatAttribute||(t.WritingDirectionFormatAttribute={}))[r.EMBEDDING=0]="EMBEDDING",r[r.OVERRIDE=2]="OVERRIDE"},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.AttributedStringSlice=void 0;var o=n(1543),a=n(1580),s=n(1666),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isFreeing=!1,t}return r(t,e),t.prototype.free=function(){if(!this._isFreeing){this._isFreeing=!0;try{e.prototype.free.call(this)}finally{this._isFreeing=!1}}},t.prototype.createIteratorFromUnderlying=function(e){return s.AttributedStringSliceIterator.create(this,e)},t.create=function(e,t,n){var r=this.alloc();return r.initAttributedStringSliceBase(e,t,n),r.autorelease()},i([o.sealed],t)}(a.AttributedStringSliceBase);t.AttributedStringSlice=l,l.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AttributedStringSliceBase=void 0;var i=n(1581),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isaAttributedString=!0,t.isaAttributedStringObserver=!0,t.attributedStringDidAlterAttributes=function(e,n,r){var i=t.createIteratorFromUnderlying(n),o=t.createIteratorFromUnderlying(r);t.notifyObservers(i,o)},t._observers=[],t}return r(t,e),t.prototype.copyAttributesInRangeToArray=function(e,t,n,r){void 0===r&&(r=!0);var i=e.underlyingIterator,o=t.underlyingIterator;this.string.copyAttributesInRangeToArray(i,o,n,r)},t.prototype.copyCodePointsAndAttributesInRangeToArrays=function(e,t,n,r,i){void 0===i&&(i=!0);var o=e.underlyingIterator,a=t.underlyingIterator;this.string.copyCodePointsAndAttributesInRangeToArrays(o,a,n,r,i)},t.prototype.forEachWithAttributesInInUnderlyingRange=function(e,t,n){var r=this.start.distanceFromStart();this.string.forEachWithAttributesInRange(e,t,(function(e,t,o){n(e,t,i.CodePointIndexOps.subtract(o,r))}))},t.prototype.forEachWithAttributesInRange=function(e,t,n){this.forEachWithAttributesInInUnderlyingRange(e.underlyingIterator,t.underlyingIterator,n)},t.prototype.forEachWithAttributes=function(e){this.forEachWithAttributesInInUnderlyingRange(this.atStart().underlyingIterator,this.atEnd().underlyingIterator,e)},t.prototype.someWithAttributesInUnderlyingRange=function(e,t,n){if(e.isAfter(t))return!1;var r=this.start.distanceFromStart();return this.string.someWithAttributesInRange(e,t,(function(e,t,o){return n(e,t,i.CodePointIndexOps.subtract(o,r))}))},t.prototype.someWithAttributesInRange=function(e,t,n){return this.someWithAttributesInUnderlyingRange(e.underlyingIterator,t.underlyingIterator,n)},t.prototype.someWithAttributes=function(e){return this.someWithAttributesInUnderlyingRange(this.atStart().underlyingIterator,this.atEnd().underlyingIterator,e)},t.prototype.alterAttributesInRange=function(e,t,n){var r=e.underlyingIterator,i=t.underlyingIterator;return this.string.alterAttributesInRange(r,i,n)},t.prototype.addAttributeToRange=function(e,t,n,r){var i=e.underlyingIterator,o=t.underlyingIterator;return this.string.addAttributeToRange(i,o,n,r)},t.prototype.removeAttributeFromRange=function(e,t,n){var r=e.underlyingIterator,i=t.underlyingIterator;return this.string.removeAttributeFromRange(r,i,n)},t.prototype.addAttributedStringObserver=function(e){this._observers.push(e)},t.prototype.removeAttributedStringObserver=function(e){var t=this._observers.indexOf(e);t>=0&&this._observers.splice(t,1)},t.prototype.underlyingStringProtocolPredicate=function(e){return i.isAttributedString(e)},t.prototype.notifyObservers=function(e,t){for(var n=0,r=this._observers.slice(0);n<r.length;n++)r[n].attributedStringDidAlterAttributes(this,e.clone(),t.clone())},t.prototype.insertStrOrCPWithAttributes=function(e,t,n,r){var o=this.start.affinity,a=this.end.affinity;this.start.affinity=i.IteratorAffinity.BEFORE,this.end.affinity=i.IteratorAffinity.AFTER;var s=e.underlyingIterator.insertWithAttributes(t,n,r);return this.start.affinity=o,this.end.affinity=a,s},t.prototype.createAttributeDictionary=function(e){return this.string.createAttributeDictionary(e)},t.prototype.instanceInit=function(){e.prototype.instanceInit.call(this),this._observers.length=0},t.prototype.free=function(){this.string.removeAttributedStringObserver(this),this._observers.length=0,e.prototype.free.call(this)},t.prototype.initAttributedStringSliceBase=function(t,n,r){e.prototype.initStringSliceBase.call(this,t,n,r),this.string.addAttributedStringObserver(this)},t}(n(1655).StringSliceBase);t.AttributedStringSliceBase=o},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1582),t),i(n(1583),t),i(n(1584),t),i(n(1585),t),i(n(1586),t),i(n(1587),t),i(n(1588),t),i(n(1589),t),i(n(1590),t),i(n(1591),t),i(n(1592),t),i(n(1593),t),i(n(1645),t),i(n(1646),t),i(n(1647),t),i(n(1648),t),i(n(1649),t),i(n(1650),t),i(n(1651),t),i(n(1652),t),i(n(1653),t),i(n(1654),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAttributedStringSlice=void 0,t.isAttributedStringSlice=function(e){return Boolean(e&&e.isaStringSlice&&e.isaAttributedString)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAttributedStringSliceIterator=void 0,t.isAttributedStringSliceIterator=function(e){return!!e&&Boolean(e.isaStringSliceIterator&&e.isaAttributedStringIterator)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAttributedString=void 0,t.isAttributedString=function(e){return!!e&&Boolean(e.isaAttributedString)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAttributedStringIterator=void 0,t.isAttributedStringIterator=function(e){return!!e&&Boolean(e.isaAttributedStringIterator)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAttributedStringObserver=void 0,t.isAttributedStringObserver=function(e){return!!e&&Boolean(e.isaAttributedStringObserver)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isReadonlyAttributedString=void 0,t.isReadonlyAttributedString=function(e){return!!e&&Boolean(e.isaAttributedString)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isReadonlyAttributedStringIterator=void 0,t.isReadonlyAttributedStringIterator=function(e){return!!e&&Boolean(e.isaAttributedStringIterator)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.isReadonlyString=t.UNDEFINED_CODEPOINT=t.CodeUnitIndexArrayOps=t.CodePointIndexArrayOps=t.IntegerArrayOps=t.CodeUnitIndexOps=t.CodeUnitCountOps=t.CodePointIndexOps=t.CodePointCountOps=t.IntegerOps=t.ZERO_CODE_UNIT_INDEX=t.ZERO_CODE_POINT_INDEX=t.MIN_CODE_UNIT_COUNT=t.MIN_CODE_POINT_COUNT=void 0;var a=n(1594),s=n(1624);t.MIN_CODE_POINT_COUNT=0,t.MIN_CODE_UNIT_COUNT=0,t.ZERO_CODE_POINT_INDEX=0,t.ZERO_CODE_UNIT_INDEX=0;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.compare=function(e,t){return e-t},t}(s.ComparatorBase),u=function(){function e(){this.is=new l}return e.prototype.from=function(e){return e},e.prototype.add=function(e,t){return e+t},e.prototype.incremented=function(e){return e+1},e.prototype.subtract=function(e,t){return e-t},e.prototype.decremented=function(e){return e-1},e.prototype.negate=function(e){return-e},e.prototype.isZero=function(e){return 0===e},e.prototype.min=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Math.min.apply(Math,e)},e.prototype.max=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Math.max.apply(Math,e)},i([a.inline(),o("design:type",Function),o("design:paramtypes",[Number]),o("design:returntype",Number)],e.prototype,"from",null),i([a.inline(),o("design:type",Function),o("design:paramtypes",[Number,Number]),o("design:returntype",Number)],e.prototype,"add",null),i([a.inline(),o("design:type",Function),o("design:paramtypes",[Number]),o("design:returntype",Number)],e.prototype,"incremented",null),i([a.inline(),o("design:type",Function),o("design:paramtypes",[Number,Number]),o("design:returntype",Number)],e.prototype,"subtract",null),i([a.inline(),o("design:type",Function),o("design:paramtypes",[Number]),o("design:returntype",Number)],e.prototype,"decremented",null),i([a.inline(),o("design:type",Function),o("design:paramtypes",[Number]),o("design:returntype",Number)],e.prototype,"negate",null),i([a.inline(),o("design:type",Function),o("design:paramtypes",[Number]),o("design:returntype",Boolean)],e.prototype,"isZero",null),i([a.inline(),o("design:type",Function),o("design:paramtypes",[Number]),o("design:returntype",Number)],e.prototype,"min",null),i([a.inline(),o("design:type",Function),o("design:paramtypes",[Number]),o("design:returntype",Number)],e.prototype,"max",null),e}();t.IntegerOps=u,t.CodePointCountOps=new u,t.CodePointIndexOps=new u,t.CodeUnitCountOps=new u,t.CodeUnitIndexOps=new u;var c=function(){function e(){}return e.prototype.translate=function(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;++i)r[i]=e[i]+t;return r},i([a.inline(),o("design:type",Function),o("design:paramtypes",[Array,Number]),o("design:returntype",Array)],e.prototype,"translate",null),e}();t.IntegerArrayOps=c,t.CodePointIndexArrayOps=new c,t.CodeUnitIndexArrayOps=new c,t.UNDEFINED_CODEPOINT=-1,t.isReadonlyString=function(e){return!!e&&Boolean(e.isaString)}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.lintable=t.flooredMod=t.copy32=t.delayMocha=t.setUpMocha=void 0,o(n(1595),t),o(n(1596),t),o(n(1597),t),o(n(1598),t);var s=n(1599);Object.defineProperty(t,"setUpMocha",{enumerable:!0,get:function(){return s.setUpMocha}}),Object.defineProperty(t,"delayMocha",{enumerable:!0,get:function(){return s.delayMocha}}),o(n(1601),t),o(n(1602),t),o(n(1603),t),o(n(1604),t),o(n(1605),t),o(n(1606),t),o(n(1607),t),o(n(1608),t),o(n(1600),t),o(n(1609),t);var l=n(1610);Object.defineProperty(t,"copy32",{enumerable:!0,get:function(){return l.copy32}});var u=n(1611);Object.defineProperty(t,"flooredMod",{enumerable:!0,get:function(){return u.flooredMod}}),o(n(1612),t),o(n(1613),t),o(n(1614),t),o(n(1615),t),o(n(1616),t),o(n(1617),t),o(n(1618),t),o(n(1619),t),o(n(1620),t),n(1621),o(n(1622),t);var c=a(n(1623));t.lintable=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyMixins=void 0,t.applyMixins=function(e,t){t.forEach((function(t){Object.getOwnPropertyNames(t.prototype).forEach((function(n){e.prototype[n]=t.prototype[n]}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyMixinsToInstance=void 0,t.applyMixinsToInstance=function(e,t){t.forEach((function(t){for(var n=t.prototype,r=0,i=Object.getOwnPropertyNames(n);r<i.length;r++){var o=i[r],a=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(e,o,a)}for(var s=new t,l=0,u=Object.getOwnPropertyNames(s);l<u.length;l++){var c=u[l];e[c]=s[c]}}))}},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.spy=t.dbgFunctionInvocations=t.dbgMethodInvocations=t.stringify=void 0;var i=console,o=NaN;t.stringify=function(e){var n="unknown<"+typeof e+">";if(e instanceof UIEvent){for(var r={},i=0,o=["type","key","code","data","inputType","isTrusted"];i<o.length;i++){var a=o[i];void 0!==e[a]&&(r[a]=e[a])}e=r}else{if(Array.isArray(e))return"["+e.map(t.stringify).join(", ")+"]";if(!e||"object"!==typeof e||"function"!==typeof e.toString||-1!==[Object.prototype.toString,Array.prototype.toString].indexOf(e.toString))try{return JSON.stringify(e)}catch(s){return e?n:String(e)||JSON.stringify(e)}}try{return e.toString()}catch(s){return n}};var a={compositionStart:"red",compositionUpdate:"orange",compositionEnd:"green"},s=function(e,t,n){return e!==n[t-1]},l=[],u=function(e,n,u){for(var c=[],d=3;d<arguments.length;d++)c[d-3]=arguments[d];var h=0;e&&(e+=".");var f,p=c.pop();"object"===typeof p?f=p:(f=i,p&&c.push(p));var g=c;function y(i,a){return function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];var d=this||n,p=Date.now(),g=p-o;g&&g>250&&f.info(""),o=p;var y="";if(l.push(!0),s.length)try{y=s.map(t.stringify).join(", ")}catch(P){y=s.length+" arg"+(1===s.length?"":"s")}var v=a.toString(),m=u[v]||"inherit";l.pop();var b,_,C=navigator.userAgent.match(/ (Trident|Edge)/)?"":"%c",I=!l.length&&"none"!==m;I&&f.groupCollapsed(""+e+C+v+C+"("+C+y+C+")",C&&"color: "+m+";",C&&"color: inherit;",C&&"font-weight: normal;",C&&"font-weight: inherit;"),h+=1;try{b=i.call.apply(i,r([this],s))}catch(P){_=P}void 0!==b&&f.info("\u21d0",b),_&&f.error(_),I&&f.groupEnd();var T=d.dbg_anyNestingLevel||"";if(T&&f.info(T),0===--h&&(T=d.dbg_topNestingLevel||"")&&f.info(T),_)throw _;return b}}function v(e){var t=n,r=t[e],i=y(r,e);return i.undo=function(){t[e]=r},t[e]=i}function m(e){var t=Object.getOwnPropertyDescriptors(n)[e],r=y(t.get,e);return t.get=r,Object.defineProperty(n,e,t),r}if("string"===typeof u&&(g.unshift(u),u=void 0),void 0===u&&(u=a),g.length||(g=Object.keys(n).filter((function(e){return"constructor"!==e}))),g.sort(),g=g.filter(s),f!==i||!/^\/internal\/ct-tests-/.test(location.pathname)){var b=Object;if(b.entries){var _=b.entries(b.getOwnPropertyDescriptors(n)).filter((function(e){return e[0],"function"===typeof e[1].get})).reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{});for(var C in _){var I=g.indexOf(C);-1!==I&&(g.splice(I,1),m(C))}}g.forEach(v)}};t.dbgMethodInvocations=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];u.apply(void 0,r([e.name,e.prototype,t],n))},t.dbgFunctionInvocations=function(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];u.apply(void 0,r([e,t,n],i))},t.spy=function(e,t,n,r,o){void 0===t&&(t=e.name),void 0===n&&(n=""),void 0===r&&(r="inherit"),void 0===o&&(o=i);var a={},s={};return a[t]=e,s[t]=r,u(n,a,s,t,o),a[t]}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.focusDebug=void 0,t.focusDebug=function(e,t){if(void 0===e&&(e=1/0),void 0===t&&(t=!0),e===1/0&&!t)throw new Error("Neither declaring a poll interval or enabling event listening is a no-op!");function n(){var e=document.activeElement;e!==r&&(console.info("focus changed to:",e),r=e)}function i(e){console.group(e.type+" event fired:",e.target,e),n(),console.groupEnd()}r=document.activeElement,e!==1/0&&setInterval(n,100),t&&(window.addEventListener("focus",i,!0),window.addEventListener("blur",i,!0))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delayMocha=t.setUpMocha=void 0;var r=n(1600).global,i=r.mochaPhantomJS||r.mocha,o=0,a=[],s=i&&i.run,l=!1,u=!1;function c(){r.callPhantom&&i.setup({reporter:"spec",useColors:!0,timeout:1e4});var e=s.apply(i,a);r.callPhantom&&(e.on("start",(function(){r.callPhantom("mochaDidStart",{})})),e.on("end",(function(){r.callPhantom("mochaDidEnd",{failures:e.failures,total:e.total})})))}t.setUpMocha=function(){r.initMochaPhantomJS&&r.initMochaPhantomJS(),r.callPhantom&&r.callPhantom({testRunStarted:1})},t.delayMocha=function(e){o++,e.then((function(){0===--o&&l&&!u&&(u=!0,c())}))},i&&(i.run=function(){l=!0,a=Array.from(arguments),0===o?(u=!0,c()):l=!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.global=void 0;var r=function(){if(this)return this;if("undefined"!==typeof globalThis)return globalThis;if("undefined"!==typeof window)return window;throw new Error("Could not compute global")}();t.global=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configurePromise=t.CTPromise=t.DefaultPixelTestTimeout=void 0,t.DefaultPixelTestTimeout=6e3;var r=Promise;t.CTPromise=function(e){return new r(e)},t.CTPromise.resolve=function(e){return r.resolve(e)},t.CTPromise.reject=function(e){return r.reject(e)},t.CTPromise.race=function(e){return r.race(e)},t.CTPromise.all=function(e){return r.all(e)},t.configurePromise=function(e){r=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configureFetch=t.ctFetch=void 0;var r=n(1600),i=r.global.fetch;t.ctFetch=function(){return i.apply(r.global,arguments)},t.configureFetch=function(e){i=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configureLogger=t.logger=void 0;var r={log:console.log.bind(console),warn:console.warn.bind(console),error:console.error.bind(console)};t.logger={log:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];r.log(e+t.join(" "))},warn:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];r.warn(e+t.join(" "))},error:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];r.error(e+t.join(" "))}},t.configureLogger=function(e){r=e}},function(e,t,n){"use strict";var r,i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.configureTimers=t.timers=void 0;var o=n(1600),a={setTimeout:o.global.setTimeout.bind(o.global),setInterval:o.global.setInterval.bind(o.global),requestAnimationFrame:(null===(r=o.global.requestAnimationFrame)||void 0===r?void 0:r.bind(o.global))||function(e){setTimeout(e,1)}};t.timers={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return a.setTimeout.apply(a,i([e,t],n))},setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return a.setInterval.apply(a,i([e,t],n))},requestAnimationFrame:function(e){return a.requestAnimationFrame(e)}},t.configureTimers=function(e){a=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configureNow=t.now=void 0;var r,i=n(1600);r=i.global.performance?function(){return i.global.performance.now()}:i.global.process.hrtime?function(){var e=i.global.process.hrtime();return 1e3*(e[0]+1e-9*e[1])}:function(){return Date.now()},t.now=function(){return r()},t.configureNow=function(e){r=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CTInvertedPromise=void 0;var r=n(1601);t.CTInvertedPromise=function(){var e,t,n=new r.CTPromise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configure=void 0;var r=n(1601),i=n(1602),o=n(1603),a=n(1605),s=n(1604);t.configure=function(e){e.Promise&&r.configurePromise(e.Promise),e.fetch&&i.configureFetch(e.fetch),e.logger&&o.configureLogger(e.logger),e.timers&&s.configureTimers(e.timers),e.now&&a.configureNow(e.now)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FONT_IMPRINT_MORSE=t.FONT_IMPRINT_STRING=t.MORSE=void 0,t.MORSE={A:".-",B:"-...",C:"-.-.",D:"-..",E:".",F:"..-.",G:"--.",H:"....",I:"..",J:".---",K:"-.-",L:".-..",M:"--",N:"-.",O:"---",P:".--.",Q:"--.-",R:".-.",S:"...",T:"-",U:"..-",V:"...-",W:".--",X:"-..-",Y:"-.--",Z:"--.."},t.FONT_IMPRINT_STRING="2DCRZY1S",t.FONT_IMPRINT_MORSE=t.FONT_IMPRINT_STRING.split("").map((function(e){return t.MORSE[e]})).join(" ")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringIsCJK=t.characterCodeIsCJK=void 0;var r=[[4352,4607],[11904,12031],[12032,12255],[12288,12351],[12352,12447],[12448,12543],[12544,12591],[12592,12687],[12688,12703],[12704,12735],[12800,13055],[13056,13311],[13312,19893],[19968,40959],[40960,42127],[42128,42191],[44032,55203],[63744,64255],[65072,65103]];t.characterCodeIsCJK=function(e){var t,n=r;if(!e)return!1;for(var i=0,o=n.length;i<o;++i)if(e>=(t=n[i])[0]&&e<=t[1])return!0;return!1},t.stringIsCJK=function(e){if(0===(e=e.trim()).length)return!1;for(var n=0,r=e.length-1;n<=r;)if(!t.characterCodeIsCJK(e.charCodeAt(n++))||!t.characterCodeIsCJK(e.charCodeAt(r--)))return!1;return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copy32=void 0,t.copy32=function(e,t,n,r,i){for(var o=i>>2,a=i%4,s=new Uint32Array(e.buffer,e.byteOffset+t,o),l=new Uint32Array(n.buffer,n.byteOffset+r,o),u=0;u<o;++u)l[u]=s[u];var c=t+i-a,d=r+i-a;for(u=0;u<a;++u)n.setUint8(d+u,e.getUint8(c+u))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flooredMod=void 0,t.flooredMod=function(e,t){return e-t*Math.floor(e/t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.indentCode=void 0,t.indentCode=function(e,t){return e.split("\n").map((function(e){return e&&t+e||""})).join("\n").trim()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inline=void 0,t.inline=function(){return function(e,t,n){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isReadonlyArray=void 0,t.isReadonlyArray=function(e){return Array.isArray(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.utf16StringToCodePoints=void 0,t.utf16StringToCodePoints=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=0),n=n||0;for(var r=0;r<e.length;){var i=e.charCodeAt(r++);if(i<55296||i>57343)t[n++]=i;else{if(!(55296<=i&&i<=56319))throw new Error("Unpaired low surrogate: "+i+" ["+r+"]");var o=e.charCodeAt(r++);if(!(56320<=o&&o<=57343))throw new Error("Invalid low surrogate: "+o+" ["+r+"]");t[n++]=((1023&i)<<10)+(1023&o)+65536}}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.codePointsToUTF16String=void 0,t.codePointsToUTF16String=function(e){for(var t="",n=0;n<e.length;++n){var r=e[n];if(r<65536)t+=String.fromCharCode(e[n]);else{var i=r-65536,o=55296|(1047552&i)>>10,a=56320|(1023&i)>>0;t+=String.fromCharCode(o),t+=String.fromCharCode(a)}}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.utf8ByteArrayToCodePoints=void 0,t.utf8ByteArrayToCodePoints=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(r<=127)t.push(r);else if(192<=r&&r<=223)t.push(((31&r)<<6)+((63&e[++n])<<0));else if(224<=r&&r<=239)t.push(((15&r)<<12)+((63&e[++n])<<6)+((63&e[++n])<<0));else{if(!(240<=r&&r<=247))continue;t.push(((7&r)<<18)+((63&e[++n])<<12)+((63&e[++n])<<6)+((63&e[++n])<<0))}}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.codePointsToUTF8ByteArray=void 0,t.codePointsToUTF8ByteArray=function(e){for(var t=new Uint8Array(4*e.length),n=0,r=0;r<e.length;r++){var i=e[r];if(i>=55296&&i<=56319){var o=0|e[r+1];o>=56320&&o<=57343&&(i=((1023&i)<<10)+(1023&o)+65536,r++)}i>=55296&&i<57344&&(i=65533),i<=127?t[n++]=i:i<=2047?(t[n++]=192|i>>>6&31,t[n++]=128|63&i):i<=65535?(t[n++]=224|i>>>12&15,t[n++]=128|i>>>6&63,t[n++]=128|63&i):(t[n++]=240|i>>>18&7,t[n++]=128|i>>>12&63,t[n++]=128|i>>>6&63,t[n++]=128|63&i)}return new Uint8Array(t.buffer,t.byteOffset,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0,t.debounce=function(e,t){var n,r,i=NaN;function o(){if(!n){var a=Date.now(),s=t-(a-i);s<=0?e.apply(void 0,r):n=window.setTimeout((function(){n=null,o()}),s)}}return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r=e,i=Date.now(),o()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1600);r.global.process&&"function"===typeof process.cpuUsage&&(r.global.$assert=function(e,t){if(!e)throw new Error(t||"Assertion failed!")})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dbg_refcountedActiveInstances=t.assertNoMemoryLeaks=void 0;var r=n(1543);function i(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]);for(var n=new Map,i=0,o=r.dbg_refcountedClasses.filter((function(e){return-1===t.indexOf(e)}));i<o.length;i++){var a=o[i];n.set(a,a.dbg_activeInstances.toArray().filter((function(t){return-1===e.indexOf(t)})))}return n}t.assertNoMemoryLeaks=function(e){var t,n,o,a,s=e&&e.ignoreInstances?e.ignoreInstances.refcounted:[],l=e&&e.ignoreClasses?e.ignoreClasses.refcounted:[];beforeEach((function(){t=r.dbg_pooledActiveInstanceCounts(e&&e.ignoreClasses?e.ignoreClasses.pooled:[]),n=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]);for(var n=new Map,i=function(t){var r=e.filter((function(e){return e.constructor===t})).length;n.set(t,t.dbg_activeInstanceCount-r)},o=0,a=0===t.length?r.dbg_refcountedClasses:r.dbg_refcountedClasses.filter((function(e){return-1===t.indexOf(e)}));o<a.length;o++){i(a[o])}return n}(s,l),r.DEBUG_OPTS.trackActiveInstances&&(o=r.dbg_pooledActiveInstances(),a=i(s,l)),r.beginAutoreleaseFrame()})),afterEach((function(){r.endAutoreleaseFrame();var i=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=[]);for(var i=new Map,o=function(n){var r=e.get(n);if(void 0!==r){var o=t.filter((function(e){return e.constructor===n})).length;n.dbg_activeInstanceCount-o!==r&&i.set(n,n.dbg_activeInstanceCount-o-r)}else i.set(n,n.dbg_activeInstanceCount)},a=0,s=0===n.length?r.dbg_refcountedClasses:r.dbg_refcountedClasses.filter((function(e){return-1===n.indexOf(e)}));a<s.length;a++){o(s[a])}return i}(n,s,l),u=r.dbg_pooledActiveInstanceCountDifferences(t,e&&e.ignoreClasses?e.ignoreClasses.pooled:[]);if(r.DEBUG_OPTS.trackActiveInstances&&i.size>0&&(r.dbg_pooledActiveInstancesAdded(o),function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=[]);for(var i=new Map,o=function(n){var r=e.get(n);if(void 0!==r){var o=n.dbg_activeInstances.toArray().filter((function(e){return-1===t.indexOf(e)&&-1===r.indexOf(e)}));o.length>0&&i.set(n,o)}else i.set(n,n.dbg_activeInstances.toArray())},a=0,s=r.dbg_refcountedClasses.filter((function(e){return-1===n.indexOf(e)}));a<s.length;a++){o(s[a])}}(a,s,l)),0!==i.size)throw new Error("expected refcountedCountDiffs.size ("+i.size+" to be 0!");if(r.DEBUG_OPTS.trackActiveInstances&&u.size>0&&r.dbg_pooledActiveInstancesAdded(o),0!==u.size)throw new Error("expected pooledCountDiffs.size ("+u.size+" to be 0!")}))},t.dbg_refcountedActiveInstances=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.object=t.array=t.legalNakedObjectProperty=t.identifier=t.string=t.value=void 0;var r=n(1612);t.value=function(e){switch(typeof e){case"undefined":case"boolean":case"number":return String(e);case"string":return t.string(e);case"object":return Array.isArray(e)?t.array(e):e instanceof RegExp?"/"+e.source.replace(/\n/gm,"\\n")+"/"+e.flags:e&&"function"===typeof e.serialize?t.value(e.serialize()):t.object(e);default:throw new TypeError("unsupported type "+typeof e+" of "+e)}},t.string=function(e){return"'"+(e=(e=(e=(e=JSON.stringify(e)).slice(1,-1)).replace(/'/g,"\\'")).replace(/(?!\/)\\"/g,'"'))+"'"};var i=new RegExp("^(?!(?:"+["do","if","in","for","let","new","try","var","case","else","enum","eval","false","null","this","true","void","with","break","catch","class","const","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof"].join("|")+")$)[$A-Z_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6][$A-Z_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf60-9]*$");t.identifier=function(e){return i.test(e)?e:t.string(e)},t.legalNakedObjectProperty=function(e){return String(Number(e))===e?e:t.identifier(e)},t.array=function(e){for(var n="[",i="",o=!0,a=0,s=e;a<s.length;a++){var l=s[a],u=t.value(l);u.indexOf("\n")>-1?(i&&(i+=","),n+=i+"\n",i="    ",i+=r.indentCode(u,"    "),o=!0):(i&&(i+=","),i.length+1+u.length+1>100&&(o=!0),o?(n+=i+"\n",i="    ",o=!1):i+=" ",i+=u)}return n+(i+"\n]")},t.object=function(e){if(null===e)return"null";if("object"!==typeof e)throw new TypeError(e+" is not an object");var n=[];for(var i in e)e.hasOwnProperty(i)&&n.push(t.legalNakedObjectProperty(i)+": "+r.indentCode(t.value(e[i]),"    "));if(!n.length)return"{}";var o=n.join(", ");return o.length<46?"{ "+o+" }":"{\n    "+n.join(",\n    ")+"\n}"}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0}),r(n(1625)),r(n(1626)),r(n(1627)),r(n(1629)),r(n(1630)),r(n(1631)),r(n(1632)),r(n(1633)),r(n(1634)),r(n(1635)),r(n(1636)),r(n(1637)),r(n(1638)),r(n(1639)),r(n(1640));var o=i(n(1641));t.Testing=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numberAdder=function(e,t){return e+t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numberDifferenceCalculator=function(e,t){return e-t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1628);t.integerMin=r.MIN_SAFE_INTEGER},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MIN_SAFE_INTEGER=-9007199254740991},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numberShifter=function(e,t){return e+t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numberZero=0},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.notEqualTo=function(e,t){return!this.equalTo(e,t)},e}();t.EqualityComparatorBase=i;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.equalTo=function(e,t){return 0===this.compare(e,t)},t.prototype.notEqualTo=function(e,t){return 0!==this.compare(e,t)},t.prototype.lessThan=function(e,t){return this.compare(e,t)<0},t.prototype.lessThanOrEqualTo=function(e,t){return this.compare(e,t)<=0},t.prototype.greaterThanOrEqualTo=function(e,t){return this.compare(e,t)>=0},t.prototype.greaterThan=function(e,t){return this.compare(e,t)>0},t.prototype.min=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=e;t.length>0;){var i=t.shift();this.lessThan(i,r)&&(r=i)}return r},t.prototype.max=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=e;t.length>0;){var i=t.shift();this.greaterThan(i,r)&&(r=i)}return r},t}(i);t.ComparatorBase=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.endPointComparator=e}return e.prototype.compare=function(e,t,n,r){var i=this.endPointComparator.compare(e,n);return 0!==i?i:this.endPointComparator.compare(t,r)},e.prototype.isOpenIntervalBefore=function(e,t,n,r){return this.endPointComparator.lessThan(t,n)},e.prototype.isClosedIntervalBefore=function(e,t,n,r){return this.endPointComparator.lessThanOrEqualTo(t,n)},e.prototype.areEqual=function(e,t,n,r){return this.isIntervalEqual(e,t,n,r)},e.prototype.isClosedIntervalAfter=function(e,t,n,r){return this.endPointComparator.greaterThanOrEqualTo(e,r)},e.prototype.isOpenIntervalAfter=function(e,t,n,r){return this.endPointComparator.greaterThan(e,r)},e.prototype.doesClosedIntervalOverlap=function(e,t,n,r){return this.endPointComparator.lessThanOrEqualTo(e,r)&&this.endPointComparator.lessThanOrEqualTo(n,t)},e.prototype.doesOpenIntervalOverlap=function(e,t,n,r){return this.endPointComparator.lessThan(e,r)&&this.endPointComparator.lessThan(n,t)},e.prototype.doesClosedIntervalEnclose=function(e,t,n,r){return this.endPointComparator.lessThanOrEqualTo(e,n)&&this.endPointComparator.greaterThanOrEqualTo(t,r)},e.prototype.isIntervalEqual=function(e,t,n,r){return this.endPointComparator.equalTo(e,n)&&this.endPointComparator.equalTo(t,r)},e}();t.IntervalComparatorBase=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1543),a=n(1631),s=n(1632),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.prototype.equalTo=function(e,t){return e===t},t.prototype.notEqualTo=function(e,t){return e!==t},t.instance=new n,i([o.sealed],t)}(a.EqualityComparatorBase);t.NumberEqualityComparator=l,t.numberComparator=function(e,t){return e-t};var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.prototype.compare=function(e,t){return e-t},t.instance=new n,i([o.sealed],t)}(a.ComparatorBase);t.NumberComparator=u;var c=function(e){function t(){return e.call(this,u.instance)||this}var n;return r(t,e),n=t,t.instance=new n,i([o.sealed],t)}(s.IntervalComparatorBase);t.NumberIntervalComparator=c,t.numberPairIntervalComparator=function(e,n){var r=t.numberComparator(e[0],n[0]);return 0!==r?r:t.numberComparator(e[1],n[1])}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1543),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.create=function(e,t){var n=this.alloc_own();return n.initPooledIntervalBase(e,t),n},i([o.sealed],t)}(n(1635).PooledIntervalBase);t.PooledInterval=a,a.initializePooled()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.low=null,t.high=null,t}return r(t,e),t.prototype.setLow=function(e){this.low=e},t.prototype.setHigh=function(e){this.high=e},t.prototype.setLowAndHigh=function(e,t){this.low=e,this.high=t},t.prototype.instanceInit=function(){this.low=null,this.high=null,e.prototype.instanceInit.call(this)},t.prototype.initPooledIntervalBase=function(e,t){this.low=e,this.high=t},t}(n(1543).Pooled);t.PooledIntervalBase=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1543),a=n(1637),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.initPooledIntervalWithFacade=function(t,n,r){e.prototype.initPooledIntervalBaseWithFacade.call(this,t,n,r)},t.create=function(e,t,n){var r=this.alloc_own();return r.initPooledIntervalWithFacade(e,t,n),r},i([o.sealed],t)}(a.PooledIntervalBaseWithFacade);t.PooledIntervalWithFacade=s,s.initializePooled();var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.initInterval=function(t){e.prototype.initIntervalBase.call(this,t)},t.create=function(e,t){var n=this.alloc(),r=s.create(n,e,t);return n.initInterval(r),n.autorelease()},i([o.sealed],t)}(a.IntervalBase);t.Interval=l,l.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1543),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.facade=null,t}return r(t,e),t.prototype.initPooledIntervalBaseWithFacade=function(t,n,r){e.prototype.initPooledIntervalBase.call(this,n,r),this.facade=t},t}(n(1635).PooledIntervalBase);t.PooledIntervalBaseWithFacade=o;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._pooled=null,t}return r(t,e),Object.defineProperty(t.prototype,"low",{get:function(){return this._pooled.low},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"high",{get:function(){return this._pooled.high},enumerable:!0,configurable:!0}),t.prototype.free=function(){this._pooled.free(),e.prototype.free.call(this)},t.prototype.initIntervalBase=function(e){this._pooled=e},t}(i.Refcounted);t.IntervalBase=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayIsEmpty=function(e){return 0===e.length},t.arrayHead=function(e){return e.length>0?e[0]:null},t.arrayTail=function(e){return e.length>0?e[e.length-1]:null},t.arrayEnqueue=function(e,t){e.push(t)},t.arrayDequeue=function(e){return e.shift()},t.arrayRemoveMatchingValue=function(e,t){for(var n=0,r=e.length-1;r>=0;--r)e[r]===t&&(e.splice(r,1),++n);return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numberArrayEquals=function(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;++r)if(e[r]!==t[r])return!1;return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.permutations=function(e){for(var t=[],n=e.length,r=[],i=0;i<n;++i)r[i]=0;function o(t,n){var r=e[t];e[t]=e[n],e[n]=r}t.push(e.slice(0));for(var a=0;a<n;)r[a]<a?(o(a%2===0?0:r[a],a),t.push(e.slice(0)),r[a]+=1,a=0):(r[a]=0,a+=1);return t}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(1642)),r(n(1643)),r(n(1644))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1628),o=n(1631),a=n(1632),s=function(){function e(e){this.n=e}return e.prototype.toJSON=function(){return{n:this.n}},e}();t.ComparableObject=s,t.comparableObjectComparator=function(e,t){return e.n-t.n};var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.compare=function(e,t){return e.n-t.n},t.instance=new t,t}(o.ComparatorBase);t.ComparableObjectComparator=l;var u=function(e){function t(){return e.call(this,l.instance)||this}return r(t,e),t.instance=new t,t}(a.IntervalComparatorBase);t.ComparableObjectIntervalComparator=u,t.comparableObjectAdder=function(e,t){return new s(e.n+t.n)},t.comparableObjectDifferenceCalculator=function(e,t){return e.n-t.n},t.comparableObjectMin=new s(i.MIN_SAFE_INTEGER),t.comparableObjectZero=new s(0)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1543),o=n(1628),a=n(1631),s=n(1632),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.n=null,t}return r(t,e),t.create=function(e){var t=this.alloc();return t.n=e,t.autorelease()},t}(i.Refcounted);t.ComparableRefcountedObject=l,l.initializeRefcounted(),t.comparableRefcountedObjectComparator=function(e,t){return e.n-t.n};var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.compare=function(e,t){return e.n-t.n},t.instance=new t,t}(a.ComparatorBase);t.ComparableRefcountedObjectComparator=u;var c=function(e){function t(){return e.call(this,u.instance)||this}return r(t,e),t.instance=new t,t}(s.IntervalComparatorBase);t.ComparableRefcountedObjectIntervalComparator=c,t.comparableRefcountedObjectAdder=function(e,t){return l.create(e.n+t.n)},t.comparableRefcountedObjectDifferenceCalculator=function(e,t){return e.n-t.n},t.createComparableRefcountedObjectMin=function(){return l.create(o.MIN_SAFE_INTEGER)},t.createComparableRefcountedObjectZero=function(){return l.create(0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1543);t.assertNoMemoryLeaks=function(e,t){var n,i;beforeEach((function(){n=r.dbg_pooledActiveInstanceCounts(t?t.pooled:[]),i=r.dbg_refcountedActiveInstanceCounts(t?t.refcounted:[]),r.beginAutoreleaseFrame()})),afterEach((function(){r.endAutoreleaseFrame();var o=r.dbg_refcountedActiveInstanceCountDifferences(i,t?t.refcounted:[]),a=r.dbg_pooledActiveInstanceCountDifferences(n,t?t.pooled:[]);e.expect(o.size).to.equal(0),e.expect(a.size).to.equal(0)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isReadonlyStringIterator=void 0,t.isReadonlyStringIterator=function(e){return!!e&&Boolean(e.isaStringIterator)}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_INSERT_AFFINITY=t.DEFAULT_ITERATOR_AFFINITY=t.IteratorAffinity=void 0,function(e){e[e.BEFORE=1]="BEFORE",e[e.AFTER=2]="AFTER"}(r=t.IteratorAffinity||(t.IteratorAffinity={})),t.DEFAULT_ITERATOR_AFFINITY=r.BEFORE,t.DEFAULT_INSERT_AFFINITY=r.AFTER},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isString=void 0,t.isString=function(e){return!!e&&Boolean(e.isaString)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStringSlice=void 0,t.isStringSlice=function(e){return!!e&&Boolean(e.isaStringSlice)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStringSliceIterator=void 0,t.isStringSliceIterator=function(e){return!!e&&Boolean(e.isaStringSliceIterator)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStringIterator=void 0,t.isStringIterator=function(e){return!!e&&Boolean(e.isaStringIterator)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStringObserver=void 0,t.isStringObserver=function(e){return!!e&&Boolean(e.isaStringObserver)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.StringSliceBase=void 0;var i=n(1581),o=n(1656),a=n(1662),s=(function(){function e(){}Object.defineProperty(e,"StrSliceIterBaseModule",{get:function(){return null===this._StringSliceIteratorBaseModule&&(this._StringSliceIteratorBaseModule=n(1663)),this._StringSliceIteratorBaseModule},enumerable:!1,configurable:!0}),e._StringSliceIteratorBaseModule=null}(),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isaStringObserver=!0,t._tempLength=i.MIN_CODE_POINT_COUNT,t.isaStringSlice=!0,t.underlyingStringProtocolName="IString",t.string=null,t.start=null,t.end=null,t.iterators_ofptr=[],t}return r(t,e),t.prototype.copyCodePointsInRangeToArray=function(e,t,n,r){void 0===r&&(r=!0),this.string.copyCodePointsInRangeToArray(e.underlyingIterator,t.underlyingIterator,n,r)},t.prototype.forEachInUnderlyingRange=function(e,t,n){var r=this.start.distanceFromStart();this.string.forEachInRange(e,t,(function(e,t){n(e,i.CodePointIndexOps.subtract(t,r))}))},t.prototype.forEachInRange=function(e,t,n){this.forEachInUnderlyingRange(e.underlyingIterator,t.underlyingIterator,n)},t.prototype.forEach=function(e){this.forEachInUnderlyingRange(this.start,this.end,e)},t.prototype.someInUnderlyingRange=function(e,t,n){if(e.isAfter(t))return!1;var r=this.start.distanceFromStart();return this.string.someInRange(e,t,(function(e,t){return n(e,i.CodePointIndexOps.subtract(t,r))}))},t.prototype.someInRange=function(e,t,n){return this.someInUnderlyingRange(e.underlyingIterator,t.underlyingIterator,n)},t.prototype.some=function(e){return this.someInUnderlyingRange(this.start,this.end,e)},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this.length===i.MIN_CODE_POINT_COUNT},enumerable:!1,configurable:!0}),t.prototype.atStart=function(e){void 0===e&&(e=i.IteratorAffinity.BEFORE);var t=this.createIteratorFromUnderlying(this.start.clone());return t.affinity=e,t},t.prototype.atEnd=function(e){void 0===e&&(e=i.IteratorAffinity.AFTER);var t=this.createIteratorFromUnderlying(this.end.clone());return t.affinity=e,t},t.prototype.iteratorAt=function(e,t){var n=this.atStart();return n.moveBy(e),n.affinity=null!==t&&void 0!==t?t:e>n.distanceFromStart()?i.IteratorAffinity.AFTER:i.DEFAULT_ITERATOR_AFFINITY,n},t.prototype.delete=function(e,t){var n=this.string.delete(e.underlyingIterator,t.underlyingIterator);return o.StringOperationProxy.create(this,n)},t.prototype.stringWillBeginEditing=function(e){this._tempLength=this.length,this.beginEditing()},t.prototype.stringDidEndEditing=function(e){this.length=this._tempLength,this.endEditing()},t.prototype.stringDidInsertInRange=function(e,t,n){if(!n.isBefore(this.start)&&!t.isAfter(this.end)){(t.isAfter(this.start)||t.equals(this.start))&&this.end.isBefore(n)&&(this.end.release(),this.end=n.clone().retain()),t.isBefore(this.start)&&(this.start.release(),this.start=t.clone().retain()),this._updateIterators();var r=this.createIteratorFromUnderlying(t.clone()),o=this.createIteratorFromUnderlying(n.clone());this.isEditing?this._tempLength=i.CodePointCountOps.add(this._tempLength,r.distanceTo(o)):this.length=i.CodePointCountOps.add(this.length,r.distanceTo(o)),this.didInsert(r,o)}},t.prototype.stringDidDeleteAtPosition=function(e,t,n){if(!t.isAfter(this.end)&&!t.isBefore(this.start)){var r=this.end.distanceFrom(this.start),o=i.CodePointCountOps.subtract(this.isEditing?this._tempLength:this.length,r);this.isEditing?this._tempLength=r:this.length=r,this._updateIterators();var a=this.createIteratorFromUnderlying(t.clone());this.didDelete(a,o)}},t.prototype._updateIterators=function(){var e,t,n=this.iterators_ofptr,r=n.length;for(e=0;e<r;++e)(t=n[e]).underlyingIterator.equals(this.start)?(t._hasPrevious=!1,t._previousCodePoint=i.UNDEFINED_CODEPOINT):(t._hasPrevious=!0,t._previousCodePoint=null),t.underlyingIterator.equals(this.end)?(t._hasNext=!1,t._nextCodePoint=i.UNDEFINED_CODEPOINT):(t._hasNext=!0,t._nextCodePoint=null)},t.prototype.underlyingStringProtocolPredicate=function(e){return i.isString(e)},t.prototype.resliceButLeaveInvalid=function(e,t,n){void 0===n&&(n=!1);var r=null===e?this.start.clone():e,i=null===t?this.end.clone():t;this.start.reset(r),this.end.reset(i);for(var o=this.iterators_ofptr,a=o.length,s=0;s<a;++s){var l=o[s];n&&(l.underlyingIterator.isBefore(r)&&l.underlyingIterator.reset(r),l.underlyingIterator.isAfter(i)&&l.underlyingIterator.reset(i)),l.invalidate()}this.isEditing?this._tempLength=this.end.distanceFrom(this.start):this.length=this.end.distanceFrom(this.start)},t.prototype.insertStrOrCP=function(e,t,n){var r=this.start.affinity,a=this.end.affinity;this.start.affinity=i.IteratorAffinity.BEFORE,this.end.affinity=i.IteratorAffinity.AFTER;var s=e.underlyingIterator.insert(t,n);return this.start.affinity=r,this.end.affinity=a,o.StringOperationProxy.create(this,s)},t.prototype.addIterator=function(e){e.iteratorIndex=this.iterators_ofptr.length,this.iterators_ofptr.push(e)},t.prototype.removeIterator=function(e){var t=this.iterators_ofptr.length,n=this.iterators_ofptr[t-1];this.iterators_ofptr[e.iteratorIndex]=n,n.iteratorIndex=e.iteratorIndex,this.iterators_ofptr.pop()},t.prototype.instanceInit=function(){e.prototype.instanceInit.call(this),this.string=null,this.start=null,this.end=null,this.iterators_ofptr.length=0},t.prototype.free=function(){this.end.release(),this.start.release(),this.string.removeStringObserver(this),this.string.release(),e.prototype.free.call(this)},t.prototype.initStringSliceBase=function(e,t,n){null===t&&(t=e.atStart()),null===n&&(n=e.atEnd()),this.string=e.retain(),this.start=t.retain(),this.end=n.retain(),this.length=this.end.distanceFrom(this.start),this.string.addStringObserver(this)},t}(a.StringBase));t.StringSliceBase=s},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1657),t),i(n(1658),t),i(n(1659),t),i(n(1660),t),i(n(1661),t)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.AggregateOperation=void 0;var o=n(1543),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.subOperations=[],t._postUndoFn=null,t._postRedoFn=null,t}var n;return r(t,e),n=t,t.prototype.undo=function(){for(var e=this.subOperations.length-1;e>=0;--e)this.subOperations[e].undo();this._postUndoFn&&this._postUndoFn(this)},t.prototype.redo=function(){for(var e=0,t=this.subOperations;e<t.length;e++)t[e].redo();this._postRedoFn&&this._postRedoFn(this)},t.prototype.free=function(){for(var t=0,n=this.subOperations;t<n.length;t++)n[t].release();this.subOperations.length=0,e.prototype.free.call(this)},t.prototype.init=function(e,t,n){this._postUndoFn=t,this._postRedoFn=n;for(var r=this.subOperations,i=0,o=e;i<o.length;i++){var a=o[i];r.push(a.retain())}},t.create=function(e,t,r){void 0===t&&(t=null),void 0===r&&(r=null);var i=n.alloc();return i.init(e,t,r),i.autorelease()},n=i([o.sealed],t)}(o.Refcounted);t.AggregateOperation=a,a.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.AggregateOperationBuilder=void 0;var o=n(1543),a=n(1657),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.subOperations=[],t}return r(t,e),t.prototype.addOperation=function(e){return this.subOperations.push(e.retain()),this},t.prototype.build=function(){return a.AggregateOperation.create(this.subOperations)},t.prototype.free=function(){for(var t=0,n=this.subOperations;t<n.length;t++)n[t].release();this.subOperations.length=0,e.prototype.free.call(this)},t.create=function(){return this.alloc().autorelease()},i([o.sealed],t)}(o.Refcounted);t.AggregateOperationBuilder=s,s.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.NoOpOperation=void 0;var i=n(1543),o=null,a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.undo=function(){},t.prototype.redo=function(){},t.prototype.release=function(){return e.prototype.release.call(this),this.refCount<=0&&i.fatalError("NoOpOperation should never be freed.",{}),this},t.prototype.autorelease=function(){return i.fatalError("autorelease should never be called on NoOpOperation.",{}),e.prototype.autorelease.call(this),this},Object.defineProperty(t,"instance",{get:function(){return o||(o=this.alloc())},enumerable:!1,configurable:!0}),t}(i.Refcounted);t.NoOpOperation=a,a.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.StringOperationBase=void 0;var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.string=null,t}return r(t,e),t.prototype.free=function(){this.string.release(),e.prototype.free.call(this)},t.prototype.initStringOperationBase=function(e){this.string=e.retain()},t}(n(1543).Refcounted);t.StringOperationBase=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.StringOperationProxy=void 0;var o=n(1543),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._nestedOperation=null,t}return r(t,e),t.prototype.undo=function(){this._nestedOperation.undo()},t.prototype.redo=function(){this._nestedOperation.redo()},t.prototype.free=function(){this._nestedOperation.release(),e.prototype.free.call(this)},t.create=function(e,t){var n=this.alloc();return n.initStringOperationBase(e),n._nestedOperation=t.retain(),n.autorelease()},i([o.sealed],t)}(n(1660).StringOperationBase);t.StringOperationProxy=a,a.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.StringBase=void 0;var i=n(1543),o=n(1581),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isaString=!0,t.length=null,t._stringObservers=[],t._beginEditingDepth=0,t}return r(t,e),t.prototype.atStart=function(e){return void 0===e&&(e=o.IteratorAffinity.BEFORE),this.iteratorAt(0,e)},t.prototype.createIterator=function(){return this.atStart()},t.prototype.toString=function(){for(var e="",t=this.atStart();t.hasNext;)e+=globalThis.String.fromCodePoint(t.nextCodePoint),t.moveToNext();return e},t.prototype.toCodePoints=function(){var e=[];return this.copyCodePointsInRangeToArray(this.atStart(),this.atEnd(),e),e},t.prototype.copyCodePointsInRangeToArray=function(e,t,n,r){if(void 0===r&&(r=!0),r&&(n.length=0),!t.isBefore(e))for(var i=e.clone();i.hasNext&&!i.equals(t);)n.push(i.nextCodePoint),i.moveToNext()},t.prototype.forEachInRange=function(e,t,n){if(!t.isBefore(e))for(var r=e,i=0;r.hasNext&&!r.equals(t);)n(r.nextCodePoint,i),r.moveToNext(),++i},t.prototype.forEach=function(e){for(var t=this.atStart(),n=0;t.hasNext;)e(t.nextCodePoint,n),t.moveToNext(),++n},t.prototype.someInRange=function(e,t,n){if(t.isBefore(e))return!1;for(var r=e,i=0;r.hasNext&&!r.equals(t);){if(n(r.nextCodePoint,i))return!0;r.moveToNext(),++i}return!1},t.prototype.some=function(e){for(var t=this.atStart(),n=0;t.hasNext;){if(e(t.nextCodePoint,n))return!0;t.moveToNext(),++n}return!1},t.prototype.addStringObserver=function(e){this._stringObservers.push(e),this.isEditing&&e.stringWillBeginEditing(this)},t.prototype.removeStringObserver=function(e){var t=this._stringObservers.indexOf(e);if(t<0)throw new Error("Cannot remove string observer: it's not one of ours!");this._stringObservers.splice(t,1),this.isEditing&&e.stringDidEndEditing(this)},Object.defineProperty(t.prototype,"dbg_codePoints",{get:function(){return this.toCodePoints()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dbg_string",{get:function(){return this.toString()},enumerable:!1,configurable:!0}),t.prototype.didInsert=function(e,t){for(var n=0,r=this._stringObservers.slice(0);n<r.length;n++)r[n].stringDidInsertInRange(this,e,t)},t.prototype.didDelete=function(e,t){for(var n=0,r=this._stringObservers.slice(0);n<r.length;n++)r[n].stringDidDeleteAtPosition(this,e,t)},Object.defineProperty(t.prototype,"isEditing",{get:function(){return this._beginEditingDepth>0},enumerable:!1,configurable:!0}),t.prototype.beginEditing=function(){if(this._beginEditingDepth++,1===this._beginEditingDepth)for(var e=0,t=this._stringObservers.slice(0);e<t.length;e++)t[e].stringWillBeginEditing(this)},t.prototype.endEditing=function(){if(!this.isEditing)throw new Error("Unbalanced calls to String#begin/endEditing");if(this._beginEditingDepth--,0===this._beginEditingDepth)for(var e=0,t=this._stringObservers.slice(0);e<t.length;e++)t[e].stringDidEndEditing(this)},t.prototype.instanceInit=function(){e.prototype.instanceInit.call(this),this.length=0,this._stringObservers.length=0},t}(i.Refcounted);t.StringBase=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.StringSliceIteratorBase=void 0;var i=n(1581),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isaStringSliceIterator=!0,t.slice=null,t.underlyingIterator=null,t.iteratorIndex=-1,t._slice=null,t._hasPrevious=null,t._hasNext=null,t._previousCodePoint=null,t._nextCodePoint=null,t}return r(t,e),Object.defineProperty(t.prototype,"nextCodePoint",{get:function(){return null===this._nextCodePoint&&(this._nextCodePoint=this.hasNext?this.underlyingIterator.nextCodePoint:i.UNDEFINED_CODEPOINT),this._nextCodePoint},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousCodePoint",{get:function(){return null===this._previousCodePoint&&(this._previousCodePoint=this.hasPrevious?this.underlyingIterator.previousCodePoint:i.UNDEFINED_CODEPOINT),this._previousCodePoint},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasNext",{get:function(){return null===this._hasNext&&(this._hasNext=this.underlyingIterator.hasNext&&this.underlyingIterator.isBefore(this.slice.end)),this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPrevious",{get:function(){return null===this._hasPrevious&&(this._hasPrevious=this.underlyingIterator.hasPrevious&&this.underlyingIterator.isAfter(this.slice.start)),this._hasPrevious},enumerable:!1,configurable:!0}),t.prototype.distanceFrom=function(e){var t=e;return this.underlyingIterator.distanceFrom(t.underlyingIterator)},t.prototype.distanceTo=function(e){var t=e;return this.underlyingIterator.distanceTo(t.underlyingIterator)},t.prototype.approximateDistanceFrom=function(e){var t=e;return this.underlyingIterator.approximateDistanceFrom(t.underlyingIterator)},t.prototype.approximateDistanceTo=function(e){var t=e;return this.underlyingIterator.approximateDistanceTo(t.underlyingIterator)},t.prototype.isBefore=function(e){var t=e;return this.underlyingIterator.isBefore(t.underlyingIterator)},t.prototype.isAfter=function(e){var t=e;return this.underlyingIterator.isAfter(t.underlyingIterator)},t.prototype.equals=function(e){var t=e;return this.underlyingIterator.equals(t.underlyingIterator)},t.prototype.compare=function(e){var t=e;return this.underlyingIterator.compare(t.underlyingIterator)},t.prototype.moveToNext=function(){this._hasPrevious=!0,this._previousCodePoint=this._nextCodePoint;var e=this.underlyingIterator;return e.moveToNext(),e.equals(this.slice.end)?(this._hasNext=!1,this._nextCodePoint=i.UNDEFINED_CODEPOINT,!1):(this._hasNext=!0,this._nextCodePoint=null,!0)},t.prototype.moveToPrevious=function(){this._hasNext=!0,this._nextCodePoint=this._previousCodePoint;var e=this.underlyingIterator;return e.moveToPrevious(),e.equals(this.slice.start)?(this._hasPrevious=!1,this._previousCodePoint=i.UNDEFINED_CODEPOINT,!1):(this._hasPrevious=!0,this._previousCodePoint=null,!0)},t.prototype.moveBy=function(e){this.underlyingIterator.moveBy(e),e>0&&this.underlyingIterator.isAfter(this.slice.end)?this.underlyingIterator.reset(this.slice.end):e<0&&this.underlyingIterator.isBefore(this.slice.start)&&this.underlyingIterator.reset(this.slice.start),this.invalidate()},Object.defineProperty(t.prototype,"affinity",{get:function(){return this.underlyingIterator.affinity},set:function(e){this.underlyingIterator.affinity=e},enumerable:!1,configurable:!0}),t.prototype.insert=function(e,t){return this._slice.insertStrOrCP(this,e,t)},t.prototype.moveForwardToCodePointMatching=function(e,t,n){if(!this.hasNext)return!1;var r=n?n.underlyingIterator:this.slice.end;return this.underlyingIterator.moveForwardToCodePointMatching(e,t,r),this.invalidate(),this.hasNext},t.prototype.moveBackwardToCodePointMatching=function(e,t,n){if(!this.hasPrevious)return!1;var r=n?n.underlyingIterator:this.slice.start;return this.underlyingIterator.moveBackwardToCodePointMatching(e,t,r),this.invalidate(),this.hasPrevious},t.prototype.moveForwardUntil=function(e,t){if(!this.hasNext)return!1;var n=t?t.underlyingIterator:this.slice.end;return this.underlyingIterator.moveForwardUntil(e,n),this.invalidate(),this.hasNext},t.prototype.moveBackwardUntil=function(e,t){if(!this.hasPrevious)return!1;var n=t?t.underlyingIterator:this.slice.start;return this.underlyingIterator.moveBackwardUntil(e,n),this.invalidate(),this.hasPrevious},t.prototype.invalidate=function(){this._hasPrevious=null,this._previousCodePoint=null,this._hasNext=null,this._nextCodePoint=null},t.prototype.instanceInit=function(){e.prototype.instanceInit.call(this),this.slice=null,this.underlyingIterator=null,this.iteratorIndex=-1,this.invalidate()},t.prototype.free=function(){this._slice.release(),this._slice.removeIterator(this),this.underlyingIterator.release(),this.slice.release(),e.prototype.free.call(this)},t.prototype.initStringSliceIteratorBase=function(t,n){e.prototype.initStringIteratorBase.call(this,t),this.underlyingIterator=n.retain(),this.slice=t.retain(),this._slice=t.retain(),t.addIterator(this)},t}(n(1664).StringIteratorBase);t.StringSliceIteratorBase=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.StringIteratorBase=t.iteratorName=void 0;var i=n(1543),o=n(1665),a=n(1581),s={done:!1,value:a.UNDEFINED_CODEPOINT};function l(e,t){var n="?",r=t.distanceFromStart(),i=o.dbg_codepoint(t.previousCodePoint),s=o.dbg_codepoint(t.nextCodePoint);switch(t.affinity){case a.IteratorAffinity.BEFORE:n="("+i+")| "+r+" |"+s;break;case a.IteratorAffinity.AFTER:n=i+"| "+r+" |("+s+")"}return e+"<"+n+">"}t.iteratorName=l;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.string=null,t.isaStringIterator=!0,t}return r(t,e),t.prototype.distanceFromStart=function(){return this.distanceFrom(this.string.atStart())},t.prototype.approximateDistanceFrom=function(e){return this.distanceFrom(e)},t.prototype.approximateDistanceFromStart=function(){return this.approximateDistanceFrom(this.string.atStart())},t.prototype.approximateDistanceTo=function(e){return-this.approximateDistanceFrom(e)},t.prototype.isBefore=function(e){return this.approximateDistanceTo(e)>0},t.prototype.isAfter=function(e){return this.approximateDistanceFrom(e)>0},t.prototype.equals=function(e){return 0===this.approximateDistanceFrom(e)},t.prototype.compare=function(e){return this.equals(e)?0:this.isBefore(e)?-1:1},t.prototype.reset=function(e){this.moveBy(this.distanceTo(e))},t.prototype.next=function(){return this.hasNext?(s.value=this.nextCodePoint,s.done=!1,this.moveToNext()):(s.value=a.UNDEFINED_CODEPOINT,s.done=!0),s},t.prototype.moveForwardToCodePointMatching=function(e,t,n){switch(t){case a.IteratorAffinity.BEFORE:return this.moveForwardUntil((function(t,n){return n===e}),n);case a.IteratorAffinity.AFTER:return this.moveForwardUntil((function(t,n){return t===e}),n)}},t.prototype.moveBackwardToCodePointMatching=function(e,t,n){switch(t){case a.IteratorAffinity.BEFORE:return this.moveBackwardUntil((function(t,n){return n===e}),n);case a.IteratorAffinity.AFTER:return this.moveBackwardUntil((function(t,n){return t===e}),n)}},t.prototype.moveForwardUntil=function(e,t){for(var n=this,r=function(){return n},i=null!==t&&void 0!==t?t:this.string.atEnd();this.hasNext&&!this.equals(i);)if(this.moveToNext(),e(this.previousCodePoint,this.nextCodePoint,r))return this.hasNext;return this.hasNext},t.prototype.moveBackwardUntil=function(e,t){for(var n=this,r=function(){return n},i=null!==t&&void 0!==t?t:this.string.atStart();this.hasPrevious&&!this.equals(i);)if(this.moveToPrevious(),e(this.previousCodePoint,this.nextCodePoint,r))return this.hasPrevious;return this.hasPrevious},Object.defineProperty(t.prototype,"dbg_positionString",{get:function(){switch(this.affinity){case a.IteratorAffinity.BEFORE:return"[("+this.previousCodePoint+")| "+this.distanceFromStart()+" |"+this.nextCodePoint+"]";case a.IteratorAffinity.AFTER:return"["+this.previousCodePoint+"| "+this.distanceFromStart()+" |("+this.nextCodePoint+")]"}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dbg_string",{get:function(){return this.string.toString()},enumerable:!1,configurable:!0}),t.prototype.initStringIteratorBase=function(e){this.string=e},t.prototype.toString=function(){return l("StringIterator",this)},t}(i.Refcounted);t.StringIteratorBase=u},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.dbg_codepoint=void 0;var i=n(1593),o=((r={0:"\u2400",10:"\u240a"})[-10]="\u240c",r[i.UNDEFINED_CODEPOINT]="\u2404",r);t.dbg_codepoint=function(e){return o[e]||JSON.stringify(String.fromCodePoint(e)).slice(1,-1)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.AttributedStringSliceIterator=void 0;var o=n(1543),a=(n(1581),n(1667)),s=n(1664),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.prototype.clone=function(){return n.create(this.slice,this.underlyingIterator.clone())},t.prototype.cloneForSlice=function(e){var t=this.underlyingIterator.clone();return t.isBefore(e.start)&&t.reset(e.start),t.isAfter(e.end)&&t.reset(e.end),n.create(e,t)},t.create=function(e,t){var n=this.alloc();return n.initStringSliceIteratorBase(e,t),n.autorelease()},t.prototype.toString=function(){return s.iteratorName("AttributedStringSliceIterator",this)},n=i([o.sealed],t)}(a.AttributedStringSliceIteratorBase);t.AttributedStringSliceIterator=l,l.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AttributedStringSliceIteratorBase=void 0;var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.string=null,t.isaAttributedStringIterator=!0,t.slice=null,t._string=null,t}return r(t,e),Object.defineProperty(t.prototype,"nextAttributes",{get:function(){return this.hasNext?this.underlyingIterator.nextAttributes:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousAttributes",{get:function(){return this.hasPrevious?this.underlyingIterator.previousAttributes:null},enumerable:!1,configurable:!0}),t.prototype.insertWithAttributes=function(e,t,n){return this._string.insertStrOrCPWithAttributes(this,e,t,n)},t.prototype.initStringSliceIteratorBase=function(t,n){this._string=t,e.prototype.initStringSliceIteratorBase.call(this,t,n)},t}(n(1663).StringSliceIteratorBase);t.AttributedStringSliceIteratorBase=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.StringIteratorEagerBase=void 0;var i=n(1581),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._nextCodePoint=i.UNDEFINED_CODEPOINT,t._previousCodePoint=i.UNDEFINED_CODEPOINT,t.hasNext=!1,t.hasPrevious=!1,t}return r(t,e),Object.defineProperty(t.prototype,"nextCodePoint",{get:function(){return this._nextCodePoint},enumerable:!1,configurable:!0}),t.prototype.setNextCodePoint=function(e){this._nextCodePoint=e},Object.defineProperty(t.prototype,"previousCodePoint",{get:function(){return this._previousCodePoint},enumerable:!1,configurable:!0}),t.prototype.setPreviousCodePoint=function(e){this._previousCodePoint=e},t.prototype.instanceInit=function(){e.prototype.instanceInit.call(this),this.hasNext=!1,this.hasPrevious=!1,this._nextCodePoint=i.UNDEFINED_CODEPOINT,this._previousCodePoint=i.UNDEFINED_CODEPOINT},t}(n(1664).StringIteratorBase);t.StringIteratorEagerBase=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.StringSlice=void 0;var o=n(1543),a=n(1655),s=n(1670),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isFreeing=!1,t}return r(t,e),t.prototype.free=function(){if(!this._isFreeing){this._isFreeing=!0;try{e.prototype.free.call(this)}finally{this._isFreeing=!1}}},t.prototype.createIteratorFromUnderlying=function(e){return s.StringSliceIterator.create(this,e)},t.create=function(e,t,n){var r=this.alloc();return r.initStringSliceBase(e,t,n),r.autorelease()},i([o.sealed],t)}(a.StringSliceBase);t.StringSlice=l,l.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.StringSliceIterator=void 0;var o=n(1543),a=(n(1581),n(1664)),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.prototype.clone=function(){return n.create(this._slice,this.underlyingIterator.clone())},t.prototype.cloneForSlice=function(e){var t=this.underlyingIterator.clone();return t.isBefore(e.start)&&t.reset(e.start),t.isAfter(e.end)&&t.reset(e.end),n.create(e,t)},t.create=function(e,t){var n=this.alloc();return n.initStringSliceIteratorBase(e,t),n.autorelease()},t.prototype.toString=function(){return a.iteratorName("StringSliceIterator",this)},n=i([o.sealed],t)}(n(1663).StringSliceIteratorBase);t.StringSliceIterator=s,s.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.AttributedStringIteratorIntervalComparator=t.AttributedStringIteratorComparator=void 0;var a=n(1624),s=n(1543),l=function(e){function t(){return e.call(this)||this}var n;return r(t,e),n=t,t.instance=new n,i([s.sealed,o("design:paramtypes",[])],t)}(n(1672).StringIteratorComparatorBase);t.AttributedStringIteratorComparator=l;var u=function(e){function t(){return e.call(this,l.instance)||this}var n;return r(t,e),n=t,t.instance=new n,i([s.sealed,o("design:paramtypes",[])],t)}(a.IntervalComparatorBase);t.AttributedStringIteratorIntervalComparator=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.StringIteratorIntervalComparator=t.StringIteratorComparator=t.StringIteratorComparatorBase=void 0;var a=n(1624),s=n(1543),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.equalTo=function(e,t){return e.equals(t)},t.prototype.notEqualTo=function(e,t){return!e.equals(t)},t.prototype.compare=function(e,t){return e.compare(t)},t.prototype.lessThan=function(e,t){return e.isBefore(t)},t.prototype.lessThanOrEqualTo=function(e,t){return e.equals(t)||e.isBefore(t)},t.prototype.greaterThanOrEqualTo=function(e,t){return e.equals(t)||e.isAfter(t)},t.prototype.greaterThan=function(e,t){return e.isAfter(t)},t}(a.ComparatorBase);t.StringIteratorComparatorBase=l;var u=function(e){function t(){return e.call(this)||this}var n;return r(t,e),n=t,t.instance=new n,i([s.sealed,o("design:paramtypes",[])],t)}(l);t.StringIteratorComparator=u;var c=function(e){function t(){return e.call(this,u.instance)||this}var n;return r(t,e),n=t,t.instance=new n,i([s.sealed,o("design:paramtypes",[])],t)}(a.IntervalComparatorBase);t.StringIteratorIntervalComparator=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.someWithAttributes=t.someWithAttributesInRange=t.forEachWithAttributes=t.forEachWithAttributesInRange=t.copyCodePointsAndAttributesToArrays=t.copyAttributesToArray=void 0,t.copyAttributesToArray=function(e,t,n){if(n.length=0,!t.isBefore(e))for(var r=e.clone();r.hasNext&&!r.equals(t);){var i=r.nextAttributes;i&&i.retain().autorelease(),n.push(i),r.moveToNext()}},t.copyCodePointsAndAttributesToArrays=function(e,t,n,r){if(n.length=0,r.length=0,!t.isBefore(e))for(var i=e.clone();i.hasNext&&!i.equals(t);){n.push(i.nextCodePoint);var o=i.nextAttributes;o&&o.retain().autorelease(),r.push(o),i.moveToNext()}},t.forEachWithAttributesInRange=function(e,t,n){for(var r=e.clone(),i=0;r.hasNext&&!r.equals(t);)n(r.nextCodePoint,r.nextAttributes,i),r.moveToNext(),++i},t.forEachWithAttributes=function(e,t){for(var n=e.atStart(),r=0;n.hasNext;)t(n.nextCodePoint,n.nextAttributes,r),n.moveToNext(),++r},t.someWithAttributesInRange=function(e,t,n){for(var r=e.clone(),i=0;r.hasNext&&!r.equals(t);){if(n(r.nextCodePoint,r.nextAttributes,i))return!0;r.moveToNext(),++i}return!1},t.someWithAttributes=function(e,t){for(var n=e.atStart(),r=0;n.hasNext;){if(t(n.nextCodePoint,n.nextAttributes,r))return!0;n.moveToNext(),++r}return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSliceOf=void 0;var r=n(1579),i=n(1669),o=n(1581);t.createSliceOf=function(e,t,n){var a,s;return o.isAttributedString(e)&&o.isAttributedStringIterator(t)&&o.isAttributedStringIterator(n)?o.isAttributedStringSlice(e)&&o.isAttributedStringSliceIterator(t)&&o.isAttributedStringSliceIterator(n)?((a=t?t.underlyingIterator.clone():null)&&(a.affinity=o.IteratorAffinity.BEFORE),(s=n?n.underlyingIterator.clone():null)&&(s.affinity=o.IteratorAffinity.AFTER),r.AttributedStringSlice.create(e.string,a,s)):r.AttributedStringSlice.create(e,t?t.clone():null,n?n.clone():null):o.isStringSlice(e)&&o.isStringSliceIterator(t)&&o.isStringSliceIterator(n)?((a=t?t.underlyingIterator.clone():null)&&(a.affinity=o.IteratorAffinity.BEFORE),(s=n?n.underlyingIterator.clone():null)&&(s.affinity=o.IteratorAffinity.AFTER),i.StringSlice.create(e.string,a,s)):i.StringSlice.create(e,t?t.clone():null,n?n.clone():null)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TTAttributedString2=void 0;var s=n(1561),l=n(1624),u=n(1676),c=n(1694),d=n(1699),h=n(1703),f=a(n(1706)),p=n(1706),g=n(1747),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isaAttributedString=!0,t._attrStrObservers=[],t}return r(t,e),t.prototype.atStart=function(e){return void 0===e&&(e=s.IteratorAffinity.BEFORE),g.TTAttributedStringIterator2.createAtStart(this,e)},t.prototype.atEnd=function(e){return void 0===e&&(e=s.IteratorAffinity.AFTER),g.TTAttributedStringIterator2.createAtEnd(this,e)},t.prototype.iteratorAt=function(e,t){return e>this.length?g.TTAttributedStringIterator2.createAtEnd(this,t):g.TTAttributedStringIterator2.createAtLeftOfCodePointIndex(this,e,t)},t.prototype.copyAttributesInRangeToArray=function(e,n,r,i){if(void 0===i&&(i=!0),i&&(r.length=0),!n.isBefore(e)){var o=this.isMerging?this.mergeContext.currentString:this.mergeableString.attributedString,a=o.UTF16String,s=n.nextCodePointCodeUnitIndex,l=e.nextCodePointCodeUnitIndex,u=(e.nextCodePointIndex,t._reusableAttributeNodeArray);o.getAttributeNodesInRangeSorted(l,s,u);for(var c=0,d=u[0];l<s;){r.push(d.value);var h=a.charCodeAt(l);p.isLeadingSurrogate(h)&&++l,++l>=d.intervalHigh&&(d=u[++c])}}},t.prototype.copyCodePointsAndAttributesInRangeToArrays=function(e,n,r,i,o){if(void 0===o&&(o=!0),o&&(r.length=0,i.length=0),!n.isBefore(e)){var a=this.isMerging?this.mergeContext.currentString:this.mergeableString.attributedString,s=a.UTF16String,l=n.nextCodePointCodeUnitIndex,u=e.nextCodePointCodeUnitIndex,c=(e.nextCodePointIndex,t._reusableAttributeNodeArray);a.getAttributeNodesInRangeSorted(u,l,c);for(var d=0,h=c[0];u<l;){var f=s.codePointAt(u);r.push(f),i.push(h.value);var g=s.charCodeAt(u);p.isLeadingSurrogate(g)&&++u,++u>=h.intervalHigh&&(h=c[++d])}}},t.prototype.forEachWithAttributesInRange=function(e,n,r){if(!n.isBefore(e)){var i=this.isMerging?this.mergeContext.currentString:this.mergeableString.attributedString,o=i.UTF16String,a=n.nextCodePointCodeUnitIndex,s=e.nextCodePointCodeUnitIndex,l=e.nextCodePointIndex,u=t._reusableAttributeNodeArray;i.getAttributeNodesInRangeSorted(s,a,u);for(var c=0,d=u[0];s<a;){r(o.codePointAt(s),d.value,l);var h=o.charCodeAt(s);p.isLeadingSurrogate(h)&&++s,++l,++s>=d.intervalHigh&&(d=u[++c])}}},t.prototype.forEachWithAttributes=function(e){this.forEachWithAttributesInRange(this.atStart(),this.atEnd(),e)},t.prototype.someWithAttributesInRange=function(e,n,r){if(n.isBefore(e))return!1;var i=this.isMerging?this.mergeContext.currentString:this.mergeableString.attributedString,o=i.UTF16String,a=n.nextCodePointCodeUnitIndex,s=e.nextCodePointCodeUnitIndex,l=e.nextCodePointIndex,u=t._reusableAttributeNodeArray;i.getAttributeNodesInRangeSorted(s,a,u);for(var c=0,d=u[0];s<a;){if(r(o.codePointAt(s),d.value,l))return!0;var h=o.charCodeAt(s);p.isLeadingSurrogate(h)&&++s,++l,++s>=d.intervalHigh&&(d=u[++c])}return!1},t.prototype.someWithAttributes=function(e){return this.someWithAttributesInRange(this.atStart(),this.atEnd(),e)},t.prototype.alterAttributesInRange=function(e,t,n){var r=e.distanceTo(t);if(0===r)return s.NoOpOperation.instance;this.beginEditing();var i=this.mergeableString,o=d.NSMakeRange(0,1);++this._wantsUndoCommands,i.beginEditing();for(var a=e.clone(),l=0;!a.equals(t);){o.location=a.nextCodePointCodeUnitIndex;var u=i.attributedString.UTF16String.charCodeAt(o.location);if(f.isLeadingSurrogate(u)){var h=i.attributedString.UTF16String.charCodeAt(o.location+1);f.isTrailingSurrogate(h)?o.length=2:o.length=1}else o.length=1;var p=i.attributesAtIndex_effectiveRange(o.location,null);i.setAttributes_range(n(p,l),o),a.moveToNext(),++l}i.endEditing(),--this._wantsUndoCommands,this.didAlterAttributes(e,t),this.endEditing();for(var g=c.TTChangeAttributesOperation2.create(this,this._undoCommands,e.position,r),y=0,v=this._undoCommands;y<v.length;y++)v[y].release();return this._undoCommands.length=0,this.dbg_assertStringLengthIsCorrect(),g},t.prototype.addAttributeToRange=function(e,t,n,r){return this.alterAttributesInRange(e,t,(function(e){return e.set(n,r)}))},t.prototype.removeAttributeFromRange=function(e,t,n){return this.alterAttributesInRange(e,t,(function(e){return e.set(n,null)}))},t.prototype.addAttributedStringObserver=function(e){this._attrStrObservers.push(e)},t.prototype.removeAttributedStringObserver=function(e){var t=this._attrStrObservers.indexOf(e);t>=0&&this._attrStrObservers.splice(t,1)},t.prototype.didAlterAttributes=function(e,t){for(var n=0,r=this._attrStrObservers.slice(0);n<r.length;n++)r[n].attributedStringDidAlterAttributes(this,e.clone(),t.clone())},t.prototype.createAttributeDictionary=function(e){return t.createAttributeDictionary(e)},t.createAttributeDictionary=function(e){return h.TTAttrDict.create(e)},t.prototype.edited_range_changeInLength=function(t,n,r,i){if(e.prototype.edited_range_changeInLength.call(this,t,n,r,i),t===d.NSTextStorageEditedAttributes&&this._activeMergeContext){var o=this.iteratorAtCodeUnitIndex(n.location),a=this.iteratorAtCodeUnitIndex(d.NSMaxRange(n));this.didAlterAttributes(o,a),this._activeMergeContext.editEvents.push({type:"attributesAltered",start:o,end:a})}},t.prototype.insertCodePointsWithAttributeIntervals=function(e,t,n,r){var i=this;if(0===t.length)return s.NoOpOperation.instance;this.beginEditing();var o=this.mergeableString,a=e.position,l={},u=e.affinity;if(e.affinity=r,++this._wantsUndoCommands,o.beginEditing(),this.insertStringHelper(e,t,r,l),0===l.codePointCountToInsert)return o.endEditing(),this.endEditing(),--this._wantsUndoCommands,s.NoOpOperation.instance;n.inorderTreeWalk(n.root,(function(e){var t=i.iteratorAt(a+e.intervalLow),n=i.iteratorAt(a+e.intervalHigh),r=d.NSMakeRange(t.nextCodePointCodeUnitIndex,n.nextCodePointCodeUnitIndex-t.nextCodePointCodeUnitIndex);o.setAttributes_range(e.value,r)})),o.endEditing(),--this._wantsUndoCommands,e.affinity=u;for(var h=0,f=this._stringObservers.slice(0);h<f.length;h++)f[h].stringDidInsertInRange(this,l.startIter,l.endIter);this.endEditing();for(var p=c.TTInsertOperation2.create(this,this._undoCommands,a,l.codePointCountToInsert),g=0,y=this._undoCommands;g<y.length;g++)y[g].release();return this._undoCommands.length=0,this.dbg_assertStringLengthIsCorrect(),p},t.attributeIntervalsFromAttributedString=function(e){var t=u.PooledIntervalTree.create(l.NumberIntervalComparator.instance,0);if(e.length>0){for(var n=0,r=e.atStart(),i=h.TTAttrDict.createFromIAttrDict(r.nextAttributes),o=1;r.hasNext;++o){var a=h.TTAttrDict.createFromIAttrDict(r.nextAttributes);i!==a&&(t.insertInterval(n,o-1,i),n=o-1,i=a),r.moveToNext()}t.insertInterval(n,e.length,i)}return t},Object.defineProperty(t.prototype,"dbg_linearAttributesKern",{get:function(){return this._mergeableString.attributedString.dbg_linearAttributesKern},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dbg_linearAttributesSuperscript",{get:function(){return this._mergeableString.attributedString.dbg_linearAttributesSuperscript},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dbg_superscriptAttributes",{get:function(){return this._mergeableString.attributedString.dbg_superscriptAttributes},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e=d.TTMergeableAttributedString.alloc().initWithReplicaID(d.NSUUID.UUID());this._mergeableString=e,this._mergeableString.delegate=this},t.prototype.initWithMergeableUndoString=function(t){e.prototype.initWithMergeableUndoString.call(this,t),this._mergeableString.ttAttributedString2=this},t.prototype.initWithArchive=function(e){var t=d.autorelease(d.TTMergeableAttributedString.alloc().initWithArchive_andReplicaID(e,d.NSUUID.UUID()));this.initWithMergeableUndoString(t)},t.prototype.initWithAttributedString=function(e){if(s.isAttributedString(e)){this.init();var n=e.toString();this.length=s.MIN_CODE_POINT_COUNT;var r=d.autorelease(d.NSMutableAttributedString.alloc().initWithString(n)),i=t.attributeIntervalsFromAttributedString(e);i.inorderTreeWalk(i.root,(function(e){var t=d.NSMakeRange(e.intervalLow,e.intervalHigh-e.intervalLow);r.setAttributes_range(e.value,t)})),this._mergeableString.insertAttributedString_atIndex(r,0)}else this.initWithString(e)},t.create=function(){var e=this.alloc();return e.init(),e.autorelease()},t.createWithString=function(e){var t=this.alloc();return t.initWithString(e),t.autorelease()},t.createWithAttributedString=function(e){var t=this.alloc();return t.initWithAttributedString(e),t.autorelease()},t.createWithMergeableAttributedString=function(e){var t=this.alloc();return t.initWithMergeableUndoString(e),t.autorelease()},t.createWithArchive=function(e){var t=this.alloc();return t.initWithArchive(e),t.autorelease()},t._reusableAttributeNodeArray=[],t}(n(1765).TTStringBase2);t.TTAttributedString2=y,y.initializeRefcounted()},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(1677)),r(n(1678)),r(n(1679)),r(n(1684)),r(n(1685)),r(n(1686)),r(n(1683)),r(n(1687)),r(n(1680)),r(n(1688)),r(n(1681)),r(n(1689)),r(n(1682)),r(n(1690)),r(n(1691)),r(n(1692)),r(n(1693))},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.RedBlackTreeNodeColor||(t.RedBlackTreeNodeColor={}))[r.BLACK=0]="BLACK",r[r.RED=1]="RED"},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1543),a=n(1679),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.facade=null,t.treeOwner=null,t}return r(t,e),t.createSentinelNil=function(e,t){var n=this.alloc_own();return n.initPooledContiguousIntervalTreeNodeBaseSentinelNilWithFacade(e,t),n},t.create=function(e,t,n,r,i){var o=this.alloc();return o.initPooledIntervalTreeNodeBaseWithFacade(e,t,n,r,i),o},i([o.sealed],t)}(a.PooledContiguousIntervalTreeNodeBaseWithFacade);t.PooledContiguousIntervalTreeNodeWithFacade=s,s.initializePooled();var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.facade=null,t}return r(t,e),t.prototype.onWillInsertKeyValue=function(e,t,n){return u.create(this.facade,e,n.high,t)._impl},t.create=function(e,t,n,r){var i=this.alloc_own();return i.initContiguousPooledIntervalTreeBaseWithFacade(e,t,n,r),i},i([o.sealed],t)}(a.PooledContiguousIntervalTreeBaseWithFacade);t.PooledContiguousIntervalTreeWithFacade=l,l.initializePooled();var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._treeOwner=null,t._impl=null,t}return r(t,e),Object.defineProperty(t.prototype,"treeOwner",{get:function(){return this._treeOwner.facade},enumerable:!0,configurable:!0}),t.prototype.initIntervalTreeNode=function(t,n){e.prototype.initRedBlackTreeNodeBase.call(this,t,n)},t.createSentinelNil=function(e){var t=this.alloc(),n=s.createSentinelNil(t,e);return t.initSentinelNil(n),t.autorelease()},t.create=function(e,t,n,r){var i=this.alloc(),o=s.create(i,e._impl,t,n,r);return i.initIntervalTreeNode(e._impl,o),i.autorelease()},i([o.sealed],t)}(a.ContiguousIntervalTreeNodeBase);t.ContiguousIntervalTreeNode=u,u.initializeRefcounted();var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._impl=null,t}return r(t,e),t.prototype.initIntervalTreeBase=function(t){e.prototype.initRedBlackTreeBase.call(this,t)},t.create=function(e,t){var n=this.alloc(),r=u.createSentinelNil(t),i=l.create(n,r._impl,e,t);return n.initIntervalTreeBase(i),n.autorelease()},i([o.sealed],t)}(a.ContiguousIntervalTreeBase);t.ContiguousIntervalTree=c,c.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1680),o=n(1683),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.facade=null,t.treeOwner=null,t}return r(t,e),t.prototype.initPooledContiguousIntervalTreeNodeBaseSentinelNilWithFacade=function(t,n){e.prototype.initPooledContiguousIntervalTreeNodeBaseSentinelNil.call(this,n),this.facade=t},t.prototype.initPooledIntervalTreeNodeBaseWithFacade=function(t,n,r,i,o){e.prototype.initPooledContiguousIntervalTreeNodeBase.call(this,n,r,i,o),this.facade=t},t}(i.PooledContiguousIntervalTreeNodeBase);t.PooledContiguousIntervalTreeNodeBaseWithFacade=a;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.facade=null,t}return r(t,e),t.prototype.initContiguousPooledIntervalTreeBaseWithFacade=function(t,n,r,i){e.prototype.initPooledIntervalTreeBase.call(this,n,r,i),this.facade=t},t}(i.PooledContiguousIntervalTreeBase);t.PooledContiguousIntervalTreeBaseWithFacade=s;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._treeOwner=null,t._impl=null,t}return r(t,e),Object.defineProperty(t.prototype,"leftThread",{get:function(){return this._impl.leftThread.facade},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightThread",{get:function(){return this._impl.rightThread.facade},enumerable:!0,configurable:!0}),t}(o.RedBlackTreeNodeBase);t.ContiguousIntervalTreeNodeBase=l;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._impl=null,t}return r(t,e),t.prototype.disposeInterval=function(e,t){this._impl.disposeInterval(e,t)},t.prototype.closedSliceNodes=function(e,t,n){var r=[];this._impl.closedSliceNodes(e,t,r),n.length=0;for(var i=0,o=r.length;i<o;++i)n.push(r[i].facade)},t.prototype.predecessorNode=function(t){return e.prototype.predecessorNode.call(this,t)},t.prototype.successorNode=function(t){return e.prototype.sucessorNode.call(this,t)},t.prototype.initIntervalTreeBase=function(t){e.prototype.initRedBlackTreeBase.call(this,t)},t}(o.RedBlackTreeBase);t.ContiguousIntervalTreeBase=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1681),o=function(e){function t(){var t=e.call(this)||this;return t.treeOwner=null,t.leftThread=null,t.rightThread=null,t}return r(t,e),t.prototype.instanceInit=function(){e.prototype.instanceInit.call(this),this.leftThread=null,this.rightThread=null},t.prototype.initPooledContiguousIntervalTreeNodeBaseSentinelNil=function(t){e.prototype.initPooledIntervalTreeNodeBaseSentinelNil.call(this,t),this.leftThread=this,this.rightThread=this},t.prototype.initPooledContiguousIntervalTreeNodeBase=function(t,n,r,i){e.prototype.initPooledIntervalTreeNodeBase.call(this,t,n,r,i),this.leftThread=t.sentinelNil,this.rightThread=t.sentinelNil},t}(i.PooledIntervalTreeNodeBase);t.PooledContiguousIntervalTreeNodeBase=o;var a=function(e){function t(){var t=e.call(this)||this;return t._shifter=null,t._differenceCalculator=null,t._reusableNodesToInsert_ofown=[],t._reusableNodesToDispose_ofptr=[],t}return r(t,e),t.prototype.insertNode=function(t){if(this.root.isNil)return t.leftThread=this.sentinelNil,t.rightThread=this.sentinelNil,void e.prototype.insertNode.call(this,t);var n=this.minimumNode(this.root),r=this.maximumNode(this.root);if(t.isIntervalLengthZero&&this.keyComparator.lessThan(n.intervalLow,t.intervalLow)&&this.keyComparator.lessThan(t.intervalHigh,r.intervalHigh))t.free();else{var i=[];if(this.closedIntervalSearchForAll(this.root,t.intervalLow,t.intervalHigh,i),0===i.length)throw new Error("PooledContiguousIntervalTreeBase.insertNode: Node with interval "+t.intervalLow+"-"+t.intervalLow+" must be contiguous with existing nodes");var o=!1,a=this._reusableNodesToInsert_ofown;a.length=0;for(var s=0,l=i.length;s<l&&!o;++s){var u=i[s];if(u.isIntervalLengthZero)if(this.keyComparator.lessThan(t.intervalLow,u.intervalLow))this.keyComparator.equalTo(t.intervalHigh,u.intervalLow)?u.leftThread.isNil&&(t.leftThread=u.leftThread,t.rightThread=u,u.leftThread=t,a.push(t),o=!0):this.keyComparator.greaterThan(t.intervalHigh,u.intervalLow)&&(t.leftThread=u.leftThread,t.rightThread=u.rightThread,u.rightThread.leftThread=t,e.prototype.deleteNode.call(this,u).free(),a.push(t),o=!0,this.shiftNodesRightFrom(t.rightThread,this._differenceCalculator(t.intervalHigh,u.intervalHigh),a));else{if(this.keyComparator.equalTo(t.intervalHigh,u.intervalLow))return void t.free();u.leftThread.isNil?(t.leftThread=u,t.rightThread=u.rightThread,u.rightThread.leftThread=t,u.rightThread=t):(t.leftThread=u.leftThread,t.rightThread=u.rightThread,u.leftThread.rightThread=t,u.rightThread.leftThread=t,e.prototype.deleteNode.call(this,u).free()),a.push(t),o=!0,this.shiftNodesRightFrom(t.rightThread,this._differenceCalculator(t.intervalHigh,t.intervalLow),a)}else if(this.keyComparator.equalTo(t.intervalLow,u.intervalHigh)){if(this.keyComparator.equalTo(t.intervalHigh,u.intervalHigh))if(u.rightThread.isNil)t.leftThread=u,t.rightThread=u.rightThread,u.rightThread.leftThread=t,u.rightThread=t;else{if(t.isIntervalLengthZero)return void t.free();t.leftThread=u.leftThread,t.rightThread=u.rightThread,u.leftThread.rightThread=t,u.rightThread.leftThread=t,e.prototype.deleteNode.call(this,u).free()}else if(this.keyComparator.greaterThan(t.intervalHigh,u.intervalHigh)){if(!u.rightThread.isNil&&u.rightThread.isIntervalLengthZero)continue;t.leftThread=u,t.rightThread=u.rightThread,u.rightThread.leftThread=t,u.rightThread=t}a.push(t),o=!0,this.shiftNodesRightFrom(t.rightThread,this._differenceCalculator(t.intervalHigh,t.intervalLow),a)}else if(this.keyComparator.lessThan(t.intervalLow,u.intervalLow))t.leftThread=u.leftThread,t.rightThread=u,u.leftThread.rightThread=t,u.leftThread=t,a.push(t),o=!0,this.shiftNodesRightFrom(t.rightThread,this._differenceCalculator(t.intervalHigh,u.intervalLow),a);else if(this.keyComparator.equalTo(t.intervalLow,u.intervalLow)){if(t.isIntervalLengthZero&&u.leftThread.isIntervalLengthZero)return void t.free();t.leftThread=u.leftThread,t.rightThread=u,u.leftThread.rightThread=t,u.leftThread=t,a.push(t),o=!0,this.shiftNodesRightFrom(t.rightThread,this._differenceCalculator(t.intervalHigh,t.intervalLow),a)}else if(t.isIntervalLengthZero);else{var c=this.onWillInsertKeyValue(t.intervalLow,u.value,{high:u.intervalHigh});u.setIntervalHigh(t.intervalLow,!1),t.leftThread=u,t.rightThread=c,u.rightThread.leftThread=c,c.rightThread=u.rightThread,c.leftThread=t,u.rightThread=t,a.push(e.prototype.deleteNode.call(this,u)),a.push(t),o=!0,this.shiftNodesRightFrom(t.rightThread,this._differenceCalculator(t.intervalHigh,t.intervalLow),a)}}for(s=0,l=a.length;s<l;++s){var d=a[s];e.prototype.insertNode.call(this,d)}this.inorderTreeWalkWithPredecessor(this.root,(function(e,t){e.leftThread=t,t.rightThread=e}))}},t.prototype.deleteNode=function(t){var n=e.prototype.deleteNode.call(this,t);return n.left.isNil||(n.left.rightThread=n.rightThread),n.right.isNil||(n.right.leftThread=n.leftThread),n},t.prototype.disposeInterval=function(t,n){var r=this;if(!this.root.isNil){var i=[];if(this.closedIntervalSearchForAll(this.root,t,n,i),0!==i.length){this._reusableNodesToInsert_ofown.length=0,this._reusableNodesToDispose_ofptr.length=0;for(var o=0,a=i.length;o<a;++o){var s=i[o];if(this.intervalComparator.doesClosedIntervalEnclose(t,n,s.intervalLow,s.intervalHigh))this._reusableNodesToDispose_ofptr.push(s);else if(this.keyComparator.lessThan(t,s.intervalLow)&&this.keyComparator.lessThan(s.intervalLow,n)){var l=this.onWillInsertKeyValue(n,s.value,{high:s.intervalHigh});this._reusableNodesToInsert_ofown.push(l),this._reusableNodesToDispose_ofptr.push(s)}else this.keyComparator.lessThan(t,s.intervalHigh)&&this.keyComparator.lessThan(s.intervalHigh,n)&&(l=this.onWillInsertKeyValue(s.intervalLow,s.value,{high:t}),this._reusableNodesToInsert_ofown.push(l),this._reusableNodesToDispose_ofptr.push(s))}this._reusableNodesToDispose_ofptr.forEach((function(t){e.prototype.deleteNode.call(r,t).free()})),this._reusableNodesToInsert_ofown.sort((function(e,t){var n=r.keyComparator.compare(e.intervalLow,t.intervalLow);return 0!==n?n:r.keyComparator.compare(e.intervalHigh,t.intervalHigh)})),this._reusableNodesToInsert_ofown.forEach((function(t){e.prototype.insertNode.call(r,t)})),e.prototype.inorderTreeWalkWithPredecessor.call(this,this.root,(function(e,t){t.rightThread=e,e.leftThread=t})),this.minimumNode(this.root).leftThread=this.sentinelNil,this.maximumNode(this.root).rightThread=this.sentinelNil;var u=this._differenceCalculator(t,n);this.inorderTreeWalk(this.root,(function(e){r.keyComparator.greaterThanOrEqualTo(e.intervalLow,n)?(e.setIntervalLowAndHigh(r._shifter(e.intervalLow,u),r._shifter(e.intervalHigh,u),!1),r.augmentNodeUpToRoot(e)):r.keyComparator.greaterThanOrEqualTo(e.intervalHigh,n)&&(e.setIntervalHigh(r._shifter(e.intervalHigh,u),!1),r.augmentNodeUpToRoot(e))}))}}},t.prototype.closedSliceNodes=function(t,n,r){r.length=0;var i=[];this.closedIntervalSearchForAll(this.root,t,n,i);for(var o=0,a=i.length;o<a;++o){var s=i[o];if(this.intervalComparator.doesClosedIntervalEnclose(t,n,s.intervalLow,s.intervalHigh))r.push(s);else if(this.keyComparator.lessThan(s.intervalLow,t)&&this.keyComparator.lessThanOrEqualTo(s.intervalHigh,n)){if(!this.keyComparator.equalTo(t,s.intervalHigh)){var l=this.onWillInsertKeyValue(t,s.value,{high:s.intervalHigh});s.setIntervalHigh(t,!1),l.rightThread=s.rightThread,s.rightThread=l,l.leftThread=s,l.rightThread.leftThread=l,e.prototype.insertNode.call(this,l),r.push(l)}}else if(this.keyComparator.greaterThanOrEqualTo(s.intervalLow,t)&&this.keyComparator.greaterThan(s.intervalHigh,n))this.keyComparator.equalTo(s.intervalLow,n)||(l=this.onWillInsertKeyValue(s.intervalLow,s.value,{high:n}),s.setIntervalLow(n,!1),l.leftThread=s.leftThread,s.leftThread=l,l.rightThread=s,l.leftThread.rightThread=l,e.prototype.insertNode.call(this,l),r.push(l));else{var u=this.onWillInsertKeyValue(s.intervalLow,s.value,{high:t}),c=this.onWillInsertKeyValue(n,s.value,{high:s.intervalHigh});s.setIntervalLowAndHigh(t,n,!1),u.leftThread=s.leftThread,s.leftThread=u,u.rightThread=s,u.leftThread.rightThread=u,c.rightThread=s.rightThread,s.rightThread=c,c.leftThread=s,c.rightThread.leftThread=c,e.prototype.insertNode.call(this,u),e.prototype.insertNode.call(this,c),r.push(s)}}r.sort(this.nodeCompareFn.bind(this))},t.prototype.predecessorNode=function(e){return e.leftThread},t.prototype.successorNode=function(e){return e.rightThread},t.prototype.onWillInsertNode=function(t){e.prototype.onWillInsertNode.call(this,t)},t.prototype.nodeCompareFn=function(e,t){return this.intervalComparator.compare(e.intervalLow,e.intervalHigh,t.intervalLow,t.intervalHigh)},t.prototype.shiftNodesRightFrom=function(t,n,r){if(0!==n)for(var i=t;!i.isNil;)i.setIntervalLowAndHigh(this._shifter(i.intervalLow,n),this._shifter(i.intervalHigh,n),!1),r.push(e.prototype.deleteNode.call(this,i)),i=i.rightThread},t.prototype.dbg_isValid=function(){var t=e.prototype.dbg_isValid.call(this),n=this.dbg_everyNodeIsThreadedCorrectly,r=this.dbg_everyNodeIsContiguous,i=this.dbg_zeroNodesOnlyAtEnds;return t&&n&&r&&i},Object.defineProperty(t.prototype,"dbg_everyNodeIsThreadedCorrectly",{get:function(){var e=this.dbg_everyNodeLeftThreadIsCorrect,t=this.dbg_everyNodeRightThreadIsCorrect;return e&&t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dbg_everyNodeLeftThreadIsCorrect",{get:function(){if(this.root.isNil)return!0;var e=!0,t=this.minimumNode(this.root);if(t.leftThread!==this.sentinelNil)return!1;var n=t;return this.inorderTreeWalk(this.root,(function(r){r!==t&&(e=e&&r.leftThread===n),n=r})),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dbg_everyNodeRightThreadIsCorrect",{get:function(){if(this.root.isNil)return!0;var e=!0,t=this.maximumNode(this.root);if(t.rightThread!==this.sentinelNil)return!1;var n=t;return this.reverseInorderTreeWalk(this.root,(function(r){r!==t&&(e=e&&r.rightThread===n),n=r})),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dbg_everyNodeIsContiguous",{get:function(){var e=this;if(this.root.isNil)return!0;var t=!0;return this.inorderTreeWalkWithPredecessor(this.root,(function(n,r){t=t&&e.keyComparator.equalTo(r.intervalHigh,n.intervalLow)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dbg_zeroNodesOnlyAtEnds",{get:function(){var e=!0,t=this.minimumNode(this.root),n=this.maximumNode(this.root);return this.inorderTreeWalk(this.root,(function(r){r.isIntervalLengthZero&&(e=e&&(r===t||r===n))})),e},enumerable:!0,configurable:!0}),t.prototype.initPooledContiguousIntervalTreeBase=function(t,n,r,i,o){e.prototype.initPooledIntervalTreeBase.call(this,t,n,r),this._shifter=i,this._differenceCalculator=o},t}(i.PooledIntervalTreeBase);t.PooledContiguousIntervalTreeBase=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1543),o=n(1677),a=n(1682),s=function(e){function t(){var t=e.call(this)||this;return t.treeOwner=null,t.isIntervalLengthZero=null,t.max=null,t._intervalHigh=null,t}return r(t,e),Object.defineProperty(t.prototype,"intervalLow",{get:function(){return this.key},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intervalHigh",{get:function(){return this._intervalHigh},enumerable:!0,configurable:!0}),t.prototype.setKey=function(e,t){void 0===t&&(t=!0),this.key!==e&&(this.key=e,this.isIntervalLengthZero=this.treeOwner.keyComparator.equalTo(e,this._intervalHigh),t&&this.treeOwner.onNodeIntervalLowChanged(this))},t.prototype.setIntervalLow=function(e,t){void 0===t&&(t=!0),this.setKey(e,t)},t.prototype.setIntervalHigh=function(e,t){void 0===t&&(t=!0),this._intervalHigh!==e&&(this._intervalHigh=e,this.isIntervalLengthZero=this.treeOwner.keyComparator.equalTo(this.key,e),t&&this.treeOwner.onNodeIntervalHighChanged(this))},t.prototype.setIntervalLowAndHigh=function(e,t,n){void 0===n&&(n=!0),this.key=e,this._intervalHigh=t,this.isIntervalLengthZero=this.treeOwner.keyComparator.equalTo(e,t),n&&this.treeOwner.onNodeIntervalLowAndHighChanged(this)},t.prototype.setMax=function(e){this.max!==e&&(this.max=e)},t.prototype.toJSON=function(){return this.isNil?null:{low:this.keyToJSON(this.intervalLow),high:this.keyToJSON(this.intervalHigh),max:this.keyToJSON(this.max),left:this.left.isNil?null:this.left.toJSON(),right:this.right.isNil?null:this.right.toJSON(),value:this.valueToJSON(this.value),color:o.RedBlackTreeNodeColor[this.color]}},t.prototype.dbg_formattedIntervalLow=function(){return""+this.intervalLow.toString()},t.prototype.dbg_formattedIntervalHigh=function(){return""+this.intervalHigh.toString()},t.prototype.dbg_formattedMax=function(){return""+this.max.toString()},t.prototype.dbg_formattedKey=function(){return this.dbg_formattedIntervalLow()+"-"+this.dbg_formattedIntervalHigh()+"|"+this.dbg_formattedMax()},t.prototype.instanceInit=function(){e.prototype.instanceInit.call(this),this._intervalHigh=null,this.isIntervalLengthZero=null,this.max=null},t.prototype.initPooledIntervalTreeNodeBaseSentinelNil=function(t){e.prototype.initPooledRedBlackTreeNodeBaseSentinelNil.call(this),this.setMax(t)},t.prototype.initPooledIntervalTreeNodeBase=function(t,n,r,i){e.prototype.initPooledRedBlackTreeNodeBase.call(this,t,n,i),this._intervalHigh=r,this.isIntervalLengthZero=this.treeOwner.keyComparator.equalTo(n,r),this.setMax(r)},t}(a.PooledRedBlackTreeNodeBase);t.PooledIntervalTreeNodeBase=s;var l=function(e){function t(){var t=e.call(this)||this;return t.intervalComparator=null,t._reusableNodeStack=[],t._keyMin=null,t}return r(t,e),t.prototype.insertInterval=function(e,t,n){var r=this.onWillInsertKeyValue(e,n,{high:t});return this.insertNode(r),r},t.prototype.closedIntervalSearch=function(e,t,n){for(var r=e;!r.isNil&&!this.intervalComparator.doesClosedIntervalOverlap(t,n,r.intervalLow,r.intervalHigh);)r=!r.left.isNil&&this.keyComparator.greaterThanOrEqualTo(r.left.max,t)?r.left:r.right;return r},t.prototype.closedIntervalSearchForAll=function(e,t,n,r){r.length=0;var i=this._reusableNodeStack;for(i.length=0,i.push(e);i.length>0;){var o=i.pop();o.isNil||(this.intervalComparator.doesClosedIntervalOverlap(t,n,o.intervalLow,o.intervalHigh)&&r.push(o),this.keyComparator.lessThanOrEqualTo(t,o.left.max)&&i.push(o.left),this.keyComparator.greaterThanOrEqualTo(o.right.max,t)&&i.push(o.right))}},t.prototype.closedIntervalSearchForAllAfterEndPoint=function(e,t,n){n.length=0;var r=this._reusableNodeStack;for(r.length=0,r.push(e);r.length>0;){var i=r.pop();i.isNil||(this.keyComparator.lessThanOrEqualTo(t,i.intervalLow)&&n.push(i),this.keyComparator.lessThanOrEqualTo(t,i.left.max)&&r.push(i.left),this.keyComparator.greaterThanOrEqualTo(i.right.max,t)&&r.push(i.right))}},t.prototype.openIntervalSearchForAll=function(e,t,n,r){r.length=0;var i=this._reusableNodeStack;for(i.length=0,i.push(e);i.length>0;){var o=i.pop();o.isNil||(this.intervalComparator.doesOpenIntervalOverlap(t,n,o.intervalLow,o.intervalHigh)&&r.push(o),this.keyComparator.lessThanOrEqualTo(t,o.left.max)&&i.push(o.left),this.keyComparator.greaterThanOrEqualTo(o.right.max,t)&&i.push(o.right))}},t.prototype.onNodeKeyChanged=function(e){var t=this.deleteNode(e);t.setMax(t.intervalHigh),this.insertNode(t)},t.prototype.onNodeIntervalLowChanged=function(e){this.onNodeKeyChanged(e)},t.prototype.onNodeIntervalHighChanged=function(e){this.augmentNodeUpToRoot(e),e.left.isNil||this.keyComparator.lessThanOrEqualTo(e.left.max,e.max)||i.fatalError("This interval node is invalid.",{node:e}),e.right.isNil||this.keyComparator.lessThanOrEqualTo(e.right.max,e.max)||i.fatalError("This interval node is invalid.",{node:e}),this.keyComparator.lessThanOrEqualTo(e.intervalHigh,e.max)||i.fatalError("This interval node is invalid.",{node:e})},t.prototype.onNodeIntervalLowAndHighChanged=function(e){this.onNodeKeyChanged(e)},t.prototype.isNodeLessThan=function(e,t){return this.intervalComparator.compare(e.intervalLow,e.intervalHigh,t.intervalLow,t.intervalHigh)<0},t.prototype.augmentNodeOnInsertionPathForNode=function(e,t){e.setMax(this.keyComparator.max(e.max,t.intervalHigh))},t.prototype.augmentNodeUpToRoot=function(e){for(;!e.isNil;)e.setMax(this.keyComparator.max(e.intervalHigh,e.left.max,e.right.max)),e=e.parent},t.prototype.augmentNodesAfterRotate=function(e,t){e.setMax(t.max),t.setMax(this.keyComparator.max(t.intervalHigh,t.left.max,t.right.max))},t.prototype.onWillInsertNode=function(t){if(e.prototype.onWillInsertNode.call(this,t),this._keyComparator.compare(t.intervalLow,t.intervalHigh)>0)throw new Error("The interval being inserted into the tree is invalid.")},t.prototype.dbg_isValid=function(){var t=e.prototype.dbg_isValid.call(this),n=this.dbg_everyNodeMaxIsCorrect;return t&&n},Object.defineProperty(t.prototype,"dbg_everyNodeMaxIsCorrect",{get:function(){var e=this,t=!0;return this.postorderTreeWalk(this.root,(function(n){t=t&&e.keyComparator.equalTo(n.max,e.dbg_nodeMax(n))})),t},enumerable:!0,configurable:!0}),t.prototype.dbg_nodeMax=function(e){return e.isNil?this._keyMin:this.keyComparator.max(e.intervalHigh,this.dbg_nodeMax(e.left),this.dbg_nodeMax(e.right))},t.prototype.initPooledIntervalTreeBase=function(t,n,r,i){e.prototype.initPooledRedBlackTreeBase.call(this,t,n.endPointComparator,i),this.intervalComparator=n,this._keyMin=r},t}(a.PooledRedBlackTreeBase);t.PooledIntervalTreeBase=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1543),o=n(1677),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.treeOwner=null,t.color=o.RedBlackTreeNodeColor.BLACK,t.parent=null,t.left=null,t.right=null,t.key=null,t.value=null,t.isNil=null,t}return r(t,e),Object.defineProperty(t.prototype,"isLeafNode",{get:function(){return this.isNil},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isNonNilLeafNode",{get:function(){return!this.isNil&&this.left.isNil&&this.right.isNil},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nodeCount",{get:function(){return this.isNil?0:this.left.nodeCount+1+this.right.nodeCount},enumerable:!0,configurable:!0}),t.prototype.setKey=function(e,t){void 0===t&&(t=!0),this.key!==e&&(this.key=e,t&&this.treeOwner.onNodeKeyChanged(this))},t.prototype.setValue=function(e,t){void 0===t&&(t=!0),this.value!==e&&(this.value=e,t&&this.treeOwner.onNodeValueChanged(this))},t.prototype.toJSON=function(){return this.isNil?null:{key:this.keyToJSON(this.key),value:this.valueToJSON(this.value),left:this.left.isNil?null:this.left.toJSON(),right:this.right.isNil?null:this.right.toJSON(),color:o.RedBlackTreeNodeColor[this.color]}},t.prototype.keyToJSON=function(e){return e},t.prototype.valueToJSON=function(e){return e},t.prototype.keyFromJSON=function(e){return e},t.prototype.valueFromJSON=function(e){return e},t.prototype.dbg_isValid=function(){return this.color!==o.RedBlackTreeNodeColor.RED||this.left.color===o.RedBlackTreeNodeColor.BLACK&&this.right.color===o.RedBlackTreeNodeColor.BLACK},Object.defineProperty(t.prototype,"dbg_nonNilLeafNodes",{get:function(){var e=[];return this.treeOwner.inorderTreeWalk(this,(function(t){t.left.isNil&&t.right.isNil&&e.push(t)})),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dbg_nonNilLeafBlackHeightToRoot",{get:function(){for(var e=this,t=0;!e.isNil;)e.color===o.RedBlackTreeNodeColor.BLACK&&(t+=1),e=e.parent;return t},enumerable:!0,configurable:!0}),t.prototype.dbg_dumpASCII=function(e){void 0===e&&(e=7);var t=function e(t){if(t){var n=e(t.left),r=e(t.right);return Math.max(n,r)+1}return 0}(this),n=[];return function o(s,l){void 0===l&&(l=0);var u=a(l);if(n[l]?n[l]=n[l]+u+i(s):n[l]=u+i(s),++l,s.left)o(s.left,l);else for(var c=l;c<t;++c)n[c]||(n[c]=""),n[c]=n[c]+a(c)+r("",e);if(s.right)o(s.right,l);else for(c=l;c<t;++c)n[c]||(n[c]=""),n[c]=n[c]+a(c)+r("",e)}(this),function(e,t){for(var n="Subtree depth: "+t+"\n\n",r="",i=0,o=e;i<o.length;i++){r=r+o[i]+"\n\n"}return n+r}(n,t);function r(e,t){if(e.length===t)return e;if(e.length>t)return e.substring(0,t);for(;e.length<t;)e+=" ";return e}function i(t){if(t.isLeafNode){var n=r("",Math.floor(e/2));return n+"X"+n}return"("+(t.color===o.RedBlackTreeNodeColor.BLACK?"B":"R")+" "+r(t.dbg_formattedKey(),e-4)+")"}function a(n){return r("",function(n){var r=Math.pow(2,n)*e,i=Math.pow(2,t)*e,o=Math.pow(2,n)+1;return Math.floor((i-r)/o)}(n))}},t.prototype.dbg_formattedKey=function(){return this.key.toString()},t.prototype.dbg_dump=function(){return{key:this.key,isaLeafNode:this.isLeafNode,color:this.color,parent:this.parent,left:this.left,right:this.right}},t.prototype.instanceInit=function(){e.prototype.instanceInit.call(this),this.treeOwner=null,this.color=o.RedBlackTreeNodeColor.BLACK,this.parent=null,this.left=null,this.right=null,this.key=null,this.value=null,this.isNil=null},t.prototype.free=function(){this.treeOwner&&(this.left=null,this.right=null),e.prototype.free.call(this)},t.prototype.initPooledRedBlackTreeNodeBaseSentinelNil=function(){this.treeOwner=null,this.isNil=!0},t.prototype.initPooledRedBlackTreeNodeBase=function(e,t,n){var r=e.sentinelNil;this.treeOwner=e,this.parent=r,this.key=t,this.value=n,this.isNil=null===t,this.left=r,this.right=r},t.prototype.createNodeFromJSON=function(e,t){return i.fatalError("PooledRedBlackTreeBase.createNodeFromJSON is not implemented",{node:this}),null},t}(i.Pooled);t.PooledRedBlackTreeNodeBase=a;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.root=null,t.sentinelNil=null,t._keyComparator=null,t}return r(t,e),Object.defineProperty(t.prototype,"nodeCount",{get:function(){return this.root.nodeCount},enumerable:!0,configurable:!0}),t.prototype.insertKeyValue=function(e,t){var n=this.onWillInsertKeyValue(e,t);return this.insertNode(n),n},t.prototype.insertNode=function(e){this.onWillInsertNode(e);for(var t=this.sentinelNil,n=this.root;!n.isNil;)this.augmentNodeOnInsertionPathForNode(n,e),t=n,n=this.isNodeLessThan(e,n)?n.left:n.right;e.parent=t,t===this.sentinelNil?this.root=e:this.isNodeLessThan(e,t)?t.left=e:t.right=e,e.left=this.sentinelNil,e.right=this.sentinelNil,e.color=o.RedBlackTreeNodeColor.RED,this.insertFixup(e),this.onDidInsertNode(e)},t.prototype.deleteNode=function(e){var t=e,n=t.color,r=this.sentinelNil,a=this.sentinelNil;return e.left.isNil?(r=e.right,this.transplant(e,e.right)):e.right.isNil?(r=e.left,this.transplant(e,e.left)):(a=(t=this.minimumNode(e.right)).parent,n=t.color,r=t.right,t.parent===e?r.parent=t:(this.transplant(t,t.right),t.right=e.right,t.right.parent=t),this.transplant(e,t),t.left=e.left,t.left.parent=t,t.color=e.color),n===o.RedBlackTreeNodeColor.BLACK&&this.deleteFixup(r),this.augmentNodeUpToRoot(t),this.augmentNodeUpToRoot(a),e.left=this.sentinelNil,e.right=this.sentinelNil,this.onDidDeleteNode(e),i.unsafePtrAsOwn(e)},t.prototype.search=function(e,t){for(;!e.isNil&&!this._keyComparator.equalTo(t,e.key);)e=this._keyComparator.lessThan(t,e.key)?e.left:e.right;return e},t.prototype.nodesByKey=function(e,t,n){n.length=0,this.nodesByKeyHelper(e,t,n)},t.prototype.nodesByKeyHelper=function(e,t,n){var r=this.search(e,t);r.isNil||(n.push(r),this.nodesByKeyHelper(r.left,t,n),this.nodesByKeyHelper(r.right,t,n))},t.prototype.inorderKeys=function(e,t){t.length=0,this.inorderTreeWalk(e,(function(e){t.push(e.key)}))},t.prototype.valuesByKey=function(e,t,n){n.length=0,this.valuesByKeyHelper(e,t,n)},t.prototype.valuesByKeyHelper=function(e,t,n){var r=this.search(e,t);r.isNil||(n.push(r.value),this.valuesByKeyHelper(r.left,t,n),this.valuesByKeyHelper(r.right,t,n))},t.prototype.preorderTreeWalk=function(e,t){null===e||e.isNil||(t(e),this.preorderTreeWalk(e.left,t),this.preorderTreeWalk(e.right,t))},t.prototype.inorderTreeWalk=function(e,t){null===e||e.isNil||(this.inorderTreeWalk(e.left,t),t(e),this.inorderTreeWalk(e.right,t))},t.prototype.reverseInorderTreeWalk=function(e,t){null===e||e.isNil||(this.reverseInorderTreeWalk(e.right,t),t(e),this.reverseInorderTreeWalk(e.left,t))},t.prototype.postorderTreeWalk=function(e,t){null===e||e.isNil||(this.postorderTreeWalk(e.left,t),this.postorderTreeWalk(e.right,t),t(e))},t.prototype.inorderNodes=function(e,t){t.length=0,this.inorderTreeWalk(e,(function(e){t.push(e)}))},t.prototype.inorderTreeWalkWithPredecessor=function(e,t){if(null!==e&&!e.isNil){var n=[];this.inorderNodes(e,n);var r=n.length;if(r>=2)for(var i=n[0],o=1;o<r;++o){var a=n[o];t(a,i),i=a}}},t.prototype.minimumNode=function(e){if(!e.isNil)for(;!e.left.isNil;)e=e.left;return e},t.prototype.maximumNode=function(e){if(!e.isNil)for(;!e.right.isNil;)e=e.right;return e},t.prototype.predecessorNode=function(e){if(e.isNil)return e;if(e.left.isNil){for(var t=e.parent;!t.isNil&&e===t.left;)e=t,t=t.parent;return t}return this.maximumNode(e.left)},t.prototype.successorNode=function(e){if(e.isNil)return e;if(e.right.isNil){for(var t=e.parent;!t.isNil&&e===t.right;)e=t,t=t.parent;return t}return this.minimumNode(e.right)},t.prototype.disposeAllNodes=function(){var e=this;this.postorderTreeWalk(this.root,(function(t){t.left&&t.left.isNil,t.right&&t.right.isNil,t.left=e.sentinelNil,t.right=e.sentinelNil,e.onDidDeleteNode(t),e.disposeNode(t)})),this.root=this.sentinelNil},t.prototype.onNodeKeyChanged=function(e){this.insertNode(this.deleteNode(e))},t.prototype.onNodeValueChanged=function(e){},t.prototype.toJSON=function(){return{root:this.root.isNil?null:this.root.toJSON()}},t.prototype.isNodeLessThan=function(e,t){return this._keyComparator.lessThan(e.key,t.key)},t.prototype.augmentNodeOnInsertionPathForNode=function(e,t){},t.prototype.augmentNodeUpToRoot=function(e){},t.prototype.augmentNodesAfterRotate=function(e,t){},t.prototype.leftRotate=function(e){var t=e.right;e.right=t.left,t.left.isNil||(t.left.parent=e),t.parent=e.parent,e.parent.isNil?this.root=i.unsafePtrAsOwn(t):e===e.parent.left?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,this.augmentNodesAfterRotate(t,e)},t.prototype.rightRotate=function(e){var t=e.left;e.left=t.right,t.right.isNil||(t.right.parent=e),t.parent=e.parent,e.parent.isNil?this.root=i.unsafePtrAsOwn(t):e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,this.augmentNodesAfterRotate(t,e)},t.prototype.insertFixup=function(e){for(;e.parent.color===o.RedBlackTreeNodeColor.RED;){var t;e.parent===e.parent.parent.left?(t=e.parent.parent.right).color===o.RedBlackTreeNodeColor.RED?(e.parent.color=o.RedBlackTreeNodeColor.BLACK,t.color=o.RedBlackTreeNodeColor.BLACK,e.parent.parent.color=o.RedBlackTreeNodeColor.RED,e=e.parent.parent):e===e.parent.right?(e=e.parent,this.leftRotate(e)):(e.parent.color=o.RedBlackTreeNodeColor.BLACK,e.parent.parent.color=o.RedBlackTreeNodeColor.RED,this.rightRotate(e.parent.parent)):(t=e.parent.parent.left).color===o.RedBlackTreeNodeColor.RED?(e.parent.color=o.RedBlackTreeNodeColor.BLACK,t.color=o.RedBlackTreeNodeColor.BLACK,e.parent.parent.color=o.RedBlackTreeNodeColor.RED,e=e.parent.parent):e===e.parent.left?(e=e.parent,this.rightRotate(e)):(e.parent.color=o.RedBlackTreeNodeColor.BLACK,e.parent.parent.color=o.RedBlackTreeNodeColor.RED,this.leftRotate(e.parent.parent))}this.root.color=o.RedBlackTreeNodeColor.BLACK},t.prototype.deleteFixup=function(e){for(;e!==this.root&&e.color===o.RedBlackTreeNodeColor.BLACK;){var t;e===e.parent.left?((t=e.parent.right).color===o.RedBlackTreeNodeColor.RED&&(t.color=o.RedBlackTreeNodeColor.BLACK,e.parent.color=o.RedBlackTreeNodeColor.RED,this.leftRotate(e.parent),t=e.parent.right),t.left.color===o.RedBlackTreeNodeColor.BLACK&&t.right.color===o.RedBlackTreeNodeColor.BLACK?(t.color=o.RedBlackTreeNodeColor.RED,e=e.parent):t.right.color===o.RedBlackTreeNodeColor.BLACK?(t.left.color=o.RedBlackTreeNodeColor.BLACK,t.color=o.RedBlackTreeNodeColor.RED,this.rightRotate(t),t=e.parent.right):(t.color=e.parent.color,e.parent.color=o.RedBlackTreeNodeColor.BLACK,t.right.color=o.RedBlackTreeNodeColor.BLACK,this.leftRotate(e.parent),e=this.root)):((t=e.parent.left).color===o.RedBlackTreeNodeColor.RED&&(t.color=o.RedBlackTreeNodeColor.BLACK,e.parent.color=o.RedBlackTreeNodeColor.RED,this.rightRotate(e.parent),t=e.parent.left),t.right.color===o.RedBlackTreeNodeColor.BLACK&&t.left.color===o.RedBlackTreeNodeColor.BLACK?(t.color=o.RedBlackTreeNodeColor.RED,e=e.parent):t.left.color===o.RedBlackTreeNodeColor.BLACK?(t.right.color=o.RedBlackTreeNodeColor.BLACK,t.color=o.RedBlackTreeNodeColor.RED,this.leftRotate(t),t=e.parent.left):(t.color=e.parent.color,e.parent.color=o.RedBlackTreeNodeColor.BLACK,t.left.color=o.RedBlackTreeNodeColor.BLACK,this.rightRotate(e.parent),e=this.root))}e.color=o.RedBlackTreeNodeColor.BLACK},t.prototype.transplant=function(e,t){e.parent.isNil?this.root=i.unsafePtrAsOwn(t):e===e.parent.left?e.parent.left=t:e.parent.right=t,t.parent=e.parent},t.prototype.onWillInsertNode=function(e){},t.prototype.onDidInsertNode=function(e){},t.prototype.onDidDeleteNode=function(e){e.isNil},t.prototype.disposeNode=function(e){e.free()},Object.defineProperty(t.prototype,"keyComparator",{get:function(){return this._keyComparator},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dbg_keys",{get:function(){var e=[];return this.inorderTreeWalk(this.root,(function(t){e.push(t.key)})),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dbg_nodes",{get:function(){var e=[];return this.inorderTreeWalk(this.root,(function(t){e.push(t)})),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dbg_everyNodeHasAColor",{get:function(){var e=!0;return this.inorderTreeWalk(this.root,(function(t){e=e&&(t.color===o.RedBlackTreeNodeColor.BLACK||t.color===o.RedBlackTreeNodeColor.RED)})),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dbg_redNodesHaveBlackChildren",{get:function(){var e=!0;return this.inorderTreeWalk(this.root,(function(t){t.color===o.RedBlackTreeNodeColor.RED&&(e=e&&t.left.color===o.RedBlackTreeNodeColor.BLACK&&t.right.color===o.RedBlackTreeNodeColor.BLACK)})),e},enumerable:!0,configurable:!0}),t.prototype.dbg_isValid=function(){return this.root.color===o.RedBlackTreeNodeColor.BLACK&&this.dbg_everyNodeHasAColor&&this.dbg_redNodesHaveBlackChildren&&this.dbg_allSimplePathsFromEveryNodeToDescendantLeavesContainSameBlackCount},Object.defineProperty(t.prototype,"dbg_nonNilLeafNodes",{get:function(){return this.root.dbg_nonNilLeafNodes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dbg_allSimplePathsFromEveryNodeToDescendantLeavesContainSameBlackCount",{get:function(){var e=[];this.inorderTreeWalk(this.root,(function(t){e.push(t)}));for(var t=0,n=e.length;t<n;++t)for(var r=e[t].dbg_nonNilLeafNodes,i=null,o=0,a=r.length;o<a;++o){var s=r[o];if(null===i)i=s.dbg_nonNilLeafBlackHeightToRoot;else if(i!==s.dbg_nonNilLeafBlackHeightToRoot)return!1}return!0},enumerable:!0,configurable:!0}),t.prototype.free=function(){this.disposeAllNodes(),this.root=null,this.onDidDeleteNode(this.sentinelNil),this.disposeNode(this.sentinelNil),this.sentinelNil=null,this._keyComparator=null,e.prototype.free.call(this)},t.prototype.initPooledRedBlackTreeBase=function(e,t,n){var r=this;this._keyComparator=t,this.sentinelNil=e,void 0===n?(this.root=this.sentinelNil,this.onDidInsertNode(e)):(this.root=e.createNodeFromJSON(this,n.root),this.preorderTreeWalk(this.root,(function(e){return r.onDidInsertNode(e)})))},t}(i.Pooled);t.PooledRedBlackTreeBase=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1543),o=n(1682),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.treeOwner=null,t.facade=null,t}return r(t,e),t.prototype.initSentinelNilWithFacadeBase=function(t){e.prototype.initPooledRedBlackTreeNodeBaseSentinelNil.call(this),this.facade=t},t.prototype.initPooledRedBlackTreeNodeWithFacadeBase=function(t,n,r,i){e.prototype.initPooledRedBlackTreeNodeBase.call(this,n,r,i),this.facade=t},t}(o.PooledRedBlackTreeNodeBase);t.PooledRedBlackTreeNodeBaseWithFacade=a;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.facade=null,t}return r(t,e),t.prototype.onDidInsertNode=function(t){t.facade.retain(),e.prototype.onDidInsertNode.call(this,t)},t.prototype.onDidDeleteNode=function(t){e.prototype.onDidDeleteNode.call(this,t),t.facade.release()},t.prototype.disposeNode=function(e){},t.prototype.initPooledRedBlackTreeFacadeBase=function(t,n,r){e.prototype.initPooledRedBlackTreeBase.call(this,n,r),this.facade=t},t}(o.PooledRedBlackTreeBase);t.PooledRedBlackTreeBaseWithFacade=s;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._treeOwner=null,t._impl=null,t}return r(t,e),Object.defineProperty(t.prototype,"key",{get:function(){return this._impl.key},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._impl.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._impl.parent.facade},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this._impl.left.facade},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this._impl.right.facade},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLeafNode",{get:function(){return this._impl.isLeafNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isNil",{get:function(){return this._impl.isNil},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isNonNilLeafNode",{get:function(){return this._impl.isNonNilLeafNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nodeCount",{get:function(){return this._impl.nodeCount},enumerable:!0,configurable:!0}),t.prototype.instanceInit=function(){e.prototype.instanceInit.call(this),this._impl=null,this._treeOwner=null},t.prototype.free=function(){this._impl.free(),e.prototype.free.call(this)},t.prototype.initSentinelNil=function(e){this._treeOwner=null,this._impl=e},t.prototype.initRedBlackTreeNodeBase=function(e,t){this._treeOwner=e,this._impl=t},t}(i.Refcounted);t.RedBlackTreeNodeBase=l;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._impl=null,t}return r(t,e),Object.defineProperty(t.prototype,"sentinelNil",{get:function(){return this._impl.sentinelNil.facade},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._impl.root.facade},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nodeCount",{get:function(){return this._impl.nodeCount},enumerable:!0,configurable:!0}),t.prototype.insertKeyValue=function(e,t){return this._impl.insertKeyValue(e,t).facade},t.prototype.insertNode=function(e){this._impl.insertNode(e._impl)},t.prototype.deleteNode=function(e){return e.retain(),this._impl.deleteNode(e._impl).facade.autorelease()},t.prototype.delete=function(e){var t=this._impl.search(this._impl.root,e);return t.isNil?null:(t.facade.retain(),this._impl.deleteNode(t).facade.autorelease())},t.prototype.search=function(e,t){void 0===t&&(t=null);var n=this._impl.search(t?t._impl:this._impl.root,e);return n?n.facade:null},t.prototype.minimumNode=function(e){void 0===e&&(e=null);var t=this._impl.minimumNode(e?e._impl:this._impl.root);return t?t.facade:null},t.prototype.maximumNode=function(e){void 0===e&&(e=null);var t=this._impl.maximumNode(e?e._impl:this._impl.root);return t?t.facade:null},t.prototype.predecessorNode=function(e){var t=this._impl.predecessorNode(e._impl);return t?t.facade:null},t.prototype.sucessorNode=function(e){var t=this._impl.successorNode(e._impl);return t?t.facade:null},t.prototype.instanceInit=function(){e.prototype.instanceInit.call(this),this._impl=null},t.prototype.free=function(){this._impl.free(),e.prototype.free.call(this)},t.prototype.initRedBlackTreeBase=function(e){this._impl=e},t}(i.Refcounted);t.RedBlackTreeBase=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1543),a=n(1685),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.facade=null,t.treeOwner=null,t}return r(t,e),t.createSentinelNil=function(e,t){var n=this.alloc_own();return n.initPooledIntervalTreeNodeBaseSentinelNilWithFacade(e,t),n},t.create=function(e,t,n,r,i){var o=this.alloc();return o.initPooledIntervalTreeNodeBaseWithFacade(e,t,n,r,i),o},i([o.sealed],t)}(a.PooledIntervalTreeNodeBaseWithFacade);t.PooledIntervalTreeNodeWithFacade=s,s.initializePooled();var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.facade=null,t}return r(t,e),t.prototype.onWillInsertKeyValue=function(e,t,n){return u.create(this.facade,e,n.high,t)._impl},t.create=function(e,t,n,r){var i=this.alloc_own();return i.initPooledIntervalTreeBaseWithFacade(e,t,n,r),i},i([o.sealed],t)}(a.PooledIntervalTreeBaseWithFacade);t.PooledIntervalTreeWithFacade=l,l.initializePooled();var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._treeOwner=null,t._impl=null,t}return r(t,e),Object.defineProperty(t.prototype,"treeOwner",{get:function(){return this._treeOwner.facade},enumerable:!0,configurable:!0}),t.prototype.initIntervalTreeNode=function(t,n){e.prototype.initRedBlackTreeNodeBase.call(this,t,n)},t.createSentinelNil=function(e){var t=this.alloc(),n=s.createSentinelNil(t,e);return t.initSentinelNil(n),t.autorelease()},t.create=function(e,t,n,r){var i=this.alloc(),o=s.create(i,e._impl,t,n,r);return i.initIntervalTreeNode(e._impl,o),i.autorelease()},i([o.sealed],t)}(a.IntervalTreeNodeBase);t.IntervalTreeNode=u,u.initializeRefcounted();var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._impl=null,t}return r(t,e),t.prototype.initIntervalTree=function(t){e.prototype.initIntervalTreeBase.call(this,t)},t.create=function(e,t){var n=this.alloc(),r=u.createSentinelNil(t),i=l.create(n,r._impl,e,t);return n.initIntervalTree(i),n.autorelease()},i([o.sealed],t)}(a.IntervalTreeBase);t.IntervalTree=c,c.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1681),o=n(1683),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.facade=null,t.treeOwner=null,t}return r(t,e),t.prototype.initPooledIntervalTreeNodeBaseSentinelNilWithFacade=function(t,n){e.prototype.initPooledIntervalTreeNodeBaseSentinelNil.call(this,n),this.facade=t},t.prototype.initPooledIntervalTreeNodeBaseWithFacade=function(t,n,r,i,o){e.prototype.initPooledIntervalTreeNodeBase.call(this,n,r,i,o),this.facade=t},t}(i.PooledIntervalTreeNodeBase);t.PooledIntervalTreeNodeBaseWithFacade=a;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.facade=null,t}return r(t,e),t.prototype.initPooledIntervalTreeBaseWithFacade=function(t,n,r,i){e.prototype.initPooledIntervalTreeBase.call(this,n,r,i),this.facade=t},t}(i.PooledIntervalTreeBase);t.PooledIntervalTreeBaseWithFacade=s;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._treeOwner=null,t._impl=null,t}return r(t,e),Object.defineProperty(t.prototype,"intervalLow",{get:function(){return this._impl.intervalLow},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intervalHigh",{get:function(){return this._impl.intervalHigh},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isIntervalLengthZero",{get:function(){return this._impl.isIntervalLengthZero},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._impl.max},enumerable:!0,configurable:!0}),t.prototype.setKey=function(e,t){return void 0===t&&(t=!0),this._impl.setKey(e,t)},t.prototype.setIntervalLow=function(e,t){return void 0===t&&(t=!0),this._impl.setIntervalLow(e,t)},t.prototype.setIntervalHigh=function(e,t){return void 0===t&&(t=!0),this._impl.setIntervalHigh(e,t)},t.prototype.setIntervalLowAndHigh=function(e,t,n){return void 0===n&&(n=!0),this._impl.setIntervalLowAndHigh(e,t,n)},t.prototype.setMax=function(e){return this._impl.setMax(e)},t.prototype.initSentinelNil=function(t){e.prototype.initSentinelNil.call(this,t)},t.prototype.initRedBlackTreeNodeBase=function(t,n){e.prototype.initRedBlackTreeNodeBase.call(this,t,n)},t}(o.RedBlackTreeNodeBase);t.IntervalTreeNodeBase=l;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._impl=null,t}return r(t,e),Object.defineProperty(t.prototype,"intervalComparator",{get:function(){return this._impl.intervalComparator},enumerable:!0,configurable:!0}),t.prototype.insertInterval=function(e,t,n){return this._impl.insertInterval(e,t,n).facade},t.prototype.closedIntervalSearch=function(e,t,n){return this._impl.closedIntervalSearch(e._impl,t,n).facade},t.prototype.closedIntervalSearchForAll=function(e,t,n,r){var i=[];this._impl.closedIntervalSearchForAll(e._impl,t,n,i),r.length=0;for(var o=0,a=i.length;o<a;++o)r.push(i[o].facade)},t.prototype.closedIntervalSearchForAllAfterEndPoint=function(e,t,n){var r=[];this._impl.closedIntervalSearchForAllAfterEndPoint(e._impl,t,r),n.length=0;for(var i=0,o=r.length;i<o;++i)n.push(r[i].facade)},t.prototype.openIntervalSearchForAll=function(e,t,n,r){var i=[];this._impl.openIntervalSearchForAll(e._impl,t,n,i),r.length=0;for(var o=0,a=i.length;o<a;++o)r.push(i[o].facade)},t.prototype.initIntervalTreeBase=function(t){e.prototype.initRedBlackTreeBase.call(this,t)},t}(o.RedBlackTreeBase);t.IntervalTreeBase=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1624),a=n(1543),s=n(1683),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.treeOwner=null,t.facade=null,t}return r(t,e),t.prototype.initPooledRedBlackTreeNodeWithFacade=function(t,n,r,i){e.prototype.initPooledRedBlackTreeNodeWithFacadeBase.call(this,t,n,r,i)},t.createSentinelNil=function(e){var t=this.alloc_own();return t.initSentinelNilWithFacadeBase(e),t},t.create=function(e,t,n,r){var i=this.alloc();return i.initPooledRedBlackTreeNodeWithFacade(e,t,n,r),i},i([a.sealed],t)}(s.PooledRedBlackTreeNodeBaseWithFacade);t.PooledRedBlackTreeNodeWithFacade=l,l.initializePooled();var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._treeOwner=null,t._impl=null,t}return r(t,e),Object.defineProperty(t.prototype,"treeOwner",{get:function(){return this._treeOwner.facade},enumerable:!0,configurable:!0}),t.prototype.initRedBlackTreeNode=function(t,n){e.prototype.initRedBlackTreeNodeBase.call(this,t,n)},t.createSentinelNil=function(){var e=this.alloc(),t=l.createSentinelNil(e);return e.initSentinelNil(t),e.autorelease()},t.create=function(e,t,n){var r=this.alloc(),i=l.create(r,e._impl,t,n);return r.initRedBlackTreeNode(e._impl,i),r.autorelease()},i([a.sealed],t)}(s.RedBlackTreeNodeBase);t.RedBlackTreeNode=u,u.initializeRefcounted();var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.facade=null,t}return r(t,e),t.prototype.onWillInsertKeyValue=function(e,t,n){return u.create(this.facade,e,t)._impl},t.create=function(e,t,n){var r=this.alloc_own();return r.initPooledRedBlackTreeFacadeBase(e,t,n),r},t.createNumberTree=function(e,t){return this.create(e,t,o.NumberComparator.instance)},i([a.sealed],t)}(s.PooledRedBlackTreeBaseWithFacade);t.PooledRedBlackTreeWithFacade=c,c.initializePooled();var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._impl=null,t}return r(t,e),t.prototype.initRedBlackTree=function(t){e.prototype.initRedBlackTreeBase.call(this,t)},t.create=function(e){var t=this.alloc(),n=u.createSentinelNil(),r=c.create(t,n._impl,e);return t.initRedBlackTree(r),t.autorelease()},t.createNumberRBTree=function(){return this.create(o.NumberComparator.instance)},i([a.sealed],t)}(s.RedBlackTreeBase);t.RedBlackTree=d,d.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1543),a=n(1680),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.treeOwner=null,t}return r(t,e),t.createSentinelNil=function(e){var t=this.alloc_own();return t.initPooledContiguousIntervalTreeNodeBaseSentinelNil(e),t},t.create=function(e,t,n,r){var i=this.alloc();return i.initPooledContiguousIntervalTreeNodeBase(e,t,n,r),i},i([o.sealed],t)}(a.PooledContiguousIntervalTreeNodeBase);t.PooledContiguousIntervalTreeNode=s,s.initializePooled();var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onWillInsertKeyValue=function(e,t,n){return s.create(this,e,n.high,t)},t.create=function(e,t,n,r){var i=this.alloc_own();return i.initPooledContiguousIntervalTreeBase(s.createSentinelNil(t),e,t,n,r),i},i([o.sealed],t)}(a.PooledContiguousIntervalTreeBase);t.PooledContiguousIntervalTree=l,l.initializePooled()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1543),a=n(1677),s=n(1681),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.treeOwner=null,t}var n;return r(t,e),n=t,t.prototype.createNodeFromJSON=function(e,t){var r=n.create(e,this.keyFromJSON(t.low),this.keyFromJSON(t.high),this.valueFromJSON(t.value));r.setMax(this.keyFromJSON(t.max));var i=t.color;if(r.color=a.RedBlackTreeNodeColor[i],null!==t.left){var o=this.createNodeFromJSON(e,t.left);o.parent=r,r.left=o}if(null!==t.right){var s=this.createNodeFromJSON(e,t.right);s.parent=r,r.right=s}return r},t.createSentinelNil=function(e){var t=this.alloc_own();return t.initPooledIntervalTreeNodeBaseSentinelNil(e),t},t.create=function(e,t,n,r){var i=this.alloc();return i.initPooledIntervalTreeNodeBase(e,t,n,r),i},n=i([o.sealed],t)}(s.PooledIntervalTreeNodeBase);t.PooledIntervalTreeNode=l,l.initializePooled();var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onWillInsertKeyValue=function(e,t,n){return l.create(this,e,n.high,t)},t.create=function(e,t){var n=this.alloc_own();return n.initPooledIntervalTreeBase(l.createSentinelNil(t),e,t),n},t.createFromJson=function(e,t,n){var r=this.alloc_own();return r.initPooledIntervalTreeBase(l.createSentinelNil(t),e,t,n),r},i([o.sealed],t)}(s.PooledIntervalTreeBase);t.PooledIntervalTree=u,u.initializePooled()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1543),a=n(1682),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.treeOwner=null,t}return r(t,e),t.createSentinelNil=function(){var e=this.alloc_own();return e.initPooledRedBlackTreeNodeBaseSentinelNil(),e},t.create=function(e,t,n){var r=this.alloc();return r.initPooledRedBlackTreeNodeBase(e,t,n),r},i([o.sealed],t)}(a.PooledRedBlackTreeNodeBase);t.PooledRedBlackTreeNode=s,s.initializePooled();var l=function(e){function t(){var t=e.call(this)||this;return t.delegate=null,t}return r(t,e),t.prototype.onWillInsertKeyValue=function(e,t,n){return this.delegate&&this.delegate.treeWillInsertKeyValue?this.delegate.treeWillInsertKeyValue(this,e,t,n):s.create(this,e,t)},t.prototype.onWillInsertNode=function(t){e.prototype.onWillInsertNode.call(this,t),this.delegate&&this.delegate.treeWillInsertNode&&this.delegate.treeWillInsertNode(this,t)},t.prototype.onDidInsertNode=function(t){e.prototype.onDidInsertNode.call(this,t),this.delegate&&this.delegate.treeDidInsertNode&&this.delegate.treeDidInsertNode(this,t)},t.prototype.onDidDeleteNode=function(t){e.prototype.onDidDeleteNode.call(this,t),this.delegate&&this.delegate.treeDidDeleteNode&&this.delegate.treeDidDeleteNode(this,t)},t.prototype.instanceInit=function(){e.prototype.instanceInit.call(this),this.delegate=null},t.prototype.free=function(){this.delegate=null,e.prototype.free.call(this)},t.create=function(e,t){var n=this.alloc_own();return n.initPooledRedBlackTreeBase(e,t),n},i([o.sealed],t)}(a.PooledRedBlackTreeBase);t.PooledRedBlackTree=l,l.initializePooled()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1543),a=n(1691),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.treeOwner=null,t}return r(t,e),t.createSentinelNil=function(e){var t=this.alloc_own();return t.initPooledRefcountedEndsIntervalTreeNodeBaseSentinelNil(e),t},t.create=function(e,t,n,r){var i=this.alloc();return i.initPooledRefcountedEndsIntervalTreeNodeBase(e,t,n,r),i},i([o.sealed],t)}(a.PooledRefcountedEndsIntervalTreeNodeBase);t.PooledRefcountedEndsIntervalTreeNode=s,s.initializePooled();var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onWillInsertKeyValue=function(e,t,n){return s.create(this,e,n.high,t)},t.create=function(e,t){var n=this.alloc_own();return n.initPooledRefcountedEndsIntervalTreeBase(s.createSentinelNil(t),e,t),n},i([o.sealed],t)}(a.PooledRefcountedEndsIntervalTreeBase);t.PooledRefcountedEndsIntervalTree=l,l.initializePooled()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1681),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.treeOwner=null,t}return r(t,e),t.prototype.setKey=function(e,t){void 0===t&&(t=!0),this.key!==e&&(this.key.release(),this.key=e.retain(),this.isIntervalLengthZero=this.treeOwner.keyComparator.equalTo(e,this._intervalHigh),t&&this.treeOwner.onNodeIntervalLowChanged(this))},t.prototype.setIntervalHigh=function(e,t){void 0===t&&(t=!0),this._intervalHigh!==e&&(this._intervalHigh.release(),this._intervalHigh=e.retain(),this.isIntervalLengthZero=this.treeOwner.keyComparator.equalTo(this.key,e),t&&this.treeOwner.onNodeIntervalHighChanged(this))},t.prototype.setIntervalLowAndHigh=function(e,t,n){void 0===n&&(n=!0),this.key!==e&&this._intervalHigh!==t?(this.key.release(),this.key=e.retain(),this._intervalHigh.release(),this._intervalHigh=t.retain(),this.isIntervalLengthZero=this.treeOwner.keyComparator.equalTo(e,t),n&&this.treeOwner.onNodeIntervalLowAndHighChanged(this)):(this.setIntervalLow(e,n),this.setIntervalHigh(t,n))},t.prototype.setMax=function(e){this.max!==e&&(this.max&&this.max.release(),this.max=e.retain())},t.prototype.free=function(){this.isNil||(this._intervalHigh.release(),this.key.release()),this.max.release(),e.prototype.free.call(this)},t.prototype.initPooledRefcountedEndsIntervalTreeNodeBaseSentinelNil=function(t){e.prototype.initPooledIntervalTreeNodeBaseSentinelNil.call(this,t)},t.prototype.initPooledRefcountedEndsIntervalTreeNodeBase=function(t,n,r,i){e.prototype.initPooledIntervalTreeNodeBase.call(this,t,n.retain(),r.retain(),i)},t}(i.PooledIntervalTreeNodeBase);t.PooledRefcountedEndsIntervalTreeNodeBase=o;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.dbg_isValid=function(){var t=e.prototype.dbg_isValid.call(this),n=this.dbg_areIntervalEndsValid();return t&&n},t.prototype.dbg_areIntervalEndsValid=function(){var e=!0;return this.postorderTreeWalk(this.root,(function(t){var n=t;e=e&&!n.intervalLow.isFreed&&!n.intervalHigh.isFreed&&!n.max.isFreed})),e},t.prototype.free=function(){this._keyMin.release(),e.prototype.free.call(this)},t.prototype.initPooledRefcountedEndsIntervalTreeBase=function(t,n,r){e.prototype.initPooledRedBlackTreeBase.call(this,t,n.endPointComparator),this.intervalComparator=n,this._keyMin=r.retain()},t}(i.PooledIntervalTreeBase);t.PooledRefcountedEndsIntervalTreeBase=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1624),o=n(1693),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.treeOwner=null,t}return r(t,e),t.createSentinelNil=function(){var e=this.alloc_own();return e.initPooledSizeTreeNodeBaseSentinelNil(),e},t.create=function(e,t,n,r){var i=this.alloc_own();return i.initPooledSizeTreeNodeBase(e,t,n,r),i},t}(o.PooledSizeTreeNodeBase);t.PooledSizeTreeNode=a,a.initializePooled();var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onWillInsertKeyValue=function(e,t,n){return a.create(this,e,t,n?n.size:0)},t.create=function(e){var t=a.createSentinelNil(),n=this.alloc_own();return n.initPooledSizeTreeBase(t,e),n},t.createNumberTree=function(){return this.create(i.NumberComparator.instance)},t}(o.PooledSizeTreeBase);t.PooledSizeTree=s,s.initializePooled()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1682),o=function(e){function t(){var t=e.call(this)||this;return t.treeOwner=null,t.subtreeSize=null,t.size=null,t}return r(t,e),t.prototype.setSize=function(e){this.size!==e&&(this.size=e,this.treeOwner.onNodeSizeChanged(this))},Object.defineProperty(t.prototype,"start",{get:function(){var e=0;e+=this.left.subtreeSize;for(var t=this.parent,n=this;!t.isNil;)n===t.right&&(e+=t.left.subtreeSize,e+=t.size),t=(n=t).parent;return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this.start+this.size},enumerable:!0,configurable:!0}),t.prototype.nodeAtPosition=function(e,t){for(var n=this;!n.isNil;){var r=n.left,i=t+r.subtreeSize,o=i+n.size;if(e<i){if(r.isNil)return this.treeOwner.sentinelNil;n=r}else{if(e<o)return n;var a=n.right;if(a.isNil)return this.treeOwner.sentinelNil;n=a,t=o}}return this},t.prototype.instanceInit=function(){e.prototype.instanceInit.call(this),this.subtreeSize=null,this.size=null},t.prototype.initPooledSizeTreeNodeBaseSentinelNil=function(){e.prototype.initPooledRedBlackTreeNodeBaseSentinelNil.call(this),this.size=0,this.subtreeSize=0},t.prototype.initPooledSizeTreeNodeBase=function(t,n,r,i){e.prototype.initPooledRedBlackTreeNodeBase.call(this,t,n,r),this.size=i,this.subtreeSize=i},t}(i.PooledRedBlackTreeNodeBase);t.PooledSizeTreeNodeBase=o;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.root=null,t.sentinelNil=null,t}return r(t,e),Object.defineProperty(t.prototype,"totalSize",{get:function(){return this.root.subtreeSize},enumerable:!0,configurable:!0}),t.prototype.insertKeyValue=function(t,n){return e.prototype.insertKeyValue.call(this,t,n)},t.prototype.onNodeSizeChanged=function(e){this.augmentNodeUpToRoot(e)},t.prototype.searchNodeAtPosition=function(e){return e<0||e>=this.root.subtreeSize?this.sentinelNil:this.root.nodeAtPosition(e,0)},t.prototype.augmentNodeOnInsertionPathForNode=function(e,t){e.subtreeSize=e.subtreeSize+t.size},t.prototype.augmentNodeUpToRoot=function(e){for(;!e.isNil;)e.subtreeSize=e.size+e.left.subtreeSize+e.right.subtreeSize,e=e.parent},t.prototype.augmentNodesAfterRotate=function(e,t){e.subtreeSize=t.subtreeSize,t.subtreeSize=t.size+t.left.subtreeSize+t.right.subtreeSize},t.prototype.dbg_isValid=function(){return e.prototype.dbg_isValid.call(this)&&this.dbg_everyNodePositionIsCorrect},Object.defineProperty(t.prototype,"dbg_everyNodePositionIsCorrect",{get:function(){for(var e=this.minimumNode(this.root),t=0;!e.isNil;){if(e.start!==t)return!1;t+=e.size,e=this.successorNode(e)}return this.root.subtreeSize===t},enumerable:!0,configurable:!0}),t.prototype.initPooledSizeTreeBase=function(t,n){e.prototype.initPooledRedBlackTreeBase.call(this,t,n)},t}(i.PooledRedBlackTreeBase);t.PooledSizeTreeBase=a},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1695),t),i(n(1697),t),i(n(1698),t),i(n(1696),t)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.TTChangeAttributesOperation2=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.emitRedoStringEvent=function(e){this.emitAlterAttributesEvent(e)},t.prototype.emitUndoStringEvent=function(e){this.emitAlterAttributesEvent(e)},t.prototype.emitAlterAttributesEvent=function(e){var t=e.iteratorAt(this.codePointIndex),n=e.iteratorAt(this.codePointIndex+this.codePointCount);e.beginEditing(),e.didAlterAttributes(t,n),e.endEditing()},t.create=function(e,t,n,r){var i=this.alloc();return i.initWithString_undoCommands_codePointIndex_codePointCount(e,t,n,r),i.autorelease()},t}(n(1696).TTStringBase2EditOperation);t.TTChangeAttributesOperation2=i,i.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.TTStringBase2EditOperation=void 0;var i=n(1561),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.codePointIndex=i.ZERO_CODE_POINT_INDEX,t.codePointCount=i.MIN_CODE_POINT_COUNT,t.undoCommands=[],t._redoCommands=[],t}return r(t,e),t.prototype.redo=function(){this.string.beginEditing();for(var e=0,t=this._redoCommands;e<t.length;e++)for(var n=0,r=t[e];n<r.length;n++){var i=r[n];this.string.applyRedoCommand(i)}this.emitRedoStringEvent(this.string),this.string.endEditing()},t.prototype.undo=function(){for(var e=0,t=this._redoCommands;e<t.length;e++)for(var n=0,r=t[e];n<r.length;n++)r[n].release();this._redoCommands.length=0,this.string.beginEditing();for(var i=0,o=this.undoCommands;i<o.length;i++){var a=o[i],s=[];this.string.applyUndoCommand(a,s);for(var l=0,u=s;l<u.length;l++)u[l].retain();s.reverse(),this._redoCommands.push(s)}this._redoCommands.reverse(),this.emitUndoStringEvent(this.string),this.string.endEditing()},t.prototype.emitDeleteEvent=function(e){var t=e.iteratorAt(this.codePointIndex);e.beginEditing(),e.didDelete(t,this.codePointCount),e.endEditing()},t.prototype.emitInsertEvent=function(e){var t=e.iteratorAt(this.codePointIndex),n=e.iteratorAt(this.codePointIndex+this.codePointCount);e.beginEditing(),e.didInsert(t,n),e.endEditing()},t.prototype.free=function(){for(var t=0,n=this._redoCommands;t<n.length;t++)for(var r=0,i=n[t];r<i.length;r++)i[r].release();this._redoCommands.length=0;for(var o=0,a=this.undoCommands;o<a.length;o++)a[o].release();this.undoCommands.length=0,e.prototype.free.call(this)},t.prototype.initWithString_undoCommands_codePointIndex_codePointCount=function(t,n,r,i){e.prototype.initStringOperationBase.call(this,t);for(var o=0,a=n;o<a.length;o++){var s=a[o];this.undoCommands.push(s.retain())}this.codePointIndex=r,this.codePointCount=i},t}(i.StringOperationBase);t.TTStringBase2EditOperation=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.TTDeleteOperation2=void 0;var o=n(1543),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.emitRedoStringEvent=function(e){this.emitDeleteEvent(e)},t.prototype.emitUndoStringEvent=function(e){this.emitInsertEvent(e)},t.create=function(e,t,n,r){var i=this.alloc();return i.initWithString_undoCommands_codePointIndex_codePointCount(e,t,n,r),i.autorelease()},i([o.sealed],t)}(n(1696).TTStringBase2EditOperation);t.TTDeleteOperation2=a,a.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.TTInsertOperation2=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.emitRedoStringEvent=function(e){this.emitInsertEvent(e)},t.prototype.emitUndoStringEvent=function(e){this.emitDeleteEvent(e)},t.create=function(e,t,n,r){var i=this.alloc();return i.initWithString_undoCommands_codePointIndex_codePointCount(e,t,n,r),i.autorelease()},t}(n(1696).TTStringBase2EditOperation);t.TTInsertOperation2=i,i.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1700),t),i(n(1701),t),i(n(1707),t),i(n(1727),t),i(n(1728),t),i(n(1742),t),i(n(1745),t),i(n(1744),t),i(n(1746),t),i(n(1743),t),i(n(1732),t),i(n(1737),t),i(n(1738),t),i(n(1739),t),i(n(1740),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MIN=t.rand=t.RAND_MAX=void 0,t.RAND_MAX=32768,t.rand=function(){return Math.floor(Math.random()*t.RAND_MAX)},t.MIN=Math.min},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1702),t),i(n(1721),t),i(n(1722),t),i(n(1720),t),i(n(1723),t),i(n(1719),t),i(n(1724),t),i(n(1712),t),i(n(1725),t),i(n(1713),t),i(n(1726),t)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.NSAttributedString=t.createAttrDict=t.NSAttributedStringEnumerationLongestEffectiveRangeNotRequired=t.NSAttributedStringEnumerationReverse=t.NSAttributedStringEnumerationOptions=void 0;var s,l=n(1561),u=n(1703),c=a(n(1706)),d=n(1707),h=n(1710),f=n(1711),p=n(1712),g=n(1713);!function(e){e[e.Reverse=2]="Reverse",e[e.LongestEffectiveRangeNotRequired=1048576]="LongestEffectiveRangeNotRequired"}(s=t.NSAttributedStringEnumerationOptions||(t.NSAttributedStringEnumerationOptions={})),t.NSAttributedStringEnumerationReverse=s.Reverse,t.NSAttributedStringEnumerationLongestEffectiveRangeNotRequired=s.LongestEffectiveRangeNotRequired;var y=[];t.createAttrDict=function(){return u.TTAttrDict.create()};var v=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t._string=null,t._attributes=null,t}return r(i,e),i.prototype.dealloc=function(){this._attributes&&(this._attributes.free(),this._attributes=null),this._string&&(this._string.release(),this._string=null),e.prototype.dealloc.call(this)},i.prototype.isEqual=function(e){if(!(e instanceof i))return!1;if(null!==e._string&&null!==this._string){if(!e._string.isEqual(this._string))return!1}else if(0!==e.length||0!==this.length)return!1;return!0},i.prototype.copy=function(){return i.alloc().initWithAttributedString(this)},i.prototype.mutableCopy=function(){return n(1720).NSMutableAttributedString.alloc().initWithAttributedString(this)},Object.defineProperty(i.prototype,"length",{get:function(){return this._string?this._string.length:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"string",{get:function(){return g.NSString.stringWithString(this._string)},enumerable:!1,configurable:!0}),i.prototype.attributedSubstringFromRange=function(e){return this.substringWithRange(e)},i.prototype.substringWithRange=function(e){var t=p.NSMaxRange(e);if((e.location<0||t>this.length)&&h.throwNSRangeException({allowedRange:{start:0,end:this.length},invalidValue:e}),!this._string)return d.autorelease(i.alloc().init());var r=this._string.UTF16String.substring(e.location,t),o=n(1720),a=d.autorelease(o.NSMutableAttributedString.alloc().initWithString(r));if(!a)return a;for(var s={out:p.NSMakeRange(0,1)},l=e.location;l<t;){var u=this.attributesAtIndex_effectiveRange(l,s),c=s.out.length;s.out.location<l&&(c-=l-s.out.location);var f=Math.min(a.length,c,t-l);a.setAttributes_range(u,p.NSMakeRange(l-e.location,f)),l+=f}return a},i.prototype.attributesAtIndex_effectiveRange=function(e,t){(e<0||e>this.length)&&h.throwNSRangeException({allowedRange:{start:0,end:this.length},invalidValue:e}),y.length=0,this._attributes.leftClosedRightOpenIntervalSearchForAll(this._attributes.root,e,e+1,y);var n=y[0];return t&&(t.out=p.NSMakeRange(n.intervalLow,n.intervalHigh-n.intervalLow)),n.value},i.prototype.attributesAtIndex_longestEffectiveRange_inRange=function(e,t,n){(e<0||e>this.length)&&h.throwNSRangeException({allowedRange:{start:0,end:this.length},invalidValue:e}),(n.location<0||n.location+n.length>this.length)&&h.throwNSRangeException({allowedRange:{start:0,end:this.length-1},invalidValue:n});var r=i._reusableAttributeNodeArray;return this.getAttributeNodesInRange(e,e+1,r),t&&(t.out=p.NSMakeRange(Math.max(n.location,e),Math.min(p.NSMaxRange(n),r[0].intervalHigh-r[0].intervalLow))),r[0].value},i.prototype.getAttributeNodesInRange=function(e,t,n){n.length=0,this._attributes.leftClosedRightOpenIntervalSearchForAll(this._attributes.root,e,t,n)},i.prototype.getAttributeNodesInRangeSorted=function(e,t,n){this.getAttributeNodesInRange(e,t,n),n.sort((function(e,t){return e.intervalLow-t.intervalLow}))},i.prototype.enumerateAttributesInRange_options_usingBlock=function(e,n,r){var o=i._reusableAttributeNodeArray;this.getAttributeNodesInRange(e.location,p.NSMaxRange(e),o);var a={out:!1};function s(t){var n=Math.max(t.intervalLow,e.location),i=Math.min(t.intervalHigh,p.NSMaxRange(e));r(t.value,p.NSMakeRange(n,i-n),a)}if((n&t.NSAttributedStringEnumerationReverse)===t.NSAttributedStringEnumerationReverse)for(var l=o.length-1;l>=0&&!a.out;--l)s(o[l]);else{l=0;for(var u=o.length;l<u&&!a.out;++l)s(o[l])}},i.prototype.init=function(){var t=e.prototype.init.call(this);return t&&(t._attributes=f._PooledAttributeIntervalTree.create()),t},i.prototype.initWithString=function(e){var n=this.init();return n&&(e&&(n._string=n.createUnderlyingString(e).retain()),n._attributes.insertInterval(l.ZERO_CODE_UNIT_INDEX,n.length,t.createAttrDict())),n},i.prototype.initWithString_attributes=function(e,n){var r=this.init();return r&&(e&&(r._string=r.createUnderlyingString(e).retain()),r._attributes.insertInterval(l.ZERO_CODE_UNIT_INDEX,r.length,n||t.createAttrDict())),r},i.prototype.initWithAttributedString=function(t){var n=e.prototype.init.call(this);return n&&(t?(n._attributes=t._attributes.clone(),t._string&&(n.isMutable()?n._string=t._string.mutableCopy():n._string=t._string.copy())):n._attributes=f._PooledAttributeIntervalTree.create()),n},i.string=function(){return d.autorelease(this.alloc().init())},i.stringWithString=function(e){return d.autorelease(this.alloc().initWithString(e))},Object.defineProperty(i.prototype,"UTF16String",{get:function(){return this._string?this._string.UTF16String:""},enumerable:!1,configurable:!0}),i.prototype.codeUnitCount=function(){return this._string?this._string.codeUnitCount():l.MIN_CODE_UNIT_COUNT},i.prototype.codePointCount=function(){return this._string?this._string.codePointCount():l.MIN_CODE_POINT_COUNT},i.prototype.codeUnitIndexToCodePointIndex=function(e){return this._string?this._string.codeUnitIndexToCodePointIndex(e):l.ZERO_CODE_POINT_INDEX},i.prototype.codePointIndexToCodeUnitIndex=function(e){return this._string?this._string.codePointIndexToCodeUnitIndex(e):l.ZERO_CODE_UNIT_INDEX},i.prototype.isMutable=function(){return!1},i.prototype.createUnderlyingString=function(e){return e?g.NSString.alloc().initWithString(e).autorelease():g.NSString.alloc().init().autorelease()},i.extractUTF16String=function(e){return null===e?"":e instanceof g.NSString||e instanceof i?e.UTF16String:e},i.prototype.dbg_toJSON=function(){return{string:this.UTF16String,attributes:{nodes:this._attributes.dbg_nodes.map((function(e){return{interval:{low:e.intervalLow,high:e.intervalHigh},value:e.value.toProtobuf()}}))}}},Object.defineProperty(i.prototype,"dbg_attributes",{get:function(){for(var e=[],t=0,n=this._attributes.dbg_nodes;t<n.length;t++)for(var r=n[t],i=r.intervalHigh-r.intervalLow,o=0;o<i;++o)e.push(r.value);return e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dbg_superscriptAttributes",{get:function(){return"superscripts: "+this.dbg_attributes.map((function(e){return e.superscript})).join(", ")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dbg_linearAttributes",{get:function(){return this._attributes.dbg_nodes.map((function(e){return e.value}))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dbg_linearAttributesKern",{get:function(){return this.dbg_linearAttributes.map((function(e){return e.kern}))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dbg_linearAttributesSuperscript",{get:function(){return this.dbg_linearAttributes.map((function(e){return e.superscript}))},enumerable:!1,configurable:!0}),i.prototype.dbg_assertAttributesValid=function(){},Object.defineProperty(i.prototype,"dbg_areAttributesValid",{get:function(){var e=this._attributes,t=!0;return 0===this.length?t=t&&0===e.nodeCount:this.length>0&&(t=(t=(t=t&&e.nodeCount>0)&&0===e.minimumNode(e.root).intervalLow)&&e.maximumNode(e.root).intervalHigh===this.length)&&e.inorderTreeWalkWithPredecessor(e.root,(function(e,n){t=t&&e.intervalLow===n.intervalHigh})),t},enumerable:!1,configurable:!0}),i.prototype.dbg_codeUnits=function(){return c.utf16StringToCodeUnits(this.UTF16String)},i.prototype.dbg_codePoints=function(){return c.utf16StringToCodePoints(this.UTF16String)},Object.defineProperty(i.prototype,"dbg_displayString",{get:function(){return this.UTF16String.replace(/\n/g,"\\n").replace(/\uFFFC/g,"\\uFFFC")},enumerable:!1,configurable:!0}),i.dbg_stringWithJSON=function(e){var t=this.alloc().init();if(t){t._string=t.createUnderlyingString(e.string);for(var n=0,r=e.attributes.nodes;n<r.length;n++){var i=r[n];t._attributes.insertInterval(i.interval.low,i.interval.high,u.TTAttrDict.createFromProtobuf(i.value))}}return d.autorelease(t)},i._reusableAttributeNodeArray=[],i}(d.NSObject);t.NSAttributedString=v,v.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},l=this&&this.__metadata||function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TopoTextAttributeDictionary=t.TTAttrDict=t.TTAttrDictKeys=t.TTParagraphStyleAttribute=t.ctWritingDirectionToProtobufWritingDirection=t.protobufWritingDirectionToCTWritingDirection=t.ctParagraphAlignmentToProtobufAlignment=t.protobufParagraphAlignmentToCTAlignment=t.TTFontAttribute=t.TTColorAttribute=t.TTToDoAttribute=t.TTAttachmentInfoAttribute=t.TTHashtagInfoAttribute=t.isNullOrUndefined=void 0;var u=n(1561),c=s(n(1855)),d=n(1563),h=s(n(1704)),f=s(n(1705));function p(e){return null===e||void 0===e}t.isNullOrUndefined=p;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.toProtobuf=function(){var e={};return p(this.objectIdentifier)||(e.objectIdentifier=this.objectIdentifier),e},t.createFromProtobuf=function(e){var t=this.create();return p(e.objectIdentifier)||(t=t.setObjectIdentifier(e.objectIdentifier)),t},a([d.uniqueProperty(null,d.UniqueKind.String),l("design:type",Object)],t.prototype,"objectIdentifier",void 0),t}(d.Unique);t.TTHashtagInfoAttribute=g,g.initializeUnique();var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.toProtobuf=function(){var e={};return p(this.attachmentIdentifier)||(e.attachmentIdentifier=this.attachmentIdentifier),p(this.typeUTI)||(e.typeUTI=this.typeUTI),e},t.createFromProtobuf=function(e){var t=this.create();return p(e.attachmentIdentifier)||(t=t.setAttachmentIdentifier(e.attachmentIdentifier)),p(e.typeUTI)||(t=t.setTypeUTI(e.typeUTI)),t},a([d.uniqueProperty(null,d.UniqueKind.String),l("design:type",Object)],t.prototype,"attachmentIdentifier",void 0),a([d.uniqueProperty(null,d.UniqueKind.String),l("design:type",Object)],t.prototype,"typeUTI",void 0),t}(d.Unique);t.TTAttachmentInfoAttribute=y,y.initializeUnique();var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.toProtobuf=function(){var e={};return p(this.toDoUUID)||(e.todoUUID=f.toBytes(this.toDoUUID)),p(this.done)||(e.done=this.done),e},t.createFromProtobuf=function(e){var t=this.create();if(!p(e.todoUUID)){var n=f.fromProtobufBuffer(e.todoUUID);t=t.setToDoUUID(n)}return p(e.done)||(t=t.setDone(Boolean(e.done))),t},a([d.uniqueProperty(null,d.UniqueKind.String),l("design:type",Object)],t.prototype,"toDoUUID",void 0),a([d.uniqueProperty(null,d.UniqueKind.Boolean),l("design:type",Object)],t.prototype,"done",void 0),t}(d.Unique);t.TTToDoAttribute=v,v.initializeUnique();var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.toProtobuf=function(){var e={};return p(this.red)||(e.red=this.red),p(this.green)||(e.green=this.green),p(this.blue)||(e.blue=this.blue),p(this.alpha)||(e.alpha=this.alpha),e},t.createFromProtobuf=function(e){var t=this.create();return p(e.red)||(t=t.setRed(e.red)),p(e.green)||(t=t.setGreen(e.green)),p(e.blue)||(t=t.setBlue(e.blue)),p(e.alpha)||(t=t.setAlpha(e.alpha)),t},a([d.uniqueProperty(null,d.UniqueKind.Number),l("design:type",Object)],t.prototype,"red",void 0),a([d.uniqueProperty(null,d.UniqueKind.Number),l("design:type",Object)],t.prototype,"green",void 0),a([d.uniqueProperty(null,d.UniqueKind.Number),l("design:type",Object)],t.prototype,"blue",void 0),a([d.uniqueProperty(null,d.UniqueKind.Number),l("design:type",Object)],t.prototype,"alpha",void 0),t}(d.Unique);t.TTColorAttribute=m,m.initializeUnique();var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.createFromFontAttributeBase=function(e){if(e instanceof t)return e;var n=t.create();return p(e.name)||(n=n.setName(e.name)),p(e.size)||(n=n.setSize(e.size)),n},t.createFromProtobuf=function(e){var t=this.create();return p(e.name)||(t=t.setName(e.name)),p(e.pointSize)||(t=t.setSize(e.pointSize)),p(e.fontHints)||(t=t.setFontHints(e.fontHints)),t},t.toProtobuf=function(e){var n={};return p(e.name)||(n.name=e.name),p(e.size)||(n.pointSize=e.size),e instanceof t&&(p(e.fontHints)||(n.fontHints=e.fontHints)),n},a([d.uniqueProperty(null,d.UniqueKind.Number),l("design:type",Object)],t.prototype,"fontHints",void 0),t}(u.FontAttributeBase);function _(e){switch(e){case h.ParagraphStyle.Alignment.Left:return"left";case h.ParagraphStyle.Alignment.Center:return"center";case h.ParagraphStyle.Alignment.Right:return"right";case h.ParagraphStyle.Alignment.Justified:return"justified";default:return"natural"}}function C(e){switch(e){case"left":return h.ParagraphStyle.Alignment.Left;case"center":return h.ParagraphStyle.Alignment.Center;case"right":return h.ParagraphStyle.Alignment.Right;case"justified":return h.ParagraphStyle.Alignment.Justified;default:return h.ParagraphStyle.Alignment.Natural}}function I(e){switch(e){case h.AttributeRun.WritingDirection.LeftToRight:case h.AttributeRun.WritingDirection.LeftToRightOverride:return u.WritingDirectionAttribute.leftToRight;case h.AttributeRun.WritingDirection.RightToLeft:case h.AttributeRun.WritingDirection.RightToLeftOverride:return u.WritingDirectionAttribute.rightToLeft;default:return u.WritingDirectionAttribute.Natural}}function T(e){switch(e){case u.WritingDirectionAttribute.leftToRight:return h.AttributeRun.WritingDirection.LeftToRight;case u.WritingDirectionAttribute.rightToLeft:return h.AttributeRun.WritingDirection.RightToLeft;default:return h.AttributeRun.WritingDirection.NaturalDirection}}t.TTFontAttribute=b,b.initializeUnique(),t.protobufParagraphAlignmentToCTAlignment=_,t.ctParagraphAlignmentToProtobufAlignment=C,t.protobufWritingDirectionToCTWritingDirection=I,t.ctWritingDirectionToProtobufWritingDirection=T;var P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.createFromParagraphStyleAttributeBase=function(e){if(e instanceof t)return e;var n=t.create();return p(e.alignment)||(n=n.setAlignment(e.alignment)),p(e.firstLineHeadIndent)||(n=n.setFirstLineHeadIndent(e.firstLineHeadIndent)),p(e.headIndent)||(n=n.setHeadIndent(e.headIndent)),p(e.tailIndent)||(n=n.setTailIndent(e.tailIndent)),p(e.lineHeightMultiple)||(n=n.setLineHeightMultiple(e.lineHeightMultiple)),p(e.maximumLineHeight)||(n=n.setMaximumLineHeight(e.maximumLineHeight)),p(e.lineSpacing)||(n=n.setLineSpacing(e.lineSpacing)),p(e.paragraphSpacing)||(n=n.setParagraphSpacing(e.paragraphSpacing)),p(e.paragraphSpacingBefore)||(n=n.setParagraphSpacingBefore(e.paragraphSpacingBefore)),n},t.createFromProtobuf=function(e){var t=this.create();return p(e.alignment)||(t=t.setAlignment(_(e.alignment))),p(e.style)||(t=t.setStyle(e.style)),p(e.writingDirection)||(t=t.setWritingDirection(I(e.writingDirection))),p(e.indent)||(t=t.setIndent(e.indent)),p(e.todo)||(t=t.setToDo(v.createFromProtobuf(e.todo))),p(e.paragraphHints)||(t=t.setParagraphHints(e.paragraphHints)),p(e.startingListItemNumber)||(t=t.setStartingListItemNumber(e.startingListItemNumber)),p(e.blockQuoteLevel)||(t=t.setBlockQuoteLevel(e.blockQuoteLevel)),t},t.toProtobuf=function(e){var n={};return p(e.alignment)||(n.alignment=C(e.alignment)),e instanceof t&&(p(e.style)||(n.style=e.style),p(e.writingDirection)||(n.writingDirection=T(e.writingDirection)),p(e.indent)||(n.indent=e.indent),p(e.toDo)||(n.todo=e.toDo.toProtobuf()),p(e.paragraphHints)||(n.paragraphHints=e.paragraphHints),p(e.startingListItemNumber)||(n.startingListItemNumber=e.startingListItemNumber),p(e.blockQuoteLevel)||(n.blockQuoteLevel=e.blockQuoteLevel)),n},a([d.uniqueProperty(null,d.UniqueKind.Number),l("design:type",Object)],t.prototype,"style",void 0),a([d.uniqueProperty(null,d.UniqueKind.Number),l("design:type",Object)],t.prototype,"writingDirection",void 0),a([d.uniqueProperty(null,d.UniqueKind.Number),l("design:type",Object)],t.prototype,"indent",void 0),a([d.uniqueProperty(null,d.UniqueKind.Unique),l("design:type",Object)],t.prototype,"toDo",void 0),a([d.uniqueProperty(null,d.UniqueKind.Number),l("design:type",Object)],t.prototype,"paragraphHints",void 0),a([d.uniqueProperty(null,d.UniqueKind.Number),l("design:type",Object)],t.prototype,"startingListItemNumber",void 0),a([d.uniqueProperty(null,d.UniqueKind.Number),l("design:type",Object)],t.prototype,"blockQuoteLevel",void 0),t}(u.ParagraphStyleAttributeBase);t.TTParagraphStyleAttribute=P,P.initializeUnique(),t.TTAttrDictKeys=u.AttrDictKeys.concat(["fontHints","color","attachmentInfo","style","TTArrayAttachment","hashtagInfo"]);var O=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.dictionaryKeys=function(){return t.TTAttrDictKeys},n.prototype.toProtobuf=function(){var e={length:0};return p(this.underlineStyle)||(e.underline=this.underlineStyle),p(this.strikethroughStyle)||(e.strikethrough=this.strikethroughStyle),p(this.superscript)||(e.superscript=this.superscript),p(this.link)||(e.link=this.link),p(this.writingDirection)||(e.writingDirection=T(this.writingDirection)),p(this.paragraphStyle)||(e.paragraphStyle=P.toProtobuf(this.paragraphStyle)),p(this.font)||(e.font=b.toProtobuf(this.font)),p(this.fontHints)||(e.fontHints=this.fontHints),p(this.style)||(e.style=this.style),p(this.color)||(e.color=this.color.toProtobuf()),p(this.attachmentInfo)||(e.attachmentInfo=this.attachmentInfo.toProtobuf()),p(this.hashtagInfo)||(e.hashtagInfo=this.hashtagInfo.toProtobuf()),e},n.createFromProtobuf=function(e){var t=this.create();t=p(e.underline)?t.setUnderlineStyle(null):t.setUnderlineStyle(e.underline),t=p(e.strikethrough)?t.setStrikethroughStyle(null):t.setStrikethroughStyle(e.strikethrough),t=p(e.superscript)?t.setSuperscript(null):t.setSuperscript(e.superscript);var n=e.link&&c.safeURL(e.link);return t=n?t.setLink(n):t.setLink(null),t=p(e.writingDirection)?t.setWritingDirection(null):t.setWritingDirection(I(e.writingDirection)),t=p(e.paragraphStyle)?t.setParagraphStyle(null):t.setParagraphStyle(P.createFromProtobuf(e.paragraphStyle)),t=p(e.font)?t.setFont(null):t.setFont(b.createFromProtobuf(e.font)),t=p(e.fontHints)?t.setFontHints(null):t.setFontHints(e.fontHints),t=p(e.style)?t.setStyle(null):t.setStyle(e.style),t=p(e.color)?t.setColor(null):t.setColor(m.createFromProtobuf(e.color)),t=p(e.attachmentInfo)?t.setAttachmentInfo(null):t.setAttachmentInfo(y.createFromProtobuf(e.attachmentInfo)),p(e.hashtagInfo)?t.setHashtagInfo(null):t.setHashtagInfo(g.createFromProtobuf(e.hashtagInfo))},n.createFromIAttrDict=function(e){if(e instanceof n)return e;var t=n.create();if(!e)return t;p(e.attachment)||(t=t.setAttachment(e.attachment)),p(e.backgroundColor)||(t=t.setBackgroundColor(e.backgroundColor)),p(e.baselineOffset)||(t=t.setBaselineOffset(e.baselineOffset)),p(e.cursor)||(t=t.setCursor(e.cursor)),p(e.expansion)||(t=t.setExpansion(e.expansion)),p(e.font)||(t=t.setFont(b.createFromFontAttributeBase(e.font))),p(e.foregroundColor)||(t=t.setForegroundColor(e.foregroundColor)),p(e.kern)||(t=t.setKern(e.kern)),p(e.ligature)||(t=t.setLigature(e.ligature));var r=e.link&&c.safeURL(e.link);return r&&(t=t.setLink(r)),p(e.markedClauseSegment)||(t=t.setMarkedClauseSegment(e.markedClauseSegment)),p(e.obliqueness)||(t=t.setObliqueness(e.obliqueness)),p(e.paragraphStyle)||(t=t.setParagraphStyle(P.createFromParagraphStyleAttributeBase(e.paragraphStyle))),p(e.shadow)||(t=t.setShadow(e.shadow)),p(e.spellingState)||(t=t.setSpellingState(e.spellingState)),p(e.strikethroughColor)||(t=t.setStrikethroughColor(e.strikethroughColor)),p(e.strikethroughStyle)||(t=t.setStrikethroughStyle(e.strikethroughStyle)),p(e.strokeColor)||(t=t.setStrokeColor(e.strokeColor)),p(e.strokeWidth)||(t=t.setStrokeWidth(e.strokeWidth)),p(e.superscript)||(t=t.setSuperscript(e.superscript)),p(e.textEffect)||(t=t.setTextEffect(e.textEffect)),p(e.toolTip)||(t=t.setToolTip(e.toolTip)),p(e.underlineColor)||(t=t.setUnderlineColor(e.underlineColor)),p(e.underlineStyle)||(t=t.setUnderlineStyle(e.underlineStyle)),p(e.verticalGlyphForm)||(t=t.setVerticalGlyphForm(e.verticalGlyphForm)),p(e.writingDirection)||(t=t.setWritingDirection(e.writingDirection)),t},a([d.uniqueProperty(null,d.UniqueKind.Number),l("design:type",Object)],n.prototype,"fontHints",void 0),a([d.uniqueProperty(null,d.UniqueKind.Unique),l("design:type",Object)],n.prototype,"color",void 0),a([d.uniqueProperty(null,d.UniqueKind.Number),l("design:type",Object)],n.prototype,"style",void 0),a([d.uniqueProperty(null,d.UniqueKind.Unique),l("design:type",Object)],n.prototype,"attachmentInfo",void 0),a([d.uniqueProperty(null,d.UniqueKind.String),l("design:type",Object)],n.prototype,"TTArrayAttachment",void 0),a([d.uniqueProperty(null,d.UniqueKind.Unique),l("design:type",Object)],n.prototype,"hashtagInfo",void 0),n}(u.AttrDictBase);t.TTAttrDict=O,O.initializeUnique(),t.TopoTextAttributeDictionary=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParagraphStyle=t.AttributeRun=t.Selection=void 0,function(e){var t;(t=e.Affinity||(e.Affinity={}))[t.Backward=0]="Backward",t[t.Forward=1]="Forward"}(t.Selection||(t.Selection={})),function(e){var t;(t=e.WritingDirection||(e.WritingDirection={}))[t.NaturalDirection=0]="NaturalDirection",t[t.LeftToRight=1]="LeftToRight",t[t.RightToLeft=2]="RightToLeft",t[t.LeftToRightOverride=3]="LeftToRightOverride",t[t.RightToLeftOverride=4]="RightToLeftOverride"}(t.AttributeRun||(t.AttributeRun={})),function(e){var t;(t=e.Alignment||(e.Alignment={}))[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right",t[t.Justified=3]="Justified",t[t.Natural=4]="Natural"}(t.ParagraphStyle||(t.ParagraphStyle={}))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.UUIDComparator=t.compare=t.fromProtobufBuffer=t.toBytes=t.fromBytes=t.fromString=t.random=t.UUID_BYTE_COUNT=void 0;var i=n(1624),o=n(1543);t.UUID_BYTE_COUNT=16,t.random=function(){for(var e="",t=0;t<32;++t)e+="0123456789abcdef"[Math.floor(16*Math.random())];return e};var a=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=(t<16?"0":"")+t.toString(16);return e}(),s=function(){for(var e={},t=0;t<16;t++){var n=t.toString(16);e[n.toUpperCase()]=t,e[n.toLowerCase()]=t}return e}();function l(e){e.length!==t.UUID_BYTE_COUNT&&o.fatalError("UUIDModule.fromBytes invalid byte array",{});for(var n="",r=0;r<t.UUID_BYTE_COUNT;++r){var i=e[r];n+=a[i]}return n}function u(e){for(var n=new Uint8Array(t.UUID_BYTE_COUNT),r=0;r<t.UUID_BYTE_COUNT;++r)n[r]=(s[e[2*r]]<<4)+s[e[2*r+1]];return n}t.fromString=function(e){return l(u(e))},t.fromBytes=l,t.toBytes=u;var c=[];function d(e,t){return e<t?-1:e>t?1:0}t.fromProtobufBuffer=function(e){var n=null;if(e){var r=e;if(r.view){var i=r.view;n=l(new Uint8Array(i.buffer,i.byteOffset+r.offset,r.limit-r.offset))}else if(e.buffer)n=l(e);else{var o=function(e){if(c.length=0,e instanceof Object){var n=Object.keys(e);if(n.length!==t.UUID_BYTE_COUNT)return null;for(var r=0;r<t.UUID_BYTE_COUNT;++r){if(n[r]!==r.toString())return null;c.push(e[r])}}return new Uint8Array(c)}(e);o&&(n=l(o))}}return n},t.compare=d;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.compare=function(e,t){return d(e,t)},t.instance=new t,t}(i.ComparatorBase);t.UUIDComparator=h},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.castToSigned32bit=t.uniqueID=t.utf16StringCodePointIndexForCodeUnitIndex=t.utf16StringCodeUnitIndexForCodePointIndex=t.codePointCodeUnitCount=t.codePointsToCodeUnits=t.surrogatePairToCodePoint=t.isTrailingSurrogate=t.isLeadingSurrogate=t.isASingleCodeUnit=t.utf16StringToPooledUint16ArrayOfCodeUnits=t.utf16StringToCodeUnits=t.codeUnitsToUTF16String=t.codePointsToUTF16String=t.codePointCountInUtf16String=t.codePointCountInUtf16StringCodeUnitIndexRange=t.utf16StringToCodePoints=t.utf8ArrayBufferToCodePoints=t.stableMergeSort=t.binarySearchWithComparator=t.binarySearch=void 0;var a=o(n(1594)),s=n(1561),l=n(1543);function u(e,t,n){for(var r=0,i=t,o=0;i<e.length&&r<n;){var a=e.charCodeAt(i);if(++i,++r,c(a))++o;else if(d(a)){var s=e.charCodeAt(i);++i,++r,h(s)&&++o}}return o}function c(e){return e<55296||e>57343}function d(e){return 55296<=e&&e<=56319}function h(e){return 56320<=e&&e<=57343}function f(e,t){return((1023&e)<<10)+(1023&t)+65536}t.binarySearch=function(e,t){var n,r,i=0,o=e.length-1;if(o<0)return-1;do{if((r=e[n=Math.floor(i/2+o/2)])>t)o=n-1;else{if(!(r<t))return n;i=n+1}}while(i<=o);return-(n+(r<t?2:1))},t.binarySearchWithComparator=function(e,t){var n,r,i=0,o=e.length-1;if(o<0)return-1;do{if((r=t(e[n=Math.floor(i/2+o/2)]))>0)o=n-1;else{if(!(r<0))return n;i=n+1}}while(i<=o);return-(n+(r<0?2:1))},t.stableMergeSort=function e(t,n){if(t.length<=1)return[].concat(t);for(var r=Math.floor(t.length/2),i=e(t.slice(0,r),n),o=e(t.slice(r,t.length),n),a=[];i.length>0&&o.length>0;)n(i[0],o[0])<=0?a.push(i.shift()):a.push(o.shift());for(;i.length>0;)a.push(i.shift());for(;o.length>0;)a.push(o.shift());return a},t.utf8ArrayBufferToCodePoints=function(e){var t=new Uint8Array(e);return a.utf8ByteArrayToCodePoints(t)},t.utf16StringToCodePoints=function(e){for(var t=[],n=0;n<e.length;){var r=e.charCodeAt(n++);if(r<55296||r>57343)t.push(r);else{if(!(55296<=r&&r<=56319))continue;var i=e.charCodeAt(n++);if(!(56320<=i&&i<=57343))continue;t.push(((1023&r)<<10)+(1023&i)+65536)}}return t},t.codePointCountInUtf16StringCodeUnitIndexRange=u,t.codePointCountInUtf16String=function(e){return u(e,0,e.length)},t.codePointsToUTF16String=a.codePointsToUTF16String,t.codeUnitsToUTF16String=function(e,t){var n="";if(e)for(var r=0,i=t||e.length;r<i;++r){var o=e[r];if(d(o)){var a=e[r+1];n+=String.fromCodePoint(f(o,a)),++r}else n+=String.fromCodePoint(o)}return n},t.utf16StringToCodeUnits=function(e){for(var t=new Array(e.length),n=0,r=e.length;n<r;++n)t[n]=e.charCodeAt(n);return t},t.utf16StringToPooledUint16ArrayOfCodeUnits=function(e){var t=l.TypedArrayByLengthPool.uint16Arrays.borrow(e.length);t.fill(-1,e.length);for(var n=0,r=e.length;n<r;++n)t[n]=e.charCodeAt(n);return t},t.isASingleCodeUnit=c,t.isLeadingSurrogate=d,t.isTrailingSurrogate=h,t.surrogatePairToCodePoint=f,t.codePointsToCodeUnits=function(e){for(var t=[],n=0,r=e.length;n<r;++n)for(var i=String.fromCodePoint(e[n]),o=0,a=i.length;o<a;++o)t.push(i.charCodeAt(o));return t},t.codePointCodeUnitCount=function(e){return String.fromCodePoint(e).length},t.utf16StringCodeUnitIndexForCodePointIndex=function(e,t){if(t<0)return-1;if(0===e.length)return s.ZERO_CODE_UNIT_INDEX;for(var n=s.ZERO_CODE_UNIT_INDEX,r=s.ZERO_CODE_POINT_INDEX;n<e.length&&r<t;)d(e.charCodeAt(n))&&++n,++n,++r;return n},t.utf16StringCodePointIndexForCodeUnitIndex=function(e,t){if(t<0)return-1;for(var n=s.ZERO_CODE_UNIT_INDEX,r=s.ZERO_CODE_POINT_INDEX;n<e.length&&s.CodeUnitIndexOps.is.lessThan(n,t);)d(e.charCodeAt(n))&&++n,++n,++r;return r},t.uniqueID=function(){var e=0,t=new WeakMap;return function(n){return t.has(n)||t.set(n,++e),t.get(n)}}(),t.castToSigned32bit=function(e){return e<<0}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1708),t),i(n(1709),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YES=t.NO=void 0,t.NO=!1,t.YES=!0},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.retain=t.autorelease=t.NSObject=void 0;var i=n(1543),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.copy=function(){i.fatalError("Not implemented",{})},t.prototype.mutableCopy=function(){i.fatalError("Not implemented",{})},t.prototype.isEqual=function(e){i.fatalError("Not implemented",{})},t.prototype.init=function(){return this},t.prototype.dealloc=function(){},t.new=function(){return this.alloc().init()},t.prototype.free=function(){this.dealloc(),e.prototype.free.call(this)},t}(i.Refcounted);t.NSObject=o,t.autorelease=function(e){return e?e.autorelease():null},t.retain=function(e){return e?e.retain():null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throwNSRangeException=void 0;var r=n(1543);t.throwNSRangeException=function(e){r.fatalError("NSRangeException",e||{})}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t._PooledAttributeIntervalTree=t._PooledAttributeIntervalTreeNode=t.CodeUnitIndexIntervalComparator=t.CodeUnitIndexComparator=void 0;var a=n(1624),s=n(1543),l=n(1676),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.compare=function(e,t){return e-t},i([s.sealed],t)}(a.ComparatorBase);t.CodeUnitIndexComparator=u;var c=function(e){function t(t){return e.call(this,t)||this}return r(t,e),i([s.sealed,o("design:paramtypes",[u])],t)}(a.IntervalComparatorBase);t.CodeUnitIndexIntervalComparator=c;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.treeOwner=null,t}return r(t,e),t.prototype.setValue=function(t,n){void 0===n&&(n=!0),this.value!==t&&(this.value&&this.value.release(),e.prototype.setValue.call(this,t?t.retain():null,n))},Object.defineProperty(t.prototype,"dbg_intervalAndKernString",{get:function(){return"{["+this.intervalLow+".."+this.intervalHigh+") = "+(this.value?this.value.kern:this.value)+"}"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dbg_intervalString",{get:function(){return"["+this.intervalLow+".."+this.intervalHigh+")"},enumerable:!1,configurable:!0}),t.prototype.free=function(){this.isNil||(this.value&&this.value.release(),this.value=null,this.key=null,this._intervalHigh=null),this.max&&(this.max=null),e.prototype.free.call(this)},t.createSentinelNil=function(e){var t=this.alloc_own();return t.initPooledIntervalTreeNodeBaseSentinelNil(e),t},t.create=function(e,t,n,r){var i=this.alloc();return i.initPooledIntervalTreeNodeBase(e,t,n,r?r.retain():null),i},i([s.sealed],t)}(l.PooledIntervalTreeNodeBase);t._PooledAttributeIntervalTreeNode=d,d.initializePooled();var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._reusableNodesToInsert=[],t._reusableNodesToDispose=[],t._reusableNodesFound=[],t._shifter=null,t._differenceCalculator=null,t}var n;return r(t,e),n=t,t.prototype.closedIntervalSearchForAllEnclosed=function(e,t,n){for(var r=[],i=[e];i.length>0;){var o=i.pop();o.isNil||(this.intervalComparator.doesClosedIntervalEnclose(t,n,o.intervalLow,o.intervalHigh)&&r.push(o),this.keyComparator.lessThanOrEqualTo(t,o.left.max)&&i.push(o.left),this.keyComparator.greaterThanOrEqualTo(o.right.max,t)&&i.push(o.right))}return r},t.prototype.clone=function(){return n.createCloneOf(this)},t.prototype.disposeInterval=function(t,n){var r=this;if(!this.root.isNil){var i=[];if(this.closedIntervalSearchForAll(this.root,t,n,i),0!==i.length){this._reusableNodesToInsert.length=0,this._reusableNodesToDispose.length=0;for(var o=0,a=i.length;o<a;++o){var s=i[o];if(this.intervalComparator.doesClosedIntervalEnclose(t,n,s.intervalLow,s.intervalHigh))this._reusableNodesToDispose.push(s);else if(this.keyComparator.lessThan(t,s.intervalLow)&&this.keyComparator.lessThan(s.intervalLow,n)){var l=this.onWillInsertKeyValue(n,s.value,{high:s.intervalHigh});this._reusableNodesToInsert.push(l),this._reusableNodesToDispose.push(s)}else this.keyComparator.lessThan(t,s.intervalHigh)&&this.keyComparator.lessThan(s.intervalHigh,n)&&(l=this.onWillInsertKeyValue(s.intervalLow,s.value,{high:t}),this._reusableNodesToInsert.push(l),this._reusableNodesToDispose.push(s))}this._reusableNodesToDispose.forEach((function(t){e.prototype.deleteNode.call(r,t).free()})),this._reusableNodesToInsert.sort((function(e,t){var n=r.keyComparator.compare(e.intervalLow,t.intervalLow);return 0!==n?n:r.keyComparator.compare(e.intervalHigh,t.intervalHigh)})),this._reusableNodesToInsert.forEach((function(t){e.prototype.insertNode.call(r,t)}));var u=this._differenceCalculator(t,n);this.inorderTreeWalk(this.root,(function(e){r.keyComparator.greaterThanOrEqualTo(e.intervalLow,n)?(e.setIntervalLowAndHigh(r._shifter(e.intervalLow,u),r._shifter(e.intervalHigh,u),!1),r.augmentNodeUpToRoot(e)):r.keyComparator.greaterThanOrEqualTo(e.intervalHigh,n)&&(e.setIntervalHigh(r._shifter(e.intervalHigh,u),!1),r.augmentNodeUpToRoot(e))}))}}},t.prototype.closedSliceNodes=function(t,n,r){r.length=0;var i=[];this.closedIntervalSearchForAll(this.root,t,n,i);for(var o=0,a=i.length;o<a;++o){var s=i[o];if(this.intervalComparator.doesClosedIntervalEnclose(t,n,s.intervalLow,s.intervalHigh))r.push(s);else if(this.keyComparator.lessThan(s.intervalLow,t)&&this.keyComparator.lessThanOrEqualTo(s.intervalHigh,n)){if(!this.keyComparator.equalTo(t,s.intervalHigh)){var l=this.onWillInsertKeyValue(t,s.value,{high:s.intervalHigh});s.setIntervalHigh(t,!1),e.prototype.insertNode.call(this,l),r.push(l)}}else if(this.keyComparator.greaterThanOrEqualTo(s.intervalLow,t)&&this.keyComparator.greaterThan(s.intervalHigh,n))this.keyComparator.equalTo(s.intervalLow,n)||(l=this.onWillInsertKeyValue(s.intervalLow,s.value,{high:n}),s.setIntervalLow(n,!1),e.prototype.insertNode.call(this,l),r.push(l));else{var u=this.onWillInsertKeyValue(s.intervalLow,s.value,{high:t}),c=this.onWillInsertKeyValue(n,s.value,{high:s.intervalHigh});s.setIntervalLowAndHigh(t,n,!1),e.prototype.insertNode.call(this,u),e.prototype.insertNode.call(this,c),r.push(s)}}r.sort(this.nodeCompareFn.bind(this))},t.prototype.leftClosedRightOpenIntervalSearchForAll=function(e,t,n,r){r.length=0;var i=this._reusableNodeStack;for(i.length=0,i.push(e);i.length>0;){var o=i.pop();o.isNil||(this.doesLhsLeftClosedRightOpenIntervalOverlapClosedRhsInterval(t,n,o.intervalLow,o.intervalHigh)&&r.push(o),this.keyComparator.lessThanOrEqualTo(t,o.left.max)&&i.push(o.left),this.keyComparator.greaterThanOrEqualTo(o.right.max,t)&&i.push(o.right))}},t.prototype.doesLhsLeftClosedRightOpenIntervalOverlapClosedRhsInterval=function(e,t,n,r){return this.intervalComparator.endPointComparator.lessThan(e,r)&&this.intervalComparator.endPointComparator.lessThan(n,t)},t.prototype.mergeMatchingAdjacentNodes=function(e){var t=this.predecessorNode(e),n=this.successorNode(e);return!t.isNil&&e.value===t.value&&this.keyComparator.equalTo(t.intervalHigh,e.intervalLow)?(!n.isNil&&e.value===n.value&&this.keyComparator.equalTo(e.intervalHigh,n.intervalLow)?(t.setIntervalHigh(n.intervalHigh),this.deleteNode(n).free()):t.setIntervalHigh(e.intervalHigh),this.deleteNode(e).free(),t):!n.isNil&&e.value===n.value&&this.keyComparator.equalTo(e.intervalHigh,n.intervalLow)?(e.setIntervalHigh(n.intervalHigh),this.deleteNode(n).free(),e):e},t.prototype.mergeMatchingNodesInInterval=function(e,t){if(!this._keyComparator.equalTo(e,t)){this._reusableNodesFound.length=0,this.closedSliceNodes(e,t,this._reusableNodesFound);for(var n=0,r=this._reusableNodesFound;n<r.length;n++){var i=r[n];i.isFreed||this.mergeMatchingAdjacentNodes(i)}}},t.prototype.onWillInsertKeyValue=function(e,t,n){return d.create(this,e,n.high,t)},t.prototype.nodeCompareFn=function(e,t){return this.intervalComparator.compare(e.intervalLow,e.intervalHigh,t.intervalLow,t.intervalHigh)},Object.defineProperty(t.prototype,"dbg_intervalStrings",{get:function(){var e=[];return this.inorderNodes(this.root,e),e.map((function(e){return e.dbg_intervalString})).join(", ")},enumerable:!1,configurable:!0}),t.create=function(e,t,n){void 0===e&&(e=0),void 0===t&&(t=function(e,t){return e+t}),void 0===n&&(n=function(e,t){return e-t});var r=this.alloc_own();return r.initPooledIntervalTreeBase(d.createSentinelNil(e),new c(new u),e),r._shifter=t,r._differenceCalculator=n,r},t.createCloneOf=function(e){var t=this.alloc_own();return t.initPooledIntervalTreeBase(d.createSentinelNil(e._keyMin),new c(new u),e._keyMin),t._shifter=e._shifter,t._differenceCalculator=e._differenceCalculator,e.inorderTreeWalk(e.root,(function(e){t.insertInterval(e.intervalLow,e.intervalHigh,e.value)})),t},n=i([s.sealed],t)}(l.PooledIntervalTreeBase);t._PooledAttributeIntervalTree=h,h.initializePooled()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NSIntersectionRange=t.NSUnionRange=t.NSEqualRanges=t.NSLocationInRange=t.NSMaxRange=t.NSMakeRange=t.NSRange=void 0;var r=function(){function e(e,t){this.location=e,this.length=t}return e.prototype.clone=function(){return new e(this.location,this.length)},e}();function i(e,t){return new r(e,t)}t.NSRange=r,t.NSMakeRange=i,t.NSMaxRange=function(e){return e.location+e.length},t.NSLocationInRange=function(e,t){return!(e<t.location)&&e-t.location<t.length},t.NSEqualRanges=function(e,t){return e.location===t.location&&e.length===t.length},t.NSUnionRange=function(e,t){var n=e.location+e.length,r=t.location+t.length,o=n<r?r:n,a=e.location<t.location?e.location:t.location;return i(a,o-a)},t.NSIntersectionRange=function(e,t){var n=e.location+e.length,r=t.location+t.length,o=n<r?n:r;return t.location<=e.location&&e.location<r?i(e.location,o-e.location):e.location<=t.location&&t.location<n?i(t.location,o-t.location):i(0,0)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.NSString=t.GUARD_CODE_UNIT_INDEX=t.GUARD_CODE_POINT_INDEX=void 0;var s=n(1561),l=a(n(1706)),u=n(1707),c=n(1714);t.GUARD_CODE_POINT_INDEX=-1,t.GUARD_CODE_UNIT_INDEX=-1;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._string="",t._codePointCount=s.MIN_CODE_POINT_COUNT,t._charIndexMap=null,t}return r(t,e),t.prototype.dealloc=function(){this._string="",this._charIndexMap&&(this._charIndexMap.free(),this._charIndexMap=null),e.prototype.dealloc.call(this)},t.prototype.isEqual=function(e){return e instanceof t&&e._string===this._string},t.prototype.copy=function(){return t.alloc().initWithString(this._string)},t.prototype.mutableCopy=function(){return n(1719).NSMutableString.alloc().initWithString(this._string)},Object.defineProperty(t.prototype,"length",{get:function(){return this._string.length},enumerable:!1,configurable:!0}),t.prototype.substringWithRange=function(e){var n=this._string.substring(e.location,e.location+e.length);return u.autorelease(t.alloc().initWithString(n))},t.prototype.initWithString=function(e){var n=this.init();return n&&(n._string=t.extractUTF16String(e),n.initIndexMaps()),n},t.string=function(){return u.autorelease(this.alloc().init())},t.stringWithString=function(e){return u.autorelease(this.alloc().initWithString(e))},Object.defineProperty(t.prototype,"UTF16String",{get:function(){return this._string},enumerable:!1,configurable:!0}),t.prototype.codeUnitCount=function(){return this.length},t.prototype.codePointCount=function(){return this._codePointCount},t.prototype.codeUnitIndexToCodePointIndex=function(e){return this._charIndexMap.codePointIndexFromCodeUnitIndex(e)},t.prototype.codePointIndexToCodeUnitIndex=function(e){return this._charIndexMap.codeUnitIndexFromCodePointIndex(e)},t.extractUTF16String=function(e){return null===e?"":e instanceof t?e._string:e},t.prototype.initIndexMaps=function(){this._charIndexMap=c.PooledCharIndexMap.createWithUTF16String(this._string),this._codePointCount=this._charIndexMap.totalCodePointCount()},t.prototype.dbg_codeUnits=function(){return l.utf16StringToCodeUnits(this.UTF16String)},t.prototype.dbg_codePoints=function(){return l.utf16StringToCodePoints(this.UTF16String)},Object.defineProperty(t.prototype,"dbg_displayString",{get:function(){return this.UTF16String.replace(/\n/g,"\\n").replace(/\uFFFC/g,"\\uFFFC")},enumerable:!1,configurable:!0}),t}(u.NSObject);t.NSString=d,d.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1715),t),i(n(1716),t)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.PooledCharIndexMap=t.PooledCharIndexMapNode=t.isCodePointIndexUndefined=t.UNDEFINED_CODE_POINT_INDEX=t.UNDEFINED_CODE_UNIT_INDEX=t.isCodePointCountUndefined=void 0;var i=n(1561),o=n(1676),a=n(1716);function s(e){return e===a.UNDEFINED_CODE_POINT_COUNT||isNaN(e)}t.isCodePointCountUndefined=s,t.UNDEFINED_CODE_UNIT_INDEX=void 0,t.UNDEFINED_CODE_POINT_INDEX=void 0,t.isCodePointIndexUndefined=function(e){return e===t.UNDEFINED_CODE_POINT_INDEX||isNaN(e)};var l=function(e){function t(){var t=e.call(this)||this;return t.treeOwner=null,t.subtreeCodeUnitCount=null,t.subtreeCodePointCount=a.UNDEFINED_CODE_POINT_COUNT,t.codeUnitCount=null,t.codePointCount=a.UNDEFINED_CODE_POINT_COUNT,t}return r(t,e),t.prototype.realizedCodePointCount=function(){return s(this.codePointCount)&&this.treeOwner.onRealizeNodeCodePointCount(this),this.codePointCount},t.prototype.realizedSubtreeCodePointCount=function(){return s(this.subtreeCodePointCount)&&this.treeOwner.onRealizeNodeSubtreeCodePointCount(this),isNaN(this.subtreeCodePointCount)&&this.treeOwner.onRealizeNodeSubtreeCodePointCount(this),this.subtreeCodePointCount},t.prototype.setCodePointCount=function(e){this.codePointCount!==e&&(this.codePointCount=e,this.treeOwner.onNodeCodePointCountChanged(this))},t.prototype.setCodeUnitCountAndCodePointCount=function(e,t){this.codeUnitCount===e&&this.codePointCount===t||(this.codeUnitCount=e,this.codePointCount=t,this.treeOwner.onNodeCharacterCountChanged(this))},t.prototype.codeUnitIndexLow=function(){var e=i.ZERO_CODE_UNIT_INDEX;e=i.CodeUnitIndexOps.add(e,this.left.subtreeCodeUnitCount);for(var t=this.parent,n=this;!t.isNil;)n===t.right&&(e=i.CodeUnitIndexOps.add(e,t.left.subtreeCodeUnitCount),e=i.CodeUnitIndexOps.add(e,t.codeUnitCount)),t=(n=t).parent;return e},t.prototype.codePointIndexLow=function(){var e=i.ZERO_CODE_POINT_INDEX;e=i.CodePointIndexOps.add(e,this.left.realizedSubtreeCodePointCount());for(var t=this.parent,n=this;!t.isNil;)n===t.right&&(e=i.CodePointIndexOps.add(e,t.left.realizedSubtreeCodePointCount()),e=i.CodePointIndexOps.add(e,t.realizedCodePointCount())),t=(n=t).parent;return e},t.prototype.codeUnitIndexHigh=function(){return i.CodeUnitIndexOps.add(this.codeUnitIndexLow(),this.codeUnitCount)},t.prototype.codePointIndexHigh=function(){return i.CodePointIndexOps.add(this.codePointIndexLow(),this.realizedCodePointCount())},t.prototype.codeUnitIndexHighFromLow=function(e){return i.CodeUnitIndexOps.add(e,this.codeUnitCount)},t.prototype.codePointIndexHighFromLow=function(e){return i.CodePointIndexOps.add(e,this.codePointCount)},t.prototype.nodeAtCodeUnitIndex=function(e,t){for(var n=this;!n.isNil;){var r=n.left,o=r.subtreeCodeUnitCount,a=i.CodeUnitIndexOps.add(t,o),s=n.codeUnitCount,l=i.CodeUnitIndexOps.add(a,s);if(i.CodeUnitIndexOps.is.lessThan(e,a)){if(r.isNil)return this.treeOwner.sentinelNil;n=r}else{if(i.CodeUnitIndexOps.is.lessThan(e,l))return n;var u=n.right;if(u.isNil)return this.treeOwner.sentinelNil;n=u,t=l}}return this},t.prototype.nodeAtCodePointIndex=function(e,t){for(var n=this;!n.isNil;){var r=n.left,o=r.realizedSubtreeCodePointCount(),a=i.CodePointIndexOps.add(t,o),s=n.realizedCodePointCount(),l=i.CodePointIndexOps.add(a,s);if(i.CodePointIndexOps.is.lessThan(e,a)){if(r.isNil)return this.treeOwner.sentinelNil;n=r}else{if(i.CodePointIndexOps.is.lessThan(e,l))return n;var u=n.right;if(u.isNil)return this.treeOwner.sentinelNil;n=u,t=l}}return this},t.prototype.dbg_formattedKey=function(){return this.key.dbg_arrays},t.prototype.free=function(){this.subtreeCodeUnitCount=null,this.subtreeCodePointCount=a.UNDEFINED_CODE_POINT_COUNT,this.codeUnitCount=null,this.codePointCount=a.UNDEFINED_CODE_POINT_COUNT,this.key&&(this.key.free(),this.key=null),e.prototype.free.call(this)},t.prototype.initPooledSizeTreeNodeBaseSentinelNil=function(){e.prototype.initPooledRedBlackTreeNodeBaseSentinelNil.call(this),this.subtreeCodeUnitCount=i.MIN_CODE_UNIT_COUNT,this.subtreeCodePointCount=i.MIN_CODE_POINT_COUNT,this.codeUnitCount=i.MIN_CODE_UNIT_COUNT,this.codePointCount=i.MIN_CODE_POINT_COUNT},t.prototype.initPooledSizeTreeNodeBase=function(t,n,r,i,o){e.prototype.initPooledRedBlackTreeNodeBase.call(this,t,n,r),this.subtreeCodeUnitCount=i,this.subtreeCodePointCount=o,this.codeUnitCount=i,this.codePointCount=o},t.create=function(e,t,n,r,i){var o=this.alloc();return o.initPooledSizeTreeNodeBase(e,t,n,r,i),o},t.createSentinelNil=function(){var e=this.alloc_own();return e.initPooledSizeTreeNodeBaseSentinelNil(),e},t}(o.PooledRedBlackTreeNodeBase);t.PooledCharIndexMapNode=l,l.initializePooled();var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.root=null,t.sentinelNil=null,t}return r(t,e),t.prototype.totalCodeUnitCount=function(){return this.root.subtreeCodeUnitCount},t.prototype.totalCodePointCount=function(){return this.root.realizedSubtreeCodePointCount()},t.prototype.maxCodeUnitIndex=function(){return i.CodeUnitIndexOps.from(this.root.subtreeCodeUnitCount)},t.prototype.maxCodePointIndex=function(){return i.CodePointIndexOps.from(this.root.realizedSubtreeCodePointCount())},t.prototype.codePointIndexFromCodeUnitIndex=function(e){if(e>=this.totalCodeUnitCount())return i.CodePointIndexOps.from(this.totalCodePointCount());var t=this.searchNodeAtCodeUnitIndex(e),n=i.CodeUnitIndexOps.subtract(e,t.codeUnitIndexLow());return i.CodePointIndexOps.add(t.codePointIndexLow(),t.key.codePointIndexFromCodeUnitIndex(n))},t.prototype.codeUnitIndexFromCodePointIndex=function(e){if(e>=this.totalCodePointCount())return i.CodeUnitIndexOps.from(this.totalCodeUnitCount());var t=this.searchNodeAtCodePointIndex(e),n=i.CodePointIndexOps.subtract(e,t.codePointIndexLow());return i.CodeUnitIndexOps.add(t.codeUnitIndexLow(),t.key.codeUnitIndexFromCodePointIndex(n))},t.prototype.cloneNode=function(e){var t=e.key.clone();return l.create(this,t,null,t.codeUnitCount,t.codePointCount)},t.prototype.insertCharIndexMap=function(e,t,n){var r=this,i=t;e.inorderTreeWalk(e.root,(function(e){if(e.codeUnitCount>0){var t=r.cloneNode(e);t.key.order=i,i+=n,r.insertNode(t)}}))},t.prototype.insertCharIndexMapAtCodeUnitIndex=function(e,t){var n=this.totalCodeUnitCount();if(0===n)this.insertCharIndexMap(t,1e3,1e3);else if(0===e){var r=this.minimumNode(this.root).key.order-1e3*(t.nodeCount+1);this.insertCharIndexMap(t,r,1e3)}else if(e===n){var o=this.maximumNode(this.root);1===t.nodeCount&&i.CodeUnitCountOps.add(o.codeUnitCount,t.totalCodeUnitCount())<128?(o.key.append(t.root.key),o.setCodeUnitCountAndCodePointCount(o.key.codeUnitCount,o.key.codePointCount)):this.insertCharIndexMap(t,o.key.order+1e3,1e3)}else{var a=this.searchNodeAtCodeUnitIndex(e),s=a.codeUnitIndexLow();if(e===s){var u=a.key.order,c=this.predecessorNode(a),d=(u-c.key.order)/(t.nodeCount+2);r=c.key.order+d,this.insertCharIndexMap(t,r,d)}else{a.codeUnitIndexHighFromLow(s);var h=this.successorNode(a),f=(d=((u=h.isNil?1e3*(t.nodeCount+2):h.key.order)-a.key.order)/(t.nodeCount+2),r=a.key.order+d,a.key.splitOffAtCodeUnitIndex(i.CodeUnitIndexOps.subtract(e,s)));if(a.setCodeUnitCountAndCodePointCount(a.key.codeUnitCount,a.key.codePointCount),f){var p=l.create(this,f,null,f.codeUnitCount,f.codePointCount);p.key.order=u-d,this.insertNode(p)}this.insertCharIndexMap(t,r,d)}}},t.prototype.deleteCodeUnitsInRange=function(e,t){if(0!==t){var n=this.totalCodeUnitCount();if(0!==n)if(0===e&&t>=n)this.disposeAllNodes();else{var r=this.searchNodeAtCodeUnitIndex(e),o=i.MIN_CODE_UNIT_COUNT,a=r.codeUnitIndexLow(),s=r.codeUnitIndexHighFromLow(a),l=i.CodeUnitIndexOps.min(i.CodeUnitIndexOps.subtract(s,e),i.CodeUnitIndexOps.from(t));r.key.deleteCodeUnitsInRange(i.CodeUnitIndexOps.subtract(e,a),l),r.setCodeUnitCountAndCodePointCount(r.key.codeUnitCount,r.key.codePointCount),o=i.CodeUnitCountOps.add(o,l);for(var u=this.successorNode(r);o<t;){var c=this.successorNode(u),d=i.CodeUnitCountOps.subtract(t,o),h=i.CodeUnitCountOps.min(u.codeUnitCount,d);u.codeUnitCount===h?this.disposeNode(this.deleteNode(u)):(u.key.deleteCodeUnitsInRange(i.ZERO_CODE_UNIT_INDEX,h),u.setCodeUnitCountAndCodePointCount(u.key.codeUnitCount,u.key.codePointCount)),o=i.CodeUnitCountOps.add(o,h),u=c}r.isFreed?this.conditionalMergeWithPredecessor(u):r.codeUnitCount===i.MIN_CODE_UNIT_COUNT?(this.disposeNode(this.deleteNode(r)),this.conditionalMergeWithPredecessor(u)):this.conditionalMergeWithSuccessor(r)}}},t.prototype.replaceInRangeWithCharIndexMapAtCodeUnitIndex=function(e,t,n){this.deleteCodeUnitsInRange(e,t),n.root.isNil||this.insertCharIndexMapAtCodeUnitIndex(e,n)},t.prototype.conditionalMergeWithPredecessor=function(e){var t=this.predecessorNode(e);t.isNil||i.CodeUnitCountOps.add(t.codeUnitCount,e.codeUnitCount)<128&&(t.key.append(e.key),t.setCodeUnitCountAndCodePointCount(t.key.codeUnitCount,t.key.codePointCount),this.disposeNode(this.deleteNode(e)))},t.prototype.conditionalMergeWithSuccessor=function(e){var t=this.successorNode(e);t.isNil||i.CodeUnitCountOps.add(e.codeUnitCount,t.codeUnitCount)<128&&(e.key.append(t.key),e.setCodeUnitCountAndCodePointCount(e.key.codeUnitCount,e.key.codePointCount),this.disposeNode(this.deleteNode(t)))},t.prototype.insertKeyValue=function(t,n){return e.prototype.insertKeyValue.call(this,t,n)},t.prototype.onWillInsertKeyValue=function(e,t,n){return l.create(this,e,t,i.MIN_CODE_UNIT_COUNT,i.MIN_CODE_POINT_COUNT)},t.prototype.onDidDeleteNode=function(e){},t.prototype.onNodeCodeUnitCountChanged=function(e){this.augmentNodeUpToRoot(e)},t.prototype.onNodeCodePointCountChanged=function(e){this.augmentNodeUpToRoot(e)},t.prototype.onNodeCharacterCountChanged=function(e){this.augmentNodeUpToRoot(e)},t.prototype.onRealizeNodeCodePointCount=function(e){},t.prototype.onRealizeNodeSubtreeCodePointCount=function(e){var t=this;this.postorderTreeWalk(e,(function(e){s(e.codePointCount)?t.onRealizeNodeCodePointCount(e):s(e.subtreeCodePointCount)&&t.augmentNodeUpToRoot(e)}))},t.prototype.searchNodeAtCodeUnitIndex=function(e){return e<0||i.CodeUnitIndexOps.is.greaterThanOrEqualTo(e,i.CodeUnitIndexOps.from(this.root.subtreeCodeUnitCount))?this.sentinelNil:this.root.nodeAtCodeUnitIndex(e,i.ZERO_CODE_UNIT_INDEX)},t.prototype.searchNodeAtCodePointIndex=function(e){return e<0?this.sentinelNil:this.root.nodeAtCodePointIndex(e,i.ZERO_CODE_POINT_INDEX)},t.prototype.deleteAllNodes=function(){var e=this;this.postorderTreeWalk(this.root,(function(t){t.left&&t.left.isNil,t.right&&t.right.isNil,t.left=e.sentinelNil,t.right=e.sentinelNil,e.onDidDeleteNode(t)})),this.root=this.sentinelNil},t.prototype.clone=function(){return t.createClone(this)},t.prototype.augmentNodeOnInsertionPathForNode=function(e,t){e.subtreeCodeUnitCount=e.subtreeCodeUnitCount+t.subtreeCodeUnitCount,s(e.subtreeCodePointCount)||s(t.subtreeCodePointCount)?e.subtreeCodePointCount=a.UNDEFINED_CODE_POINT_COUNT:e.subtreeCodePointCount=i.CodePointCountOps.add(e.subtreeCodePointCount,t.subtreeCodePointCount)},t.prototype.augmentNodeUpToRoot=function(e){for(;!e.isNil;)e.subtreeCodeUnitCount=i.CodeUnitCountOps.add(e.codeUnitCount,i.CodeUnitCountOps.add(e.left.subtreeCodeUnitCount,e.right.subtreeCodeUnitCount)),s(e.codePointCount)||s(e.left.subtreeCodePointCount)||s(e.right.subtreeCodePointCount)?e.subtreeCodePointCount=a.UNDEFINED_CODE_POINT_COUNT:e.subtreeCodePointCount=i.CodePointCountOps.add(e.codePointCount,i.CodePointCountOps.add(e.left.subtreeCodePointCount,e.right.subtreeCodePointCount)),e=e.parent},t.prototype.augmentNodesAfterRotate=function(e,t){e.subtreeCodeUnitCount=t.subtreeCodeUnitCount,t.subtreeCodeUnitCount=i.CodeUnitCountOps.add(t.codeUnitCount,i.CodeUnitCountOps.add(t.left.subtreeCodeUnitCount,t.right.subtreeCodeUnitCount)),e.subtreeCodePointCount=t.subtreeCodePointCount,s(t.codePointCount)||s(t.left.subtreeCodePointCount)||s(t.right.subtreeCodePointCount)?t.subtreeCodePointCount=a.UNDEFINED_CODE_POINT_COUNT:t.subtreeCodePointCount=i.CodePointCountOps.add(t.codePointCount,i.CodePointCountOps.add(t.left.subtreeCodePointCount,t.right.subtreeCodePointCount))},t.prototype.dbg_arrayNodes=function(){return this.dbg_nodes.map((function(e){return e.key.order+" ["+e.codeUnitIndexLow()+".."+e.codeUnitIndexHigh()+") cuc:"+e.codeUnitCount+" cpc:"+e.realizedCodePointCount()+" cpc:"+e.key.codePointCount+" scuc:"+e.subtreeCodeUnitCount+" scpc:"+e.realizedSubtreeCodePointCount()+" maps: "+e.key.dbg_arrays})).join("\n  --\x3e ")},t.prototype.dbg_translatedArrayNodes=function(){return this.dbg_nodes.map((function(e){return e.key.order+" ["+e.codeUnitIndexLow()+".."+e.codeUnitIndexHigh()+") cuc:"+e.codeUnitCount+" cpc:"+e.realizedCodePointCount()+" cpc:"+e.key.codePointCount+" scuc:"+e.subtreeCodeUnitCount+" scpc:"+e.realizedSubtreeCodePointCount()+" maps: "+e.key.dbg_translatedArrays})).join("\n  --\x3e ")},t.prototype.dbg_isValid=function(){return e.prototype.dbg_isValid.call(this)&&this.dbg_everyNodeIntervalIsContiguous()&&this.dbg_everyNodePositionIsCorrect()},t.prototype.dbg_everyNodeIntervalIsContiguous=function(){for(var e=this.minimumNode(this.root),t=0;!e.isNil;){if(e.codeUnitIndexLow()!==t)return!1;t=e.codeUnitIndexHigh(),e=this.successorNode(e)}return!0},t.prototype.dbg_everyNodePositionIsCorrect=function(){for(var e=this.minimumNode(this.root),t=0;!e.isNil;){if(e.codeUnitIndexLow()!==t)return!1;t+=e.codeUnitCount,e=this.successorNode(e)}return this.root.subtreeCodeUnitCount===t},t.prototype.dbg_everyNodeSizeIsCorrect=function(){return!0},t.prototype.free=function(){e.prototype.free.call(this)},t.create=function(){var e=l.createSentinelNil(),t=this.alloc();return t.initPooledRedBlackTreeBase(e,a.PooledCharIndexMapSegmentComparator.instance),t},t.createWithUTF16String=function(e){var t=l.createSentinelNil(),n=this.alloc();n.initPooledRedBlackTreeBase(t,a.PooledCharIndexMapSegmentComparator.instance);var r=a.PooledCharIndexMapSegment.createFromUTF16String(e),i=l.create(n,r,null,r.codeUnitCount,r.codePointCount);return n.insertNode(i),n},t.createClone=function(e){var t=l.createSentinelNil(),n=this.alloc();return n.initPooledRedBlackTreeBase(t,a.PooledCharIndexMapSegmentComparator.instance),n.insertCharIndexMap(e,1e3,1e3),n},t}(o.PooledRedBlackTreeBase);t.PooledCharIndexMap=u,u.initializePooled()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PooledCharIndexMapSegment=t.PooledCharIndexMapSegmentComparator=t.UNDEFINED_CODE_POINT_COUNT=t.GUARD_CODE_UNIT_INDEX=t.GUARD_CODE_POINT_INDEX=void 0;var l=n(1561),u=n(1624),c=n(1543),d=s(n(1706)),h=n(1717);t.GUARD_CODE_POINT_INDEX=-1,t.GUARD_CODE_UNIT_INDEX=-1,t.UNDEFINED_CODE_POINT_COUNT=void 0;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.prototype.compare=function(e,t){return e.order-t.order},t.instance=new n,a([c.sealed],t)}(u.ComparatorBase);t.PooledCharIndexMapSegmentComparator=f;var p=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.order=0,n.codeUnitCount=l.MIN_CODE_UNIT_COUNT,n._codePointCount=t.UNDEFINED_CODE_POINT_COUNT,n._codeUnitToCodePointIndices=null,n._codePointToCodeUnitIndices=null,n}var i;return r(n,e),i=n,n.prototype.free=function(){this._codePointToCodeUnitIndices&&(this._codePointToCodeUnitIndices.free(),this._codePointToCodeUnitIndices=null),this._codeUnitToCodePointIndices&&(this._codeUnitToCodePointIndices.free(),this._codeUnitToCodePointIndices=null),this._codePointCount=t.UNDEFINED_CODE_POINT_COUNT,this.order=0,e.prototype.free.call(this)},Object.defineProperty(n.prototype,"codePointCount",{get:function(){return this._codePointCount},enumerable:!1,configurable:!0}),n.prototype.codePointIndexFromCodeUnitIndex=function(e){return this._codeUnitToCodePointIndices?e<this.codeUnitCount?this._codeUnitToCodePointIndices.getAt(e):l.CodePointIndexOps.from(this.codePointCount):l.ZERO_CODE_POINT_INDEX},n.prototype.codeUnitIndexFromCodePointIndex=function(e){return this._codePointToCodeUnitIndices?e<this.codePointCount?this._codePointToCodeUnitIndices.getAt(e):l.CodeUnitIndexOps.from(this.codeUnitCount):l.ZERO_CODE_UNIT_INDEX},n.prototype.splitOffAtCodeUnitIndex=function(e){var t=this.codePointIndexFromCodeUnitIndex(e);return this.splitOffAtCharIndices(e,t)},n.prototype.clone=function(){return i.createCloneOf(this)},n.prototype.deleteCodeUnitsInRange=function(e,t){if(0!==t&&null!==this._codePointToCodeUnitIndices&&null!==this._codeUnitToCodePointIndices){var n=this.codeUnitCount;if(0===e&&t>=n)this._codeUnitToCodePointIndices.setLength(l.MIN_CODE_UNIT_COUNT),this._codePointToCodeUnitIndices.setLength(l.MIN_CODE_POINT_COUNT),this.codeUnitCount=l.MIN_CODE_UNIT_COUNT,this._codePointCount=l.MIN_CODE_POINT_COUNT;else{var r=l.CodeUnitIndexOps.min(l.CodeUnitIndexOps.add(e,t),l.CodeUnitIndexOps.from(this.codeUnitCount)),i=this.codePointIndexFromCodeUnitIndex(e),o=this.codePointIndexFromCodeUnitIndex(r);this._codeUnitToCodePointIndices.deleteInRange(e,t),this._codePointToCodeUnitIndices.deleteInRange(i,l.CodePointCountOps.subtract(o,i)),this.codeUnitCount=l.CodeUnitCountOps.subtract(this.codeUnitCount,l.CodeUnitIndexOps.subtract(r,e)),this._codePointCount=l.CodePointCountOps.subtract(this._codePointCount,l.CodePointCountOps.subtract(o,i))}}},n.prototype.append=function(e){null!==e._codeUnitToCodePointIndices&&null!==e._codePointToCodeUnitIndices&&(null===this._codePointToCodeUnitIndices||null===this._codeUnitToCodePointIndices?(this._codeUnitToCodePointIndices=e._codeUnitToCodePointIndices.clone(),this._codePointToCodeUnitIndices=e._codePointToCodeUnitIndices.clone(),this.codeUnitCount=e.codeUnitCount,this._codePointCount=e._codePointCount):(this._codeUnitToCodePointIndices.append(e._codeUnitToCodePointIndices,l.CodePointIndexOps.from(this.codePointCount)),this._codePointToCodeUnitIndices.append(e._codePointToCodeUnitIndices,l.CodeUnitIndexOps.from(this.codeUnitCount)),this.codeUnitCount=l.CodeUnitCountOps.add(this.codeUnitCount,e.codeUnitCount),this._codePointCount=l.CodePointCountOps.add(this._codePointCount,e._codePointCount)))},n.prototype.borrowCUItoCPIArray=function(e){return c.TypedArrayByLengthPool.uint32Arrays.borrow(e)},n.prototype.borrowCPItoCUIArray=function(e){return c.TypedArrayByLengthPool.uint32Arrays.borrow(e)},n.prototype.splitOffAtCharIndices=function(e,t){if(null===this._codeUnitToCodePointIndices||null===this._codePointToCodeUnitIndices)return e>l.ZERO_CODE_UNIT_INDEX&&c.fatalError("PooledCharIndexMapSegment.splitOffAtCharIndices Split index is out of range.",{}),null;if(e===this.codeUnitCount)return null;var n=this._codeUnitToCodePointIndices.splitOffAt(e),r=this._codePointToCodeUnitIndices.splitOffAt(t);this.codeUnitCount=this._codeUnitToCodePointIndices.length,this._codePointCount=this._codePointToCodeUnitIndices.length;var o=i.alloc_own();return o._codeUnitToCodePointIndices=n,o._codePointToCodeUnitIndices=r,o.codeUnitCount=o._codeUnitToCodePointIndices.length,o._codePointCount=o._codePointToCodeUnitIndices.length,o},Object.defineProperty(n.prototype,"dbg_arrays",{get:function(){return"cui->cpi: ["+(this._codeUnitToCodePointIndices?this._codeUnitToCodePointIndices.dbg_array.join(", "):[])+"], cpi->cui: ["+(this._codePointToCodeUnitIndices?this._codePointToCodeUnitIndices.dbg_array.join(", "):[])+"]"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dbg_translatedArrays",{get:function(){return"cui->cpi: ["+(this._codeUnitToCodePointIndices?this._codeUnitToCodePointIndices.dbg_translatedArray.join(", "):[])+"], cpi->cui: ["+(this._codePointToCodeUnitIndices?this._codePointToCodeUnitIndices.dbg_translatedArray.join(", "):[])+"]"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dbg_isLengthValid",{get:function(){var e=this._codeUnitToCodePointIndices;if(e){if(e.length!==this.codeUnitCount)return!1;for(var t=e.dbg_array,n=0,r=e.length;n<r;++n)if(t[n]===h.GUARD_VALUE)return!1}var i=this._codePointToCodeUnitIndices;if(i&&i.length>0){if(i.length!==this.codePointCount)return!1;for(t=i.dbg_array,n=0,r=i.length;n<r;++n)if(t[n]===h.GUARD_VALUE)return!1}return!0},enumerable:!1,configurable:!0}),n.prototype.initMapsFromUTF16String=function(e){if(0===e.length)return this.codeUnitCount=l.MIN_CODE_UNIT_COUNT,void(this._codePointCount=l.MIN_CODE_POINT_COUNT);var n=e,r=n.length,i=this.borrowCUItoCPIArray(r);i.fill(t.GUARD_CODE_POINT_INDEX);var o=this.borrowCPItoCUIArray(r);o.fill(t.GUARD_CODE_UNIT_INDEX);for(var a=l.MIN_CODE_UNIT_COUNT,s=l.ZERO_CODE_UNIT_INDEX,u=l.ZERO_CODE_POINT_INDEX;s<n.length&&a<r;){o[u]=l.CodeUnitIndexOps.from(s),i[s]=l.CodePointIndexOps.from(u);var c=n.charCodeAt(s);if(++s,++a,d.isASingleCodeUnit(c))++u;else if(d.isLeadingSurrogate(c)){var f=n.charCodeAt(s);i[s]=l.CodePointIndexOps.from(u),++s,++a,d.isTrailingSurrogate(f)&&++u}}this.codeUnitCount=r,this._codePointCount=u,this._codeUnitToCodePointIndices=h.PooledArrayMap.createWithBrandedUint32Array(i,r),this._codePointToCodeUnitIndices=h.PooledArrayMap.createWithBrandedUint32Array(o,u)},n.createFromUTF16String=function(e){var t=this.alloc_own();return t.initMapsFromUTF16String(e),t},n.createCloneOf=function(e){if(e._codeUnitToCodePointIndices&&e._codePointToCodeUnitIndices){var t=e._codeUnitToCodePointIndices.clone(),n=e._codePointToCodeUnitIndices.clone(),r=this.alloc_own();return r._codeUnitToCodePointIndices=t,r._codePointToCodeUnitIndices=n,r.codeUnitCount=e.codeUnitCount,r._codePointCount=e._codePointCount,r}return this.createFromUTF16String("")},i=a([c.sealed],n)}(c.Pooled);t.PooledCharIndexMapSegment=p,p.initializePooled()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.PooledArrayMap=t.GUARD_VALUE=void 0;var o=n(1543),a=n(1718);t.GUARD_VALUE=Math.pow(2,32)-1;var s=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t._array=null,t._length=0,t._translateBy=0,t}var s;return r(n,e),s=n,Object.defineProperty(n.prototype,"capacity",{get:function(){return this._array?this._array.length:0},enumerable:!1,configurable:!0}),n.prototype.setCapacity=function(e){if(0===e)return this.switchArrayTo(null),void(this._length=0);var t=a.getPow2Length(e);if(t!==this.capacity){var n=o.TypedArrayByLengthPool.uint32Arrays.borrow(t);this._array&&n.set(this._array.subarray(0,n.length)),this._length<=t?n.fill(-1,this._length):this._length=t,this.switchArrayTo(n)}},Object.defineProperty(n.prototype,"length",{get:function(){return this._length},enumerable:!1,configurable:!0}),n.prototype.setLength=function(e){e!==this.length&&(this.setCapacity(e),this._length=e,this._array&&this._length<=this.capacity&&this._array.fill(-1,this._length))},n.prototype.getAt=function(e){return this._array[e]+this._translateBy},n.prototype.setAt=function(e,t){this._array[e]=t-this._translateBy},n.prototype.translate=function(e){this._translateBy=this._translateBy+e},n.prototype.assign=function(e){if(0!==e._length){var n=o.TypedArrayByLengthPool.uint32Arrays.borrow(e._length);n.set(e._array.subarray(0,e._length)),n.fill(t.GUARD_VALUE,e._length),this.switchArrayTo(n),this._length=e._length,this._translateBy=e._translateBy}},n.prototype.append=function(e,n){if(0!==e._length)if(0===this._length)this.assign(e);else{var r=this._length+e._length,i=o.TypedArrayByLengthPool.uint32Arrays.borrow(r);i.fill(t.GUARD_VALUE,r),i.set(this._array.subarray(0,this._length)),i.set(e._array.subarray(0,e._length),this._length);var a=e._translateBy-this._translateBy+n;if(0!==a)for(var s=this._length;s<r;++s)i[s]=i[s]+a;this.switchArrayTo(i),this._length=r}},n.prototype.splitOffAt=function(e){if(0===e)return(n=s.alloc_own())._array=this._array,n._length=this._length,n._translateBy=this._translateBy,this._array=null,this._length=0,n;if(e===this._length)return null;var n,r=this.getAt(0),i=this.getAt(e),o=this._translateBy-(i-r),a=this._length-e;return(n=s.createWithLength(a))._array.set(this._array.subarray(e,this._length)),n.capacity>a&&n._array.fill(t.GUARD_VALUE,a),n._translateBy=o,this._array.fill(t.GUARD_VALUE,e,this._length),this.setLength(e),n},n.prototype.deleteInRange=function(e,t){if(0!==t&&0!==this._length){var n=this._array,r=e+t;if(r===this._length)this.setLength(e);else{var i=n[e],o=n[r]-i,a=this._length-t;n.copyWithin(e,r,this._length),n.fill(-1,a,this._length);for(var s=e,l=e+a;s<l;++s)n[s]=n[s]-o;this.setLength(a)}}},n.prototype.clone=function(){var e=s.createWithLength(this._length);return e._array&&this._array&&this._length>0&&e._array.set(this._array.subarray(0,this._length)),e._translateBy=this._translateBy,e},n.prototype.switchArrayTo=function(e){this._array&&(this._array.fill(t.GUARD_VALUE,0,this._length),o.TypedArrayByLengthPool.uint32Arrays.return(this._array)),this._array=e},Object.defineProperty(n.prototype,"dbg_array",{get:function(){return this._array?Array.from(this._array.subarray(0,this._length)):[]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dbg_translatedArray",{get:function(){var e=this,t=this._array?this._array.subarray(0,this._length).map((function(t){return t+e._translateBy})):[];return Array.from(t)},enumerable:!1,configurable:!0}),n.prototype.free=function(){this._array&&(this.switchArrayTo(null),this._length=0),this._translateBy=0,e.prototype.free.call(this)},n.createWithCapacity=function(e){var n=this.alloc_own();return e>0&&(n._array=o.TypedArrayByLengthPool.uint32Arrays.borrow(e),n._array.fill(t.GUARD_VALUE,0)),n._length=0,n},n.createWithLength=function(e){var n=this.alloc_own();return e>0&&(n._array=o.TypedArrayByLengthPool.uint32Arrays.borrow(e),n._array.fill(t.GUARD_VALUE,0)),n._length=e,n},n.createWithArray=function(e){var n=this.alloc_own();return e.length>0&&(n._array=o.TypedArrayByLengthPool.uint32Arrays.borrow(e.length),n._array.set(e),n._array.fill(t.GUARD_VALUE,e.length)),n._length=e.length,n},n.createWithBrandedUint32Array=function(e,t){var n=this.alloc_own();return n._array=e,n._length=t,n},s=i([o.sealed],n)}(o.Pooled);t.PooledArrayMap=s,s.initializePooled()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPow2Length=void 0,t.getPow2Length=function(e){return e<2||e<2?2:1<<Math.ceil(Math.log2(e))}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.NSMutableString=void 0;var i=n(1561),o=n(1543),a=n(1710),s=n(1712),l=n(1713),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.appendString=function(e){null===e&&o.fatalError("NSMutableString.appendString: Cannot append null string",{}),0!==e.length&&this.insertString_atIndex(e,this.length)},t.prototype.deleteCharactersInRange=function(e){if(0!==e.length){var t=this._string;if(0!==t.length){var n=e.location,r=s.NSMaxRange(e);r>t.length&&a.throwNSRangeException({allowedRange:{start:0,end:t.length},invalidValue:e});var o=this.codeUnitIndexToCodePointIndex(n),l=this.codeUnitIndexToCodePointIndex(r),u=i.CodePointCountOps.subtract(l,o);this._string=t.slice(0,n)+t.slice(r),this._codePointCount=i.CodePointCountOps.subtract(this._codePointCount,u),this._charIndexMap.deleteCodeUnitsInRange(e.location,e.length)}}},t.prototype.insertString_atIndex=function(e,n){if(e&&0!==e.length){if("string"===typeof e&&(e=t.alloc().initWithString(e).autorelease()),null===this._charIndexMap){var r=e._charIndexMap;r&&(this._charIndexMap=r.clone())}else this._charIndexMap.insertCharIndexMapAtCodeUnitIndex(n,e._charIndexMap);var o=this._string;if((n<0||n>o.length)&&a.throwNSRangeException({allowedRange:{start:0,end:o.length},invalidValue:n}),0!==o.length){this.codePointCount(),this.codeUnitCount();var s=n,u=(this.codeUnitIndexToCodePointIndex(s),e.codeUnitCount(),e.codePointCount()),c=l.NSString.extractUTF16String(e);this._string=o.slice(0,s)+c+o.slice(s),this._codePointCount=i.CodePointCountOps.add(this._codePointCount,u)}else this._copyFromString(e)}},t.prototype.replaceCharactersInRange_withString=function(e,n){var r=this._string;if("string"===typeof n?n=t.alloc().initWithString(n).autorelease():null===n&&(n=t.alloc().initWithString("").autorelease()),null!==n&&0!==n.length)if(0!==r.length){var o=e.location,l=s.NSMaxRange(e);l>r.length&&a.throwNSRangeException({allowedRange:{start:0,end:r.length},invalidValue:e});var u=this.codeUnitIndexToCodePointIndex(o),c=this.codeUnitIndexToCodePointIndex(l),d=i.CodePointCountOps.subtract(c,u),h=n.codePointCount(),f=i.CodePointCountOps.subtract(h,d);this._string=r.slice(0,o)+n.UTF16String+r.slice(l),this._codePointCount=i.CodePointCountOps.add(this._codePointCount,f),this._charIndexMap.replaceInRangeWithCharIndexMapAtCodeUnitIndex(e.location,e.length,n._charIndexMap)}else this._copyFromString(n);else this.deleteCharactersInRange(e)},t.prototype._copyFromString=function(e){this._string=e.UTF16String,this._codePointCount=e.codePointCount(),this._charIndexMap&&this._charIndexMap.free(),this._charIndexMap=e._charIndexMap.clone()},t}(l.NSString);t.NSMutableString=u,u.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.NSMutableAttributedString=void 0;var i=n(1624),o=n(1710),a=n(1711),s=n(1702),l=n(1719),u=n(1712),c=n(1713),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._string=null,t}return r(t,e),t.prototype.appendAttributedString=function(e){var t=this;if(null!==e&&0!==e.length){var n=this.length;this._string?this._string.appendString(e._string):this._string=e._string.mutableCopy();var r=e._attributes;r.inorderTreeWalk(r.root,(function(e){var r=t._attributes.insertInterval(n+e.intervalLow,n+e.intervalHigh,e.value);t._attributes.mergeMatchingAdjacentNodes(r)})),this.dbg_assertAttributesValid()}},t.prototype.deleteCharactersInRange=function(e){if(0!==e.length){(e.location<0||u.NSMaxRange(e)>this.length)&&o.throwNSRangeException({allowedRange:{start:0,end:this.length},invalidValue:e}),this._string.deleteCharactersInRange(e),this._attributes.disposeInterval(e.location,e.location+e.length);var t=this._attributes.closedIntervalSearch(this._attributes.root,e.location,e.location+1);t.isNil||this._attributes.mergeMatchingAdjacentNodes(t),this.dbg_assertAttributesValid()}},t.prototype.insertAttributedString_atIndex=function(e,t){var n=this;if(null!==e&&0!==e.length){(t<0||t>this.length)&&o.throwNSRangeException({allowedRange:{start:0,end:this.length},invalidValue:t});var r=this.length;this._string?this._string.insertString_atIndex(e._string,t):this._string=e._string.mutableCopy();var i=e.length,a=[];this._attributes.closedSliceNodes(t,r,a);for(var s=0,l=a.length;s<l;++s){var u=a[s];u.setIntervalLowAndHigh(u.intervalLow+i,u.intervalHigh+i)}var c=e._attributes;c.inorderTreeWalk(c.root,(function(e){var r=n._attributes.insertInterval(t+e.intervalLow,t+e.intervalHigh,e.value);n._attributes.mergeMatchingAdjacentNodes(r)})),this.dbg_assertAttributesValid()}},t.prototype.replaceCharactersInRange_withAttributedString=function(e,t){var n=this;if(this.replaceCharactersInRange_withString(e,null===t?"":t.string),t){var r=u.NSMakeRange(0,0),i=t._attributes;i.inorderTreeWalk(i.root,(function(t){r.location=e.location+t.intervalLow,r.length=t.intervalHigh-t.intervalLow,n.setAttributes_range(t.value,r)}))}},t.prototype.replaceCharactersInRange_withString=function(e,t){(e.location<0||u.NSMaxRange(e)>this.length)&&o.throwNSRangeException({allowedRange:{start:0,end:this.length},invalidValue:e}),this._string;var n="";t&&(n=t instanceof c.NSString?t.UTF16String:t);var r=[],i=null;if(n.length>0)if(0===e.length){if(e.location-1>=0&&(r.length=0,this._attributes.leftClosedRightOpenIntervalSearchForAll(this._attributes.root,e.location-1,e.location,r),r.length>0&&(i=r[0].value.retain().autorelease())),null===i){r.length=0;var d=u.NSMaxRange(e);this._attributes.leftClosedRightOpenIntervalSearchForAll(this._attributes.root,d,d+1,r),r.length>0&&(i=r[0].value.retain().autorelease())}}else r.length=0,this._attributes.leftClosedRightOpenIntervalSearchForAll(this._attributes.root,e.location,e.location+1,r),r.length>0&&(i=r[0].value.retain().autorelease());i=i||s.createAttrDict();var h=n.length-e.length;if(h<0){this._attributes.disposeInterval(u.NSMaxRange(e)+h,u.NSMaxRange(e)),r.length=0,this._attributes.closedSliceNodes(e.location,u.NSMaxRange(e)+h,r),r.length>0&&r[0].setValue(i);for(var f=0,p=r;f<p.length;f++)(b=p[f]).isFreed||this._attributes.mergeMatchingAdjacentNodes(b)}else if(h>0){r.length=0,this._attributes.closedSliceNodes(u.NSMaxRange(e),this.length+1,r);for(var g=0,y=r;g<y.length;g++)(b=y[g]).setIntervalLowAndHigh(b.intervalLow+h,b.intervalHigh+h)}if(h>=0){r.length=0,this._attributes.closedSliceNodes(e.location,u.NSMaxRange(e),r);for(var v=0,m=r;v<m.length;v++){var b=m[v];this._attributes.deleteNode(b).free()}var _=a._PooledAttributeIntervalTreeNode.create(this._attributes,e.location,u.NSMaxRange(e)+h,i);this._attributes.insertNode(_),this._attributes.mergeMatchingAdjacentNodes(_)}this._string?this._string.replaceCharactersInRange_withString(e,t):"string"===typeof t?this._string=l.NSMutableString.alloc().initWithString(t):null===t||(this._string=l.NSMutableString.alloc().initWithString(t)),this.dbg_assertAttributesValid()},t.prototype.setAttributes_range=function(e,t){if(0!==t.length){(t.location<0||u.NSMaxRange(t)>this.length)&&o.throwNSRangeException({allowedRange:{start:0,end:this.length},invalidValue:t});var n=[];if(this._attributes.closedSliceNodes(t.location,u.NSMaxRange(t),n),e=e||s.createAttrDict(),n.length>0){for(var r=0,i=n.length;r<i;++r)(a=n[r]).setValue(e);for(r=0,i=n.length;r<i;++r){var a;(a=n[r]).isFreed||(this._attributes.mergeMatchingAdjacentNodes(a),this.dbg_assertAttributesValid())}}else{var l=this._attributes.insertInterval(t.location,u.NSMaxRange(t),e);this._attributes.mergeMatchingAdjacentNodes(l),this.dbg_assertAttributesValid()}}},t.prototype.replaceCharactersInRange_withAttributedSubstring_fromRange=function(e,t,n){var r=this,i=e.location,o=null;if(t){var a=t.string;a&&(o=a.substringWithRange(n))}this.replaceCharactersInRange_withString(e,o),t&&(t.enumerateAttributesInRange_options_usingBlock(n,s.NSAttributedStringEnumerationLongestEffectiveRangeNotRequired,(function(e,t,o){t.location=t.location-n.location+i,r.setAttributes_range(e,t)})),this._attributes.mergeMatchingNodesInInterval(e.location,e.location+Math.max(e.length,n.length)+1),this.dbg_assertAttributesValid())},t.prototype.appendAttributedSubstring_fromRange=function(e,t){null!==e&&0!==t.length&&0!==e.length&&this.replaceCharactersInRange_withAttributedSubstring_fromRange(u.NSMakeRange(this.length,0),e,t)},t.prototype.isMutable=function(){return!0},t.prototype.createUnderlyingString=function(e){return e?l.NSMutableString.alloc().initWithString(e).autorelease():l.NSMutableString.alloc().init().autorelease()},t.prototype.intervalIntersection=function(e,t,n,r){return t<n?null:i.Interval.create(Math.max(e,n),Math.min(t,r))},t}(s.NSAttributedString);t.NSMutableAttributedString=d,d.initializeRefcounted()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NSHashTable=void 0,t.NSHashTable=Set},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.NSIndexSet=void 0;var i=n(1624),o=n(1543),a=n(1676),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._ranges=null,t}return r(t,e),t.rangeHigh=function(e){return e.location+e.length-1},t.prototype.intersectsIndexesInRange=function(e){return!this._ranges.closedIntervalSearch(this._ranges.root,e.location,t.rangeHigh(e)).isNil},t.prototype.instanceInit=function(){e.prototype.instanceInit.call(this),this._ranges=a.PooledIntervalTree.create(i.NumberIntervalComparator.instance,0)},t.prototype.free=function(){this._ranges.free(),this._ranges=null,e.prototype.free.call(this)},t.prototype.initWithIndexesInRange=function(e){return this._ranges.insertInterval(e.location,t.rangeHigh(e),e),this},t.indexSetWithIndexesInRange=function(e){var t=this.alloc();return t.initWithIndexesInRange(e),t.autorelease()},t}(o.Refcounted);t.NSIndexSet=s,s.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.NSMutableIndexSet=void 0;var i=n(1722),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.addIndexesInRange=function(e){this._ranges.insertInterval(e.location,i.NSIndexSet.rangeHigh(e),e)},t.indexSetWithIndexesInRange=function(t){return e.indexSetWithIndexesInRange.call(this,t)},t}(i.NSIndexSet);t.NSMutableIndexSet=o,o.initializeRefcounted()},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.NSOrderedDescending=t.NSOrderedSame=t.NSOrderedAscending=t.NSComparisonResult=t.NSNotFound=t.NSIntegerMax=void 0,t.NSIntegerMax=9007199254740991,t.NSNotFound=t.NSIntegerMax,function(e){e[e.Ascending=-1]="Ascending",e[e.Same=0]="Same",e[e.Descending=1]="Descending"}(r=t.NSComparisonResult||(t.NSComparisonResult={})),t.NSOrderedAscending=r.Ascending,t.NSOrderedSame=r.Same,t.NSOrderedDescending=r.Descending},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NSSet=void 0,t.NSSet=Set},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.NSUUIDComparator=t.NSUUID=void 0;var s=n(1624),l=a(n(1705)),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._impl=null,t.isTTZero=!1,t}return r(t,e),t.prototype.copy=function(){return t.alloc().initWithUUIDString(this._impl)},Object.defineProperty(t.prototype,"UUIDString",{get:function(){return this._impl},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return null!==e&&this._impl===e._impl},t.isEqual=function(e,t){return null!==e&&null!==t&&e.isEqual(t)},t.prototype.dealloc=function(){this._impl=null,e.prototype.dealloc.call(this)},t.UUID=function(){return t.alloc().init().autorelease()},t.prototype.init=function(){return this.initWithUUIDString(l.random())},t.prototype.initWithUUIDString=function(e){return this._impl=e,this},t.prototype.initWithUUIDBytes=function(e){return this._impl=l.fromBytes(e),this},t.createWithUUIDBytes=function(e){return this.alloc()._impl=l.fromBytes(e),t.alloc().initWithUUIDBytes(e).autorelease()},t.createWithUUIDString=function(e){return t.alloc().initWithUUIDString(e).autorelease()},Object.defineProperty(t,"TTZero",{get:function(){return null===t._TTZero&&(t._TTZero=t.alloc().initWithUUIDBytes(new Uint8Array(16).fill(0)),t._TTZero.isTTZero=!0),t._TTZero},enumerable:!1,configurable:!0}),t.prototype.TTCompare=function(e){return this._impl===e._impl?0:this._impl<e._impl?-1:1},t.decToHexString=function(e){var t=e.toString(16);return t.length%2&&(t="0"+t),t.toUpperCase()},Object.defineProperty(t.prototype,"TTShortDescription",{get:function(){var e=l.toBytes(this._impl);return""+t.decToHexString(e[0])+t.decToHexString(e[1])},enumerable:!1,configurable:!0}),t.prototype.bytes=function(){return l.toBytes(this._impl)},t.compare=function(e,t){return e.TTCompare(t)},t.prototype.toString=function(){return this.UUIDString},t.fromProtobuf=function(e){var n=l.fromProtobufBuffer(e);return n?t.alloc().initWithUUIDString(n).autorelease():null},t._TTZero=null,t}(n(1707).NSObject);t.NSUUID=u,u.initializeRefcounted();var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.compare=function(e,t){return u.compare(e,t)},t.instance=new t,t}(s.ComparatorBase);t.NSUUIDComparator=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.TTMergeableAttributedString=t.TTAttributeNameTimestamp=t.TTPresentationAttributeNameInsertDate=t.TTPresentationAttributeNameApproxMaxItemNumber=t.TTPresentationAttributeNameItemNumber=t.TTAttributeNameParagraphStyle=t.TTAttributeNameForegroundColor=t.TTAttributeNameStrikethrough=t.TTAttributeNameUnderline=t.TTAttributeNameFontHints=t.TTAttributeNameFont=void 0;var i=n(1561),o=n(1703),a=n(1701),s=n(1707),l=n(1728),u=n(1742),c=n(1743),d=n(1735),h=n(1740);t.TTAttributeNameFont="TTFont",t.TTAttributeNameFontHints="TTHints",t.TTAttributeNameUnderline="TTUnderline",t.TTAttributeNameStrikethrough="TTStrikethrough",t.TTAttributeNameForegroundColor="TTColor",t.TTAttributeNameParagraphStyle="TTStyle",t.TTPresentationAttributeNameItemNumber="TPItemNumber",t.TTPresentationAttributeNameApproxMaxItemNumber="TPMaxApproxItemNumber",t.TTPresentationAttributeNameInsertDate="TPInsertDate",t.TTAttributeNameTimestamp="TTTimestamp";var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.insertString_atIndex=function(e,t){this.replaceCharactersInRange_withString(a.NSMakeRange(t,0),e)},t.prototype.replaceCharactersInRange_withString=function(t,n){var r=null;if(this.length>0){var i=this.attributedString;r=t.length>0?i.attributesAtIndex_effectiveRange(t.location,null):t.location>0?i.attributesAtIndex_effectiveRange(t.location-1,null):i.attributesAtIndex_effectiveRange(0,null)}var o=s.autorelease(a.NSAttributedString.alloc().initWithString_attributes(n,r));e.prototype.replaceCharactersInRange_withAttributedString.call(this,t,o)},t.prototype.attributesAtIndex_effectiveRange=function(e,t){return this.attributedString.attributesAtIndex_effectiveRange(e,t)},t.prototype.setAttributes_range=function(e,t){if(0!==t.length){var n=this.attributesEqual_toRange(e,t),r=n[0];if(n[1])r||(this._attributedString.setAttributes_range(e,t),this.delegate&&this.delegate.edited_range_changeInLength(h.NSTextStorageEditedAttributes,t,i.MIN_CODE_UNIT_COUNT,i.MIN_CODE_POINT_COUNT));else{this.delegate&&this.delegate.beginEditing(),this.beginEditing();var o=[];this.getSubstrings_forCharacterRange(o,t);for(var a=0,s=o;a<s.length;a++){var l=s[a];this.setAttributes_substring(e,l)}this.endEditing(),this.delegate&&this.delegate.endEditing()}}},t.prototype.attributesEqual_toRange=function(e,t){var n,r={},i=this.attributedString.attributesAtIndex_effectiveRange(t.location,r),o=!1,s=!1;return a.NSMaxRange(r.out)<a.NSMaxRange(t)||(o=(n=this.attributesEqual_to(e,i))[0],s=n[1]),[o,s]},t.prototype.attributesEqual_to=function(e,t){var n=e===t;return[n,n]},t.prototype.setAttributes_substring=function(e,t){if(t&&!t.isTombstone){var n=this.attributesEqual_toRange(e,t.characterRange()),r=n[0],i=n[1];if(!i&&this.delegate&&this.delegate.wantsUndoCommands){var a=u.TTMergeableStringUndoAttributeCommand.create(),s=t.characterRange();this.attributedString.enumerateAttributesInRange_options_usingBlock(s,0,(function(e,n){var r=t.substringIDRange.subrange(d.TTBoundedCheckedCastNSUIntegerToUInt32(n.location-s.location),d.TTBoundedCheckedCastNSUIntegerToUInt32(n.length));a.addAttributeRange(r,e||o.TTAttrDict.create())})),this.addUndoCommand(a)}if(r||this._attributedString.setAttributes_range(e,t.characterRange()),!i){if(t.timestamp.setReplicaID(l.TTMergeableString.unserialisedReplicaID),this.delegate){var c=[],f=[t];this.getCharacterRanges_forSubstrings(c,f);for(var p=0,g=c;p<g.length;p++){var y=g[p];this.delegate.edited_range_changeInLength(h.NSTextStorageEditedAttributes,y,0,0)}}this._hasLocalChanges=!0}}},t.prototype.initWithArchive_andReplicaID_withOrderedSubstrings_timestamp=function(t,n,r,i){var s=!0,l=e.prototype.initWithArchive_andReplicaID_withOrderedSubstrings_timestamp.call(this,t,n,r,i);if(!l)return null;for(var u=t.attributeRun.length,c=0,d=a.NSMakeRange(0,l.attributedString.length),h=0;h<u;++h){var f=t.attributeRun[h],p=o.TTAttrDict.createFromProtobuf(f);if(!p||"number"!==typeof f.length){s=!1;break}var g=a.NSMakeRange(c,f.length);g=a.NSIntersectionRange(g,d),l._attributedString.setAttributes_range(p,g),c+=f.length}return c!==d.length&&(s=!1),s?l:null},t.prototype.saveDeltaSinceTimestamp_toArchive=function(t,n){var r=e.prototype.i_saveDeltasSinceTimestamp_toArchive.call(this,t,n);this.saveAttributesOfString_toArchive(r,n.out)},t.prototype.saveToArchive=function(){var t=e.prototype.saveToArchive.call(this);return this.saveAttributesOfString_toArchive(this.attributedString,t),t},t.prototype.saveAttributesOfString_toArchive=function(e,t){for(var n=0,r=a.NSMakeRange(0,e.length);n<r.length;){var i={out:a.NSMakeRange(0,e.length)},o=e.attributesAtIndex_longestEffectiveRange_inRange(n,i,r);t.attributeRun||(t.attributeRun=[]);var s=o.toProtobuf();s.length=d.TTBoundedCheckedCastNSUIntegerToUInt32(i.out.length),t.attributeRun.push(s),n+=i.out.length}},t}(c.TTMergeableUndoString);t.TTMergeableAttributedString=f,f.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TTMergeableString=t.updateTopoIDRange=t.reusableCodeUnitIndexAndCodePointIndex=t.TTMergeableStringTimestampTypeStyle=t.TTMergeableStringTimestampTypeText=t.TTMergeableStringTimestampType=void 0;var s,l=n(1594),u=n(1561),c=n(1543),d=n(1729),h=n(1676),f=n(1560),p=a(n(1706)),g=n(1701),y=n(1707),v=n(1732),m=n(1735),b=n(1737),_=n(1738),C=n(1739),I=n(1740);!function(e){e[e.Text=0]="Text",e[e.Style=1]="Style"}(s=t.TTMergeableStringTimestampType||(t.TTMergeableStringTimestampType={})),t.TTMergeableStringTimestampTypeText=s.Text,t.TTMergeableStringTimestampTypeStyle=s.Style,t.reusableCodeUnitIndexAndCodePointIndex=[u.ZERO_CODE_UNIT_INDEX,u.ZERO_CODE_POINT_INDEX];var T=Map;function P(e){var t=e.children.length;if(t>1)for(var n=0;n<t;)e.children[n].incomingEdgeCount>1?(e.children[n].incomingEdgeCount--,e.children.splice(n,1),--t):++n}var O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._minimumID=null,t.pathEnd=null,t.numberOfSeenIncomingEdges=null,t}return r(t,e),Object.defineProperty(t.prototype,"minimumID",{get:function(){return this._minimumID},set:function(e){this._minimumID!==e&&(this._minimumID&&this._minimumID.release(),this._minimumID=e.retain())},enumerable:!1,configurable:!0}),t.prototype.free=function(){this.minimumID.release(),this._minimumID=null,this.pathEnd=null,this.numberOfSeenIncomingEdges=null,e.prototype.free.call(this)},t.prototype.initWithMinimumID_pathEnd_numberOfSeenIncomingEdges=function(e,t,n){return this.minimumID=e,this.pathEnd=t,this.numberOfSeenIncomingEdges=n,this},t}(c.Refcounted);function S(e,t){!function e(t,n,r){var i=!1;if(t.incomingEdgeCount>1){var o=n.get(t);if(void 0===o)return n.set(t,t.incomingEdgeCount-1),i;if(o-=1,n.set(t,o),o>0)return i}if(i=r(t))return!0;for(;1===t.children.length&&1===t.children[0].incomingEdgeCount;)if(i=r(t=t.children[0]))return!0;for(var a=0,s=t.children;a<s.length;a++)if(e(s[a],n,r))return!0;return!1}(e,new T,t)}function w(e,t){var n=new Set,r=[];for(r.push(e),n.add(e);r.length>0;){var i=r.pop();if(t(i))break;for(var o=0,a=i.children;o<a.length;o++){var s=a[o];n.has(s)||(r.push(s),n.add(s))}}}function x(e,t){var n=new Set,r=[],i=!1;for(r.push(e),n.add(e);r.length>0;){var o=r.pop();if(i=t(o))break;for(var a=o;1===o.children.length&&1===o.children[0].incomingEdgeCount;)if((i=t(o=o.children[0]))||o===a){i=!0;break}if(i)break;for(var s=0,l=o.children;s<l.length;s++){var u=l[s];u.incomingEdgeCount<=1?r.push(u):n.has(u)||(r.push(u),n.add(u))}}}function E(e,t,n,r){if(g.NSUUID.isEqual(e.charID.replicaID,t.charID.replicaID))if(e.max().compare(t.charID)<=0||e.charID.compare(t.max())>=0)r.push(e.clone());else if(e.charID.clock<t.charID.clock){var i=e.splitPairAt(t.charID.clock-e.charID.clock);if(t.max().compare(i[1].max())<0){var o=i[1].splitAt(t.length);r.push(o)}i[1].setCharID(v.TTID.create(n.charID.replicaID,n.charID.clock)),r.push(i[0]),r.push(i[1])}else if(e.max().compare(t.max())>0)(i=e.splitPairAt(t.max().clock-e.charID.clock))[0].setCharID(v.TTID.create(n.charID.replicaID,n.charID.clock+(e.charID.clock-t.charID.clock))),r.push(i[0]),r.push(i[1]);else{var a=e.clone();a.setCharID(v.TTID.create(n.charID.replicaID,n.charID.clock+(e.charID.clock-t.charID.clock))),r.push(a)}else r.push(e.clone())}O.initializeRefcounted(),t.updateTopoIDRange=E;var N=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t._replicaUUID=null,t._timestamp=null,t._replicaTextClock=f.MIN_DATA_CLOCK,t._replicaStyleClock=f.MIN_DATA_CLOCK,t._hasLocalChanges=!1,t.delegate=null,t.ttAttributedString2=null,t._objectsNeedingUpdatedRanges=null,t._attributedString=null,t._startNodes=[],t._endNodes=[],t._orderedSubstrings=[],t._unserializedClock=f.MIN_DATA_CLOCK,t._editCount=0,t._cacheInvalid=!0,t._updateRangeBlock=null,t}return r(n,e),Object.defineProperty(n.prototype,"replicaUUID",{get:function(){return this._replicaUUID},set:function(e){this._replicaUUID!==e&&(this._replicaUUID&&this._replicaUUID.release(),this._replicaUUID=e?e.retain():e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"timestamp",{get:function(){return this._timestamp},set:function(e){this._timestamp!==e&&(this._timestamp&&this._timestamp.release(),this._timestamp=e?e.retain():e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"replicaTextClock",{get:function(){return this._replicaTextClock},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"replicaStyleClock",{get:function(){return this._replicaStyleClock},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"objectsNeedingUpdatedRanges",{get:function(){return this._objectsNeedingUpdatedRanges},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"attributedString",{get:function(){return this._attributedString},set:function(e){this._attributedString!==e&&(this._attributedString&&this._attributedString.release(),this._attributedString=e.retain())},enumerable:!1,configurable:!0}),n.prototype.free=function(){this._updateRangeBlock=null,this._cacheInvalid=!0,this._editCount=0,this._orderedSubstrings.length=0,this._attributedString.release(),this._attributedString=null,this._unserializedClock=f.MIN_DATA_CLOCK,this._replicaUUID&&(this._replicaUUID.release(),this._replicaUUID=null);for(var t=new Set,n=0,r=this._startNodes;n<r.length;n++)x(r[n],(function(e){return t.add(e),!1}));for(var i=0,o=Array.from(t);i<o.length;i++)o[i].release();this._endNodes.length=0,this._startNodes.length=0,this._replicaStyleClock=f.MIN_DATA_CLOCK,this._replicaTextClock=f.MIN_DATA_CLOCK,this._hasLocalChanges=!1,this.delegate=null,this._orderedSubstrings.length=0,this._objectsNeedingUpdatedRanges&&(this._objectsNeedingUpdatedRanges=null),this._timestamp&&(this._timestamp.release(),this._timestamp=null),e.prototype.free.call(this)},Object.defineProperty(n,"unserialisedReplicaID",{get:function(){return null===this._unserialisedReplicaID&&(this._unserialisedReplicaID=g.NSUUID.UUID().retain()),this._unserialisedReplicaID},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"string",{get:function(){return this._attributedString},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"length",{get:function(){return this.string.length},enumerable:!1,configurable:!0}),n.prototype.insertString_atIndex=function(e,t){var n=y.autorelease(g.NSAttributedString.alloc().initWithString(e));this.insertAttributedString_atIndex(n,t)},n.prototype.replaceCharactersInRange_withString=function(e,t){this.replaceCharactersInRange_withAttributedString(e,y.autorelease(g.NSAttributedString.alloc().initWithString(t)))},n.prototype.replaceCharactersInRange_withAttributedString=function(e,t){var n=this.delegate;n&&n.beginEditing(),this.beginEditing(),this.deleteCharactersInRange(e),this.insertAttributedString_atIndex(t,e.location),this.endEditing(),n&&n.endEditing()},n.prototype.deleteCharactersInRange=function(e){if(0!==e.length){var t=[],n=[e];this.getSubstrings_forCharacterRange(t,e),this.deleteSubstrings_withCharacterRanges(t,n)}this.updateCache()},n.prototype.insertAttributedString_atIndex=function(e,t){if(e&&e.length>0){var n,r;if(0===t)n=this._startNodes[0],r=this.orderedSubstrings[1];else if(t===this.length)n=this.orderedSubstrings[this.orderedSubstrings.length-2],r=this._endNodes[0];else for(var i=0,o=m.TTBoundedCheckedCastNSUIntegerToUInt32(t);;){var a=this.orderedSubstrings[i];if(!a.isTombstone&&o<a.length){n=a,r=this.splitTopoSubstring_atIndex(n,o),this.invalidateCache();break}if(!a.isTombstone&&0===(o-=a.length)){n=a,r=this.orderedSubstrings[i+1];break}i++}this.insertAttributedString_after_before(e,n,r)}},n.prototype.beginEditing=function(){++this._editCount},n.prototype.endEditing=function(){this._editCount>0&&(--this._editCount,0===this._editCount&&this.coalesce())},n.prototype.replicaUUIDForCharacterAtIndex=function(e){for(var t=0,n=null,r=0,i=this.orderedSubstrings;r<i.length;r++){var o=i[r];if(!o.isTombstone){var a=g.NSMakeRange(t,o.substringIDRange.length);if(t+=o.substringIDRange.length,g.NSLocationInRange(e,a)){n=o.substringIDRange.charID.replicaID;break}}}return n},n.prototype.getCharIDForCharacterAtCodeUnitIndex=function(e){if(e<0)return v.TTID.createStart();if(e>=this.attributedString.length)return v.TTID.createEnd();for(var t=0,n=null,r=0,i=this.orderedSubstrings;r<i.length;r++){var o=i[r];if(!o.isTombstone){var a=g.NSMakeRange(t,o.substringIDRange.length);if(t+=o.substringIDRange.length,g.NSLocationInRange(e,a)){n=o;break}}}return n?v.TTID.create(n.substringIDRange.charID.replicaID,f.DataClockOps.add(n.substringIDRange.charID.clock,u.CodeUnitIndexOps.subtract(e,n.substringIDRange.charID.clock))):(c.fatalError("Could not convert character index to a TTID",e),null)},n.prototype.getCodePointIndexForCodeUnitIndex=function(e){return e<0?-1:0===e?u.ZERO_CODE_POINT_INDEX:e>=this.attributedString.UTF16String.length?u.CodePointIndexOps.from(this._attributedString.codePointCount()):this._attributedString.codeUnitIndexToCodePointIndex(e)},n.prototype.getFirstCodePoint=function(){return this.attributedString.UTF16String.codePointAt(0)},n.prototype.getLastCodePoint=function(){var e=this.attributedString.UTF16String,t=e.length-1,n=e.charCodeAt(t);return p.isTrailingSurrogate(n)?e.codePointAt(t-1):n},n.prototype.resetLocalReplicaClocksToTimestampValues=function(){this._replicaUUID&&(this._replicaTextClock=this._timestamp.clockForUUID_atIndex(this._replicaUUID,s.Text),this._replicaStyleClock=this._timestamp.clockForUUID_atIndex(this._replicaUUID,s.Style))},n.prototype._testSetTextTimestamp=function(e){this._replicaTextClock=e},Object.defineProperty(n.prototype,"isFragment",{get:function(){return 1!==this._startNodes.length||1!==this._endNodes.length?y.YES:this._startNodes[0].substringIDRange.charID.isEqual(v.TTID.create(g.NSUUID.TTZero,f.MIN_DATA_CLOCK))&&this._endNodes[0].substringIDRange.charID.isEqual(v.TTID.create(g.NSUUID.TTZero,f.MAX_DATA_CLOCK))?y.NO:y.YES},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"startNodes",{get:function(){return this._startNodes},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"endNodes",{get:function(){return this._endNodes},enumerable:!1,configurable:!0}),n.prototype._substringCodePointCount=function(e){var t=this._attributedString.codeUnitIndexToCodePointIndex(e.firstCodeUnitIndex),n=this._attributedString.codeUnitIndexToCodePointIndex(e.endCodeUnitIndex);return u.CodePointCountOps.subtract(n,t)},n.prototype._substringUntombstonedCodePointCount=function(e){var t=this._attributedString.codeUnitIndexToCodePointIndex(e.firstCodeUnitIndex),n=this._attributedString.codeUnitIndexToCodePointIndex(e.untombstonedEndCodeUnitIndex);return u.CodePointCountOps.subtract(n,t)},n.prototype.deleteSubstrings_withCharacterRanges=function(e,t){for(var r=n.unserialisedReplicaID,i=this.delegate,o=u.MIN_CODE_POINT_COUNT,a=0,s=e;a<s.length;a++){var l=s[a];o=u.CodePointCountOps.add(o,this._substringCodePointCount(l)),l.isTombstone||(l.isTombstone=!0,l.timestamp.setReplicaID(r))}for(var c=0,d=e;c<d.length;c++)(l=d[c]).isTombstone||(l.isTombstone=!0,l.timestamp.setReplicaID(r));t.sort((function(e,t){return t.location===e.location?0:t.location<e.location?-1:1}));for(var h=0,f=t;h<f.length;h++){var p=f[h];this.attributedString.deleteCharactersInRange(p)}if(i){i.beginEditing();for(var v=t[0],m=u.MIN_CODE_UNIT_COUNT,b=0,_=t;b<_.length;b++){var C=_[b];v=g.NSUnionRange(v,C),m=u.CodeUnitCountOps.add(m,C.length)}i.edited_range_changeInLength(I.NSTextStorageEditedCharacters,v,u.CodeUnitCountOps.negate(m),u.CodePointCountOps.negate(o))}this.coalesce(),this.updateSubstringIndexes(),this._hasLocalChanges=y.YES,i&&i.endEditing()},n.prototype.insertAttributedString_after_before=function(e,t,r){var i=null,o=v.TTIDRange.create(v.TTID.create(null,f.MIN_DATA_CLOCK),0);if(e.length>0){var a=n.unserialisedReplicaID;(i=v.TTSubstring.createWithTopoID(v.TTID.create(a,this._unserializedClock),r.substringIndex,m.TTBoundedCheckedCastNSUIntegerToUInt32(e.length)).retain()).setUntombstonedCodePointCount(e.codePointCount()),i.setTimestamp(v.TTID.create(a,f.MIN_DATA_CLOCK)),this._unserializedClock=this._unserializedClock+e.length,o=i.substringIDRange.clone(),i.setOrderBetween(r,t);var s=t.children.indexOf(r);if(-1!==s?(t.children.splice(s,1,i),i.children=[r]):(i.children=t.children.slice(0),t.children=[i]),i.incomingEdgeCount=1,!this._cacheInvalid)for(var l=this.orderedSubstrings,u=0,c=l.length;u<c;++u)if(l[u]===t){l.splice(u+1,0,i);break}this.attributedString.insertAttributedString_atIndex(e,i.substringIndex);var d=this.delegate;d&&(d.beginEditing(),d.edited_range_changeInLength(I.NSTextStorageEditedCharacters,g.NSMakeRange(i.substringIndex,0),i.length,e.codePointCount())),this._updateRangeBlock=function(e,t){var n=[];E(o,e,t,n),o=n[0]},this.coalesce(),this.updateSubstringIndexes(),i.setUntombstonedCodePointCount(this._substringCodePointCount(i)),this._hasLocalChanges=y.YES,this._updateRangeBlock=null,d&&d.endEditing()}return o},n.prototype.getSubstrings_forCharacterRange=function(e,t){this.getSubstrings_inOrderedSubstrings_forCharacterRange(e,this.orderedSubstrings,t)},n.prototype.getSubstrings_inOrderedSubstrings_forCharacterRange=function(e,t,n){if(0!==n.length){for(var r=0,i=0,o=t.length;i<o;++i){var a=t[i];if(!a.isTombstone){var s=g.NSMakeRange(r,a.substringIDRange.length);if(r+=a.substringIDRange.length,g.NSMaxRange(s)<=n.location)continue;if(s.location>=g.NSMaxRange(n))break;if(s.location<n.location){var l=this.splitTopoSubstring_atIndex(a,m.TTBoundedCheckedCastNSUIntegerToUInt32(n.location-s.location));if(t.splice(i+1,0,l),i+=1,e.push(l),g.NSMaxRange(n)<g.NSMaxRange(s)){var u=this.splitTopoSubstring_atIndex(l,m.TTBoundedCheckedCastNSUIntegerToUInt32(n.length));t.splice(i+1,0,u);break}}else{if(g.NSMaxRange(s)>g.NSMaxRange(n)){l=this.splitTopoSubstring_atIndex(a,m.TTBoundedCheckedCastNSUIntegerToUInt32(g.NSMaxRange(n)-s.location)),e.push(a),t.splice(i+1,0,l);break}e.push(a)}}}this.invalidateCache()}},n.prototype.getSubstrings_forTopoIDRange=function(e,t){if(0!==t.length){for(var n=!1,r=0,i=this.orderedSubstrings;r<i.length;r++){var o=i[r],a=o.substringIDRange.clone();if(g.NSUUID.isEqual(t.charID.replicaID,a.charID.replicaID)&&!(a.max().compare(t.charID)<=0||a.charID.compare(t.max())>=0))if(a.charID.clock<t.charID.clock){var s=this.splitTopoSubstring_atIndex(o,t.charID.clock-a.charID.clock);t.max().compare(a.max())<0&&this.splitTopoSubstring_atIndex(s,t.length),e.push(s),n=y.YES}else a.max().compare(t.max())>0?(this.splitTopoSubstring_atIndex(o,t.max().clock-a.charID.clock),e.push(o),n=y.YES):e.push(o)}n&&this.invalidateCache()}},n.prototype.getCharacterRanges_forSubstrings=function(e,t){for(var n=new Set,r=0,i=t;r<i.length;r++){var o=i[r];n.add(o)}for(var a=0,s=0,l=this.orderedSubstrings;s<l.length;s++){o=l[s];var u=n.has(o),c=o.characterRangeLength;if(u){if(e.push(g.NSMakeRange(a,c)),1===n.size)break;n.delete(o)}a+=c}},n.prototype.getCharacterIndexForCharID=function(e){if(e.isEnd)return g.NSNotFound;for(var t=0,n=g.NSNotFound,r=0,i=this.orderedSubstrings;r<i.length;r++){var o=i[r],a=o.characterRangeLength,s=o.substringIDRange.charID;if(s.isEqual(e)){n=t;break}if(g.NSUUID.isEqual(s.replicaID,e.replicaID)&&s.clock<e.clock&&e.clock<o.substringIDRange.charID.clock+o.substringIDRange.length){n=t+e.clock-s.clock;break}t+=a}return n},n.prototype.splitTopoSubstring_atIndex=function(e,t){var n=e.substringIDRange.splitAt(t),r=v.TTSubstring.createWithTopoIDRange(n,e.substringIndex+(e.isTombstone?0:t)).retain();return r.isTombstone=e.isTombstone,r.setTimestamp(e.timestamp.clone()),r.children=e.children,e.children=[r],r.incomingEdgeCount=1,e.nextSubstring&&(e.nextSubstring.previousSubstring=r),r.nextSubstring=e.nextSubstring,e.nextSubstring=r,r.previousSubstring=e,r.setOrderBetween(e,r.nextSubstring),e.isTombstone||(e.setUntombstonedCodePointCount(this._substringCodePointCount(e)),r.setUntombstonedCodePointCount(this._substringCodePointCount(r))),r},n.prototype.codePointCountInCodeUnitIndexRange=function(e,t){var n=this._attributedString.codeUnitIndexToCodePointIndex(e),r=this._attributedString.codeUnitIndexToCodePointIndex(u.CodeUnitIndexOps.add(e,t));return u.CodePointCountOps.subtract(r,n)},Object.defineProperty(n.prototype,"orderedSubstrings",{get:function(){return this._cacheInvalid&&this.updateCache(),this._orderedSubstrings},enumerable:!1,configurable:!0}),n.prototype.updateCache=function(){var e=this;this._orderedSubstrings.length=0,this._cacheInvalid=!1;for(var t=null,n=0,r=0,i=this._startNodes;r<i.length;r++)S(i[r],(function(r){return e._orderedSubstrings.push(r),r.substringOrder=n,n+=v.TTSubstring.substringSpacing,t&&(t.nextSubstring=r),r.previousSubstring=t,t=r,!1}))},n.prototype.invalidateCache=function(){this._cacheInvalid=!0,this._orderedSubstrings.length=0},n.prototype.updateAttributedStringAfterMerge=function(){for(var e=y.autorelease(g.NSMutableAttributedString.alloc().init()),t=0,n=this.orderedSubstrings;t<n.length;t++){var r=n[t],i=e.length;r.isTombstone||e.appendAttributedSubstring_fromRange(this.attributedString,r.characterRange()),r.substringIndex=m.TTBoundedCheckedCastNSUIntegerToUInt32(i)}this.attributedString=e},n.prototype.updateSubstringIndexes=function(){for(var e=0,t=0,n=this.orderedSubstrings;t<n.length;t++){var r=n[t];r.substringIndex=e,r.isTombstone||(e+=r.length)}},n.prototype.coalesce=function(){var e=this;if(!(this._editCount>0||this.isFragment)){var t=this._startNodes[0],r=0,i=new Set,o=new Set,a=g.NSUUID.UUID(),s=n.unserialisedReplicaID;this.traverseUnordered((function(n){if(n===t)return!1;for(;1===n.children.length;){var l=n.children[0];if(1!==l.incomingEdgeCount)break;if(n.isTombstone!==l.isTombstone)break;if(n.substringIDRange.isSequentialWith(l.substringIDRange)&&n.timestamp.isEqual(l.timestamp))n.children=l.children.slice(0),n.substringIDRange.setLength(u.CodeUnitCountOps.add(n.substringIDRange.length,l.substringIDRange.length)),n.untombstonedCodePointCount===v.UNDEFINED_CODE_POINT_COUNT||l.untombstonedCodePointCount===v.UNDEFINED_CODE_POINT_COUNT?n.setUntombstonedCodePointCount(v.UNDEFINED_CODE_POINT_COUNT):n.setUntombstonedCodePointCount(u.CodePointCountOps.add(n.untombstonedCodePointCount,l.untombstonedCodePointCount)),o.add(l);else{if(!(g.NSUUID.isEqual(n.substringIDRange.charID.replicaID,s)&&g.NSUUID.isEqual(l.substringIDRange.charID.replicaID,s)&&n.timestamp.isEqual(l.timestamp)))break;var c=n.substringIDRange.clone();n.children=l.children.slice(0);var d=v.TTID.create(a,r),h=v.TTID.create(d.replicaID,d.clock+n.substringIDRange.length);n.setSubstringIDRange(v.TTIDRange.create(d.clone(),u.CodeUnitCountOps.add(n.substringIDRange.length,l.substringIDRange.length))),n.setUntombstonedCodePointCount(e._substringUntombstonedCodePointCount(n)),r+=n.length,e.updateTopoIDRange_toNewRangeID(c,v.TTIDRange.create(d.clone(),c.length)),e.updateTopoIDRange_toNewRangeID(l.substringIDRange,v.TTIDRange.create(h,l.substringIDRange.length)),i.add(n),o.add(l),e._hasLocalChanges=y.YES}}return!1}));for(var l=0,c=Array.from(i);l<c.length;l++){var d=c[l],h=d.substringIDRange.clone();d.substringIDRange.setCharID(v.TTID.create(s,this._unserializedClock)),this._unserializedClock=this._unserializedClock+d.length,this.updateTopoIDRange_toNewRangeID(h,d.substringIDRange)}for(var f=0,p=Array.from(o);f<p.length;f++)p[f].release();this.invalidateCache(),this.updateCache()}},n.prototype.updateTopoIDRange_toNewRangeID=function(e,t){for(var n=0,r=Array.from(this._objectsNeedingUpdatedRanges);n<r.length;n++)r[n].updateTopoIDRange_toNewRangeID(e,t);this._updateRangeBlock&&this._updateRangeBlock(e,t)},n.prototype.cleanupObjectsNeedingUpdatedRanges=function(){for(var e=new g.NSHashTable,t=0,n=Array.from(this._objectsNeedingUpdatedRanges);t<n.length;t++)(o=n[t]).hasTopoIDsThatCanChange||e.add(o);for(var r=0,i=Array.from(e);r<i.length;r++){var o=i[r];this._objectsNeedingUpdatedRanges.delete(o)}},n.prototype.generateIdsForLocalChanges=function(){this.generateIdsForLocalChangesSafeForSharedTimestamp(this.timestamp.isDocumentShared())},n.prototype.generateIdsForLocalChangesSafeForSharedTimestamp=function(e){if(this._hasLocalChanges){for(var r=this._replicaStyleClock,i=n.unserialisedReplicaID,o=y.NO,a=0,s=this.orderedSubstrings;a<s.length;a++){var l=s[a];if(g.NSUUID.isEqual(l.substringIDRange.charID.replicaID,i)){var u=v.TTIDRange.create(v.TTID.create(this._replicaUUID,this._replicaTextClock),l.substringIDRange.length);this.updateTopoIDRange_toNewRangeID(l.substringIDRange,u),l.setSubstringIDRange(u),this._replicaTextClock=this._replicaTextClock+l.substringIDRange.length,g.NSUUID.isEqual(l.timestamp.replicaID,i)&&(l.setTimestamp(v.TTID.create(this._replicaUUID,f.MIN_DATA_CLOCK)),this._replicaStyleClock=Math.max(this._replicaStyleClock,1)),o=y.YES}else if(g.NSUUID.isEqual(l.timestamp.replicaID,i)){var c=l.isTombstone,d=Math.max(l.timestamp.clock+(c?8:1),r);this._replicaStyleClock=Math.max(d+1,this._replicaStyleClock),l.setTimestamp(v.TTID.create(this._replicaUUID,d)),o=y.YES}}if(this.cleanupObjectsNeedingUpdatedRanges(),o){var h=this._replicaUUID;(!e||this._timestamp.clockForUUID_atIndex(h,t.TTMergeableStringTimestampTypeText)<this._replicaTextClock)&&this._timestamp.setClock_forUUID_atIndex(this._replicaTextClock,h,t.TTMergeableStringTimestampTypeText),(!e||this._timestamp.clockForUUID_atIndex(h,t.TTMergeableStringTimestampTypeStyle)<this._replicaStyleClock)&&this._timestamp.setClock_forUUID_atIndex(this._replicaStyleClock,h,t.TTMergeableStringTimestampTypeStyle)}this._unserializedClock=f.MIN_DATA_CLOCK,this._hasLocalChanges=y.NO}},n.prototype.canMergeString=function(e){var t=y.YES;if(this.isFragment&&(t=y.NO),t&&e.isFragment){for(var n=d.PooledOrderedSet.create(v.TTIDComparator.instance),r=0,i=e.startNodes;r<i.length;r++){var o=i[r];n.add(o.substringIDRange.last())}for(var a=0,s=e.endNodes;a<s.length;a++){var l=s[a];n.add(l.substringIDRange.charID)}for(var u=y.NO,c=0,h=this.orderedSubstrings;c<h.length;c++){for(var f=h[c],p=f.substringIDRange.charID,g=Math.max(1,f.substringIDRange.length),m=0;m<g;m++)if(n.remove(v.TTID.create(p.replicaID,p.clock+m)),0===n.size){u=y.YES;break}if(u)break}t=0===n.size,n.free()}return t},n.prototype.updateClock=function(){if(this._replicaUUID){for(var e=v.TTID.create(g.NSUUID.TTZero,f.MIN_DATA_CLOCK),t=v.TTID.create(g.NSUUID.TTZero,f.MIN_DATA_CLOCK),n=0,r=this.orderedSubstrings;n<r.length;n++){var i=r[n];!g.NSUUID.isEqual(i.substringIDRange.charID.replicaID,g.NSUUID.TTZero)&&i.substringIDRange.last().compare(e)>0&&(e=i.substringIDRange.last()),!g.NSUUID.isEqual(i.timestamp.replicaID,g.NSUUID.TTZero)&&i.timestamp.compare(t)>0&&(t=i.timestamp.clone())}e.replicaID.TTCompare(this._replicaUUID)>=0&&e.setClock(e.clock+1),t.replicaID.TTCompare(this._replicaUUID)>=0&&t.setClock(t.clock+1),this._replicaTextClock=e.clock,this._replicaStyleClock=t.clock}},n.prototype.check=function(e){if(function(e){var t=0;return x(e,(function(e){return++t,!1})),S(e,(function(e){return--t,!1})),0!==t}(this._startNodes[0]))return e&&(e.out=c.createFatalError("TTMergeableString graph has loop.",{})),y.NO;var t=h.RedBlackTree.create(g.NSUUIDComparator.instance),n=y.YES,r=null;return this.traverseUnordered((function(e){var i=e.substringIDRange.charID,o=e.substringIDRange.nsIDRange();if(0===o.length)return!1;var a=t.search(i.replicaID),s=null;if(null===a||a.isNil)s=g.NSMutableIndexSet.indexSetWithIndexesInRange(o),t.insertKeyValue(i.replicaID,s);else if(g.NSMaxRange(o)<g.NSNotFound){if((s=a.value).intersectsIndexesInRange(o))return r=c.createFatalError("TTMergeableString graph has two characters with the same id.",{}),n=y.NO,!0;s.addIndexesInRange(o)}else{var u="Index in -check ("+(i.replicaID?i.replicaID.toString():"null")+", "+o.location+"-"+g.NSMaxRange(o)+") >= NSNotFound";l.logger.error(u)}return!1})),r&&e&&(e.out=r),n},n.prototype.checkTimestampLogStyleErrors=function(e){var n=this;this.traverseUnordered((function(r){if(0===r.length)return!1;var i=r.substringIDRange.charID.replicaID,o=r.timestamp.replicaID,a=r.substringIDRange.last().clock,s=r.timestamp.clock,u=n.timestamp.clockForUUID_atIndex(i,t.TTMergeableStringTimestampTypeText),c=n.timestamp.clockForUUID_atIndex(o,t.TTMergeableStringTimestampTypeStyle);return u<=a&&n.timestamp.setClock_forUUID_atIndex(a+1,i,t.TTMergeableStringTimestampTypeText),c<=s&&(e&&l.logger.error("Style clock is too low."),n.timestamp.setClock_forUUID_atIndex(s+1,o,t.TTMergeableStringTimestampTypeStyle)),!1}))},n.prototype.dumpMergeData=function(e){},n.prototype.mergeWithString=function(e){return this.mergeWithString_mergeTimestamps(e,y.YES)},n.prototype.mergeWithString_mergeTimestamps=function(e,t){var n=e,r=this.delegate;if(r&&r.willBeginMerging&&r.willBeginMerging(),this.generateIdsForLocalChanges(),n.generateIdsForLocalChanges(),n.checkTimestampLogStyleErrors(y.NO),!this.canMergeString(n))return r&&r.didEndMerging&&r.didEndMerging(C.TTMergingResultFail),C.TTMergingResultFail;if(!(this.timestamp.compareTo(n.timestamp)&_.TTVectorTimestampComparisonAscending))return r&&r.didEndMerging&&r.didEndMerging(C.TTMergingResultNoChange),C.TTMergingResultNoChange;for(var i={},o=h.RedBlackTree.create(v.TTIDComparator.instance),a=new Set,s=new Set,d=new Set,f=new Map,p=this.attributedString.length,b=n.isFragment,T=0,P=this.orderedSubstrings;T<P.length;T++){var O=P[T];if(o.insertKeyValue(O.substringIDRange.charID,O),b)for(var S=0,x=n.startNodes;S<x.length;S++){var E=x[S];O.substringIDRange.contains(E.substringIDRange.charID)&&o.insertKeyValue(E.substringIDRange.charID,O)}}for(var N=n.orderedSubstrings,A=0;A<N.length;++A){if(O=N[A],null===(q=o.search(O.substringIDRange.charID))||q.isNil){i.out=c.createFatalError("Reached substring that is not in our graph.",{});break}if((Y=q.value).substringIDRange.length>O.substringIDRange.length){var D=(L=this.splitTopoSubstring_atIndex(Y,O.substringIDRange.length)).substringIDRange.charID;o.insertKeyValue(D.clone(),L),void 0!==f.get(Y)&&(f.set(L,f.get(Y)),f.delete(Y))}else Y.substringIDRange.length<O.substringIDRange.length&&((L=this.splitTopoSubstring_atIndex(O,Y.substringIDRange.length)).setUntombstonedCodePointCount(n._substringCodePointCount(L)),N.splice(A+1,0,L));for(var R=0,U=O.children;R<U.length;R++){var k=U[R],j=o.search(k.substringIDRange.charID),M=void 0;if(null===j||j.isNil)M=v.TTSubstring.createWithTopoSubstring(k).retain(),o.insertKeyValue(k.substringIDRange.charID,M),s.add(M),k.isTombstone||(M.substringIndex=m.TTBoundedCheckedCastNSUIntegerToUInt32(this.attributedString.length),this.attributedString.appendAttributedSubstring_fromRange(n.string,k.characterRange()));else if(!(M=j.value).substringIDRange.charID.isEqual(k.substringIDRange.charID)){var L=this.splitTopoSubstring_atIndex(M,k.substringIDRange.charID.clock-M.substringIDRange.charID.clock);o.insertKeyValue(L.substringIDRange.charID,L),M=L}var B=q.value;-1===B.children.indexOf(M)&&(f.has(B)||f.set(B,B.children.length),B.addChild(M))}}if(this.invalidateCache(),i.out||!this.check(i)){l.logger.error("Failed to merge strings: "+i.out),l.logger.error("Failed to merge strings.");for(var F=0,K=Array.from(f);F<K.length;F++)(z=K[F])[0].children.length=z[1];w(this._startNodes[0],(function(e){return e.incomingEdgeCount=0,!1})),w(this._startNodes[0],(function(e){for(var t=0,n=e.children;t<n.length;t++)n[t].incomingEdgeCount++;return!1})),this.attributedString.replaceCharactersInRange_withString(g.NSMakeRange(p,this.attributedString.length-p),"");for(var W=0,V=Array.from(s);W<V.length;W++){var z;(z=V[W]).release()}return this.invalidateCache(),this.coalesce(),this.dumpMergeData(n),r&&r.didEndMerging&&r.didEndMerging(C.TTMergingResultFail),C.TTMergingResultFail}for(A=0;A<N.length;A++){var q,Y;O=N[A],(Y=(q=o.search(O.substringIDRange.charID)).value).timestamp.compare(O.timestamp)<0&&(!Y.isTombstone&&O.isTombstone?(a.add(Y),Y.setUntombstonedCodePointCount(this._substringUntombstonedCodePointCount(Y))):Y.isTombstone&&!O.isTombstone?s.add(Y):Y.isTombstone||O.isTombstone||d.add(Y),O.isTombstone||(Y.isTombstone?(Y.substringIndex=m.TTBoundedCheckedCastNSUIntegerToUInt32(this.attributedString.length),this.attributedString.appendAttributedSubstring_fromRange(n.string,O.characterRange())):this.attributedString.replaceCharactersInRange_withAttributedSubstring_fromRange(Y.characterRange(),n.string,O.characterRange())),Y.isTombstone=O.isTombstone,Y.setTimestamp(O.timestamp))}if(this.sortSplitNodes(),this.invalidateCache(),n.invalidateCache(),this.updateAttributedStringAfterMerge(),t&&(this.timestamp.mergeWithTimestamp(n.timestamp),this.updateClock(),this.checkTimestampLogStyleErrors(y.YES)),r){r.beginEditing();for(var Z=0,H=u.MIN_CODE_UNIT_COUNT,X=u.MIN_CODE_POINT_COUNT,G=g.NSMakeRange(0,0),$=y.NO,J=[],Q=0,ee=this.orderedSubstrings;Q<ee.length;Q++){O=ee[Q];var te=s.has(O),ne=a.has(O);te&&!O.isTombstone?($||(G.location=Z,G.length=0,H=u.MIN_CODE_UNIT_COUNT,X=u.MIN_CODE_POINT_COUNT,$=y.YES),G.length+=O.substringIDRange.length,H=u.CodeUnitCountOps.add(H,O.length),X=u.CodePointCountOps.add(X,O.untombstonedCodePointCount)):!te&&ne?($||(G.location=Z,G.length=0,H=u.MIN_CODE_UNIT_COUNT,X=u.MIN_CODE_POINT_COUNT,$=y.YES),H=u.CodeUnitCountOps.subtract(H,O.substringIDRange.length),X=u.CodePointCountOps.subtract(X,O.untombstonedCodePointCount)):!te&&$&&(r.edited_range_changeInLength(I.NSTextStorageEditedCharacters,G,H,X),Z+=H,$=y.NO),!te&&d.has(O)&&J.push(g.NSMakeRange(Z,O.length)),te||O.isTombstone&&!ne||(Z+=O.substringIDRange.length)}for(var re=0,ie=J;re<ie.length;re++){var oe=ie[re];r.edited_range_changeInLength(I.NSTextStorageEditedAttributes,oe,u.MIN_CODE_UNIT_COUNT,u.MIN_CODE_POINT_COUNT)}r.endEditing()}var ae=a.size>0||s.size>0||d.size>0?C.TTMergingResultUpdated:C.TTMergingResultNoChange;return r&&r.didEndMerging&&r.didEndMerging(ae),ae},n.prototype.sortSplitNodes=function(){!function e(t){for(var n=t.substringIDRange.charID.clone(),r=0,i=[],o=new Map;t&&t.children.length>0;)if(t.children.length>1&&P(t),1===t.children.length){if((t=t.children[0]).incomingEdgeCount>1){r=1;break}n=v.TTID.min(n,t.substringIDRange.charID)}else{for(var a=0,s=i;a<s.length;a++)s[a][0].release();i.length=0,o.clear();for(var l=0,u=t.children;l<u.length;l++){var c=u[l];o.set(c,1),i.push([O.alloc().initWithMinimumID_pathEnd_numberOfSeenIncomingEdges(v.TTID.create(null,f.MIN_DATA_CLOCK),c,0),c])}do{for(var d=new Map,h=0,g=Array.from(o);h<g.length;h++){var y=g[h],m=(c=y[0],y[1]);if(c.incomingEdgeCount<=m){for(var b=e(c),_=0,C=i.length;_<C;++_)i[_][0].pathEnd===c&&null!==i[_][0].minimumID.replicaID&&(b.minimumID=v.TTID.min(b.minimumID,i[_][0].minimumID));for(_=0,C=i.length;_<C;_++)i[_][0].pathEnd===c&&(i[_][0].autorelease(),i[_][0]=b.retain());n=v.TTID.min(n,b.minimumID),c=b.pathEnd,m=b.numberOfSeenIncomingEdges}var I=d.get(c);void 0===I?d.set(c,m):d.set(c,I+m)}o=d,i=p.stableMergeSort(i,(function(e,t){var n=v.TTSubstring.compare(e[0].pathEnd,t[0].pathEnd);return 0===n?e[0].minimumID.compare(t[0].minimumID):n}))}while(o.size>1);_=0;for(var T=t.children.length;_<T;++_)t.children[_]=i[_][1];var S=Array.from(o)[0];if(t=S[0],r=S[1],t.incomingEdgeCount>r)break}for(var w=0,x=i;w<x.length;w++)x[w][0].release();return i.length=0,O.alloc().initWithMinimumID_pathEnd_numberOfSeenIncomingEdges(n,t,r).autorelease()}(this._startNodes[0])},n.prototype.traverseUnordered=function(e){for(var t=0,n=this._startNodes;t<n.length;t++)x(n[t],e)},n.prototype.description=function(){return"<TTMergeableString "+p.uniqueID(this)+" = '"+this.string.UTF16String+"'>"},n.prototype.isEqual=function(e){return this.attributedString.isEqual(e.attributedString)?this.graphIsEqual(e):y.NO},n.prototype.graphIsEqual=function(e){var t=!0,n=h.RedBlackTree.create(v.TTIDComparator.instance);if(this.coalesce(),e.coalesce(),this.traverseUnordered((function(e){return n.insertKeyValue(e.substringIDRange.charID,[e,null]),!1})),e.traverseUnordered((function(e){var r=n.search(e.substringIDRange.charID);return null===r||r.isNil||!e.timestamp.isEqual(r.value[0].timestamp)?(t=!1,!0):(r.value[1]=e,!1)})),t)for(var r=0,i=n._impl.dbg_nodes;r<i.length;r++){var o=i[r],a=o.value[0],s=o.value[1];if(!a||!s){t=!1;break}var l=a.children.length;if(l!==s.children.length){t=!1;break}for(var u=0;u<l;u++)if(!a.children[u].substringIDRange.charID.isEqual(a.children[u].substringIDRange.charID)){t=!1;break}if(!t)break}return t},n.prototype.dotDescription=function(e){var n="";n+="subgraph cluster_"+e+p.uniqueID(this)+"_"+e+' {\n  rankdir="LR";\n';var r=this.isFragment?"<Fragment>":this.string.string.UTF16String;r=r.replace(/\r?\n/g,"\\n"),n+='  label="'+this._replicaUUID.TTShortDescription+"_"+e+" ("+p.castToSigned32bit(this._timestamp.clockForUUID_atIndex(this._replicaUUID,t.TTMergeableStringTimestampTypeText))+")    '"+r+"'\"\n",n+="  color=lightgrey;\n";for(var i=0,o=this.orderedSubstrings;i<o.length;i++){var a=o[i];if(-1!==this._startNodes.indexOf(a)){var s=a.substringIDRange.last();n+="  N"+e+p.uniqueID(a)+' [label="Start\\n'+s.replicaID.TTShortDescription+","+p.castToSigned32bit(s.clock)+'"]\n'}else if(-1!==this._endNodes.indexOf(a)){var l=a.substringIDRange.charID;n+="  N"+e+p.uniqueID(a)+' [label="End\\n'+l.replicaID.TTShortDescription+","+p.castToSigned32bit(l.clock)+'"]\n'}else{var u="";if(!a.isTombstone){var c=this.attributedString.string.substringWithRange(a.characterRange());c&&(u=c.UTF16String)}n+="  N"+e+p.uniqueID(a)+' [label="'+u+" "+a.substringIDRange.charID.replicaID.TTShortDescription+","+a.substringIDRange.charID.clock+"-"+(a.substringIDRange.charID.clock+a.substringIDRange.length-1)+" ("+a.timestamp.replicaID.TTShortDescription+","+p.castToSigned32bit(a.timestamp.clock)+")]\n"}for(var d=0,h=a.children;d<h.length;d++){var f=h[d];n+="  N"+e+p.uniqueID(a)+" -> N"+e+p.uniqueID(f)+"\n"}}return n+"}\n"},n.prototype.saveToArchive=function(){this.generateIdsForLocalChanges(),this.coalesce(),this.checkTimestampLogStyleErrors(y.YES);var e={};return this.saveSubstrings_archiveSet_linkSet_archivedString_toArchive(this.orderedSubstrings,null,null,null,e),e.out},n.prototype.saveSubstrings_archiveSet_linkSet_archivedString_toArchive=function(e,t,n,r,i){var o=this;i.out={string:"",substring:[],attributeRun:[]};var a=new Map;e.forEach((function(e,t){a.set(e,t)}));var s=null;if(r){var l=y.autorelease(g.NSMutableAttributedString.alloc().init());s=l}var c=this.timestamp.sortedUUIDs(),d=h.RedBlackTree.create(g.NSUUIDComparator.instance);d.insertKeyValue(g.NSUUID.TTZero,0);for(var f=0,p=c.length;f<p;++f)d.insertKeyValue(c[f],f+1);var v="";e.forEach((function(e,r){var l={charID:{},length:u.MIN_CODE_UNIT_COUNT,timestamp:{}};if(i.out.substring.push(l),l.charID.replicaID=d.search(e.substringIDRange.charID.replicaID).value,l.charID.clock=e.substringIDRange.charID.clock,!t||t.has(e)){l.timestamp.replicaID=d.search(e.timestamp.replicaID).value,l.timestamp.clock=e.timestamp.clock;var c=e.characterRange(),h=c.location,f=c.length;v+=o.attributedString.UTF16String.substr(h,f),e.isTombstone?l.tombstone=!0:s&&s.appendAttributedString(o.attributedString.attributedSubstringFromRange(e.characterRange()))}else l.timestamp.replicaID=0,l.timestamp.clock=0,l.tombstone=!0;l.length=e.substringIDRange.length;for(var p=0,g=e.children;p<g.length;p++){var y=g[p];n&&!n.has(y)||(l.child||(l.child=[]),l.child.push(a.get(y)))}})),i.out.string=v,r&&(r.out=s),this.timestamp.isDocumentShared()||(i.out.timestamp=this.timestamp.savetoArchive())},n.prototype.init=function(){return this.initWithReplicaID_asFragment(null,!1)},n.prototype.initWithReplicaID=function(e){return this.initWithReplicaID_asFragment(e,!1)},n.prototype.initWithReplicaID_asFragment=function(t,n){var r=e.prototype.init.call(this);if(r){if(r._replicaUUID=t?t.retain():null,r._unserializedClock=f.MIN_DATA_CLOCK,!n){var i=v.TTSubstring.createWithTopoID(v.TTID.create(g.NSUUID.TTZero,f.MIN_DATA_CLOCK),0,u.MIN_CODE_UNIT_COUNT).retain(),o=v.TTSubstring.createWithTopoID(v.TTID.create(g.NSUUID.TTZero,f.MAX_DATA_CLOCK),0,u.MIN_CODE_UNIT_COUNT).retain();i.children.push(o),o.incomingEdgeCount=1,i.nextSubstring=o,o.previousSubstring=i,i.substringOrder=0,o.substringOrder=v.TTSubstring.substringSpacing,r._startNodes.push(i),r._endNodes.push(o)}r.timestamp=b.TTVectorMultiTimestamp.createWithCapacity(2),r._objectsNeedingUpdatedRanges=new g.NSHashTable,r._cacheInvalid=!0,r.attributedString=g.NSMutableAttributedString.alloc().init().autorelease()}return r},n.prototype.initWithArchive_andReplicaID=function(e,t){return this.initWithArchive_andReplicaID_withOrderedSubstrings(e,t,null)},n.prototype.initWithArchive_andReplicaID_andSharedTimestamp=function(e,t,n){return this.initWithArchive_andReplicaID_withOrderedSubstrings_timestamp(e,t,null,n)},n.prototype.initWithArchive_andReplicaID_withOrderedSubstrings=function(e,t,n){return this.initWithArchive_andReplicaID_withOrderedSubstrings_timestamp(e,t,n,null)},n.prototype.initWithArchive_andReplicaID_withOrderedSubstrings_timestamp=function(e,t,n,r){var i=y.YES,o=this.initWithReplicaID_asFragment(t,y.YES);if(o){var a=null;if("string"===typeof e.string&&(a=e.string),"string"!==typeof a)return l.logger.error("Corrupt mergeable string, bad string data."),null;o.attributedString=g.NSMutableAttributedString.alloc().initWithString(a).autorelease();for(var s=e.substring.length,u=[],c=null,d=0;d<s;d++){var h=v.TTSubstring.create();h.substringOrder=d,u.push(h.retain()),c&&(c.nextSubstring=h),h.previousSubstring=c,c=h}o.timestamp=r||b.TTVectorMultiTimestamp.createWithArchive_andCapacity(e.timestamp,2);for(var f=o.timestamp.sortedUUIDs(),p=f.length,m=0,_=f;m<_.length;m++)if(_[m].isEqual(g.NSUUID.TTZero)){i=y.NO;break}var C=y.NO,I=new Set,T=0;for(d=0;d<s&&i;d++){var P=e.substring[d];if(void 0===P.charID||void 0===P.length||void 0===P.timestamp){l.logger.error("Corrupt mergeable string, substring missing component."),i=y.NO;break}var O=v.TTIDRange.create(),S=P.charID.replicaID,w=P.timestamp.replicaID;if(S>p||w>p){l.logger.error("Corrupt mergeable string, uuid index > number of uuids - loading empty string."),i=y.NO;break}if(O.charID.resetTo(S>0?f[S-1]:g.NSUUID.TTZero,P.charID.clock),O.setLength(P.length),0===S===(0===w)||void 0!==P.tombstone&&P.tombstone||(C=y.YES),u[d].timestamp.resetTo(w>0?f[w-1]:g.NSUUID.TTZero,P.timestamp.clock),u[d].substringIndex=T,void 0!==P.tombstone&&P.tombstone)u[d].isTombstone=!0;else if(T+=O.length,u[d].isTombstone=!1,O.length+u[d].substringIndex>o.attributedString.length){l.logger.error("Corrupt mergeable string, substring max > string max."),i=y.NO;break}u[d].setSubstringIDRange(O);for(var x=P.child?P.child.length:0,E=0;E<x;E++){var N=P.child[E];if(N>=s){l.logger.error("Corrupt mergeable string, child substring index > number of substrings."),i=y.NO;break}var A=u[N];u[d].addChild(A),I.add(A)}if(!i)break;I.has(u[d])||o.startNodes.push(u[d]),0===x&&o.endNodes.push(u[d])}if(T!==o.attributedString.length&&(l.logger.error("Corrupt mergeable string, length of substrings != attributedString length."),i=y.NO),i&&C&&!o.isFragment&&(l.logger.error("Corrupt mergeable string, zeroed UUID timestamp."),i=y.NO),i&&!o.isFragment)o.updateClock();else if(!i)for(o.startNodes.length=0,d=0;d<s;d++)u[d].release();n&&(n.out=u);for(var D=0,R=u;D<R.length;D++){var U=R[D],k=this.codePointCountInCodeUnitIndexRange(U.substringIndex,U.length);U.setUntombstonedCodePointCount(k)}}return i?o:null},n.prototype.i_saveDeltasSinceTimestamp_toArchive=function(e,n){this.generateIdsForLocalChanges(),this.coalesce();for(var r=[],i=new Set,o=new Set,a=0,s=this.orderedSubstrings;a<s.length;a++){var l=s[a],u=l.substringIDRange.max(),c=e.clockForUUID_atIndex(u.replicaID,t.TTMergeableStringTimestampTypeText),d=e.clockForUUID_atIndex(u.replicaID,t.TTMergeableStringTimestampTypeStyle);if(c<=u.clock||d<=l.timestamp.clock){o.add(l),i.has(l)||(r.push(l),i.add(l));for(var h=0,f=l.children;h<f.length;h++){var p=f[h];i.has(p)||(r.push(p),i.add(p))}}else for(var g=0,y=l.children;g<y.length;g++){var v=(p=y[g]).substringIDRange.max(),m=e.clockForUUID_atIndex(v.replicaID,t.TTMergeableStringTimestampTypeText),b=e.clockForUUID_atIndex(v.replicaID,t.TTMergeableStringTimestampTypeStyle);(m<=v.clock||b<=p.timestamp.clock)&&!i.has(l)&&(r.push(l),i.add(l))}}var _={};return this.saveSubstrings_archiveSet_linkSet_archivedString_toArchive(r,o,i,_,n),_.out},n.prototype.saveDeltaSinceTimestamp_toArchive=function(e,t){this.i_saveDeltasSinceTimestamp_toArchive(e,t)},n.prototype.getCodeUnitIndexForCodePointIndex=function(e){if(e<0)return-1;var t=this.attributedString.UTF16String;return 0===t.length?u.ZERO_CODE_UNIT_INDEX:e>=this._attributedString.codePointCount()?t.length:this._attributedString.codePointIndexToCodeUnitIndex(e)},Object.defineProperty(n.prototype,"dbg_linearSubstringOrderArray",{get:function(){return this._cacheInvalid?["cache invalid"]:this.orderedSubstrings.map((function(e){return e.substringOrder}))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dbg_linearSubstringOrders",{get:function(){return this.dbg_linearSubstringOrderArray.join(", ")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dbg_linearArray",{get:function(){var e=this;return this._cacheInvalid?["cache invalid"]:this._orderedSubstrings.map((function(t){if(t.dbg_isStart)return"start";if(t.dbg_isEnd)return"end";if(t.isTombstone)return"\u26b0\ufe0f["+t.substringIDRange.dbg_description+"],"+t.substringIDRange.length+","+t.untombstonedCodePointCount;var n=e.attributedString.string.substringWithRange(t.characterRange()),r=n?n.UTF16String.replace(/\n/g,"\\n").replace(/\uFFFC/g,"\\uFFFC"):"<ERROR>";return"["+t.substringIDRange.dbg_description+"],"+t.substringIDRange.length+","+t.untombstonedCodePointCount+' "'+r+'"'}))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dbg_linearRender",{get:function(){return this._cacheInvalid?"cache invalid":this.dbg_linearArray.join(" --\x3e ")},enumerable:!1,configurable:!0}),n.dbg_releaseUnserialisedReplicaID=function(){n._unserialisedReplicaID&&(n._unserialisedReplicaID.release(),n._unserialisedReplicaID=null)},n._unserialisedReplicaID=null,n}(y.NSObject);t.TTMergeableString=N,N.initializeRefcounted()},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(1730)),r(n(1731))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1543),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.initPooledOrderedSet=function(t){e.prototype.initPooledOrderedSetBase.call(this,t)},t.create=function(e){var t=this.alloc_own();return t.initPooledOrderedSet(e),t},i([o.sealed],t)}(n(1731).PooledOrderedSetBase);t.PooledOrderedSet=a,a.initializePooled()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1543),o=n(1676),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.comparator=null,t._itemTree=null,t}return r(t,e),Object.defineProperty(t.prototype,"size",{get:function(){return this._itemTree.nodeCount},enumerable:!0,configurable:!0}),t.prototype.add=function(e){this._itemTree.search(this._itemTree.root,e).isNil&&this._itemTree.insertKeyValue(e,null)},t.prototype.remove=function(e){var t=this._itemTree.search(this._itemTree.root,e);t.isNil||this._itemTree.deleteNode(t).free()},t.prototype.contains=function(e){return!this._itemTree.search(this._itemTree.root,e).isNil},t.prototype.toArray=function(e){return this._itemTree.inorderKeys(this._itemTree.root,e)},t.prototype.forEach=function(e){this._itemTree.inorderTreeWalk(this._itemTree.root,(function(t){e(t.key)}))},t.prototype.forEachWithPrevious=function(e){var t=[];this._itemTree.inorderKeys(this._itemTree.root,t);var n=t.length;if(n>=2)for(var r=t[0],i=1;i<n;++i){var o=t[i];e(o,r),r=o}},t.prototype.dbg_isValid=function(){return this.dbg_everyKeyIsUniqueAndSorted},Object.defineProperty(t.prototype,"dbg_everyKeyIsUniqueAndSorted",{get:function(){var e=this,t=!0;return this._itemTree.inorderTreeWalkWithPredecessor(this._itemTree.root,(function(n,r){t=t&&e.comparator.lessThan(r.key,n.key)})),t},enumerable:!0,configurable:!0}),t.prototype.free=function(){this._itemTree.free(),e.prototype.free.call(this)},t.prototype.initPooledOrderedSetBase=function(e){this.comparator=e,this._itemTree=o.PooledRedBlackTree.create(o.PooledRedBlackTreeNode.createSentinelNil(),e)},t}(i.Pooled);t.PooledOrderedSetBase=a},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1733),t),i(n(1734),t),i(n(1736),t)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.TTSubstring=t.UNDEFINED_CODE_POINT_COUNT=void 0;var i=n(1561),o=n(1543),a=n(1560),s=n(1701),l=n(1734);t.UNDEFINED_CODE_POINT_COUNT=void 0;var u=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.substringIDRange=null,t._timestamp=null,t.substringIndex=null,t.substringOrder=null,t.previousSubstring=null,t.nextSubstring=null,t.isTombstone=!1,t.children=[],t.incomingEdgeCount=0,t._untombstonedCodePointCount=i.MIN_CODE_POINT_COUNT,t}return r(n,e),Object.defineProperty(n.prototype,"timestamp",{get:function(){return this._timestamp},enumerable:!1,configurable:!0}),n.prototype.setUntombstonedCodePointCount=function(e){this._untombstonedCodePointCount=e},Object.defineProperty(n.prototype,"untombstonedCodePointCount",{get:function(){return this._untombstonedCodePointCount},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"length",{get:function(){return this.substringIDRange.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"firstCodeUnitIndex",{get:function(){return this.substringIndex},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"endCodeUnitIndex",{get:function(){var e=this.isTombstone?0:this.substringIDRange.length;return this.substringIndex+e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"untombstonedEndCodeUnitIndex",{get:function(){return this.substringIndex+this.substringIDRange.length},enumerable:!1,configurable:!0}),n.prototype.characterRange=function(){return s.NSMakeRange(this.substringIndex,this.isTombstone?0:this.substringIDRange.length)},Object.defineProperty(n.prototype,"characterRangeLength",{get:function(){return this.isTombstone?0:this.substringIDRange.length},enumerable:!1,configurable:!0}),n.prototype.addChild=function(e){this.children.push(e),e.incomingEdgeCount++},n.prototype.isStartNode=function(){return 0===this.incomingEdgeCount},n.prototype.isEndNode=function(){return 0===this.children.length},n.prototype.setSubstringIDRange=function(e){this.substringIDRange!==e&&(this.substringIDRange&&this.substringIDRange.release(),this.substringIDRange=e.retain())},n.prototype.setTimestamp=function(e){this._timestamp!==e&&(this._timestamp&&this._timestamp.release(),this._timestamp=e.retain())},n.prototype.setOrderBetween=function(e,t){this.substringOrder=t?(e.substringOrder+t.substringOrder)/2:e.substringOrder+n.substringSpacing},n.compare=function(e,t){var n=e.substringIDRange.charID,r=n.replicaID,i=t.substringIDRange.charID,o=i.replicaID;return e===t?0:0===r.TTCompare(o)?i.clock-n.clock:n.clock<i.clock||n.clock===i.clock&&s.NSUUID.compare(r,o)<0?-1:1},Object.defineProperty(n.prototype,"dbg_isStart",{get:function(){return 0===this.incomingEdgeCount},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dbg_isEnd",{get:function(){return 0===this.children.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dbg_clock",{get:function(){return this.timestamp.clock},enumerable:!1,configurable:!0}),n.prototype.dbg_linearChildren=function(e){return void 0===e&&(e=10),0===this.children.length?this.dbg_description:this.dbg_description+" --\x3e {"+this.children.map((function(e,t){return t+": "+e.dbg_linearChildren()})).join(" --\x3e ")+"}"},Object.defineProperty(n.prototype,"dbg_description",{get:function(){return this.substringIndex+" "+this.timestamp.dbg_description+" "+this.length},enumerable:!1,configurable:!0}),n.prototype.free=function(){this.incomingEdgeCount=0,this.children.length=0,this.isTombstone=!1,this.substringIndex=null,this.substringOrder=null,this.previousSubstring=null,this.nextSubstring=null,this._timestamp&&(this._timestamp.release(),this._timestamp=null),this.substringIDRange&&(this.substringIDRange.release(),this.substringIDRange=null),this._untombstonedCodePointCount=t.UNDEFINED_CODE_POINT_COUNT,e.prototype.free.call(this)},n.create=function(){var e=this.alloc(),t=e;return e.substringIndex=0,e.substringOrder=null,e.previousSubstring=null,e.nextSubstring=null,e.isTombstone=!1,t.substringIDRange=l.TTIDRange.create().retain(),e._timestamp=l.TTID.create(null,a.MIN_DATA_CLOCK).retain(),e._untombstonedCodePointCount=i.MIN_CODE_POINT_COUNT,e.autorelease()},n.createWithTopoID=function(e,n,r){var o=this.alloc(),a=o;return o.substringIndex=n,o.substringOrder=null,o.previousSubstring=null,o.nextSubstring=null,o.isTombstone=!1,a.substringIDRange=l.TTIDRange.create(e.clone(),r).retain(),o._timestamp=e.clone().retain(),o._untombstonedCodePointCount=r===i.MIN_CODE_UNIT_COUNT?i.MIN_CODE_POINT_COUNT:t.UNDEFINED_CODE_POINT_COUNT,o.autorelease()},n.createWithTopoIDRange=function(e,n){var r=this.alloc(),o=r;return r.substringIndex=n,r.substringOrder=null,r.previousSubstring=null,r.nextSubstring=null,r.isTombstone=!1,o.substringIDRange=e.clone().retain(),r._timestamp=l.TTID.create(null,a.MIN_DATA_CLOCK).retain(),r._untombstonedCodePointCount=r.substringIDRange.length===i.MIN_CODE_UNIT_COUNT?i.MIN_CODE_POINT_COUNT:t.UNDEFINED_CODE_POINT_COUNT,r.autorelease()},n.createWithTopoSubstring=function(e){var t=this.alloc();return t.substringIDRange=e.substringIDRange.clone().retain(),t._timestamp=e.timestamp.clone().retain(),t.substringIndex=e.substringIndex,t.substringOrder=null,t.previousSubstring=null,t.nextSubstring=null,t.isTombstone=e.isTombstone,t._untombstonedCodePointCount=e._untombstonedCodePointCount,t.autorelease()},n.substringSpacing=10,n}(o.Refcounted);t.TTSubstring=u,u.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.TTIDRange=t.TTID=t.TTIDComparator=void 0;var o=n(1624),a=n(1543),s=n(1560),l=n(1701),u=n(1735),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.prototype.compare=function(e,t){return e===t||l.NSUUID.isEqual(e.replicaID,t.replicaID)&&e.clock===t.clock?0:e.clock<t.clock||e.clock===t.clock&&l.NSUUID.compare(e.replicaID,t.replicaID)<0?-1:1},t.instance=new n,i([a.sealed],t)}(o.ComparatorBase);t.TTIDComparator=c;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.replicaID=null,t.clock=null,t}var n;return r(t,e),n=t,t.prototype.compare=function(e){return c.instance.compare(this,e)},t.prototype.add=function(e){return n.create(this.replicaID,s.asValidatedDataClock(this.clock+e))},t.prototype.reset=function(e){this.replicaID&&this.replicaID.release(),this.replicaID=e.replicaID?e.replicaID.copy():null,this.clock=e.clock},t.prototype.resetTo=function(e,t){this.replicaID&&this.replicaID.release(),this.replicaID=e?e.retain():null,this.clock=t},t.prototype.resetToStart=function(){this.replicaID&&this.replicaID.release(),this.replicaID=l.NSUUID.TTZero.retain(),this.clock=s.MIN_DATA_CLOCK},t.prototype.resetToEnd=function(){this.replicaID&&this.replicaID.release(),this.replicaID=l.NSUUID.TTZero.retain(),this.clock=s.MAX_DATA_CLOCK},t.prototype.setReplicaID=function(e){this.replicaID&&this.replicaID.release(),this.replicaID=e?e.retain():null},t.prototype.setClock=function(e){this.clock=e},t.prototype.clone=function(){return n.create(this.replicaID,this.clock)},t.prototype.isEqual=function(e){return!!(e&&this.replicaID&&e.replicaID)&&this.replicaID.isEqual(e.replicaID)&&this.clock===e.clock},t.min=function(e,t){var n=e.compare(t);return n<0?e:n>0?t:e},Object.defineProperty(t.prototype,"isStart",{get:function(){return l.NSUUID.isEqual(this.replicaID,l.NSUUID.TTZero)&&this.clock===s.MIN_DATA_CLOCK},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEnd",{get:function(){return l.NSUUID.isEqual(this.replicaID,l.NSUUID.TTZero)&&this.clock===s.MAX_DATA_CLOCK},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dbg_description",{get:function(){return this.replicaID.TTShortDescription+" "+this.clock},enumerable:!1,configurable:!0}),t.prototype.free=function(){this.replicaID&&this.replicaID.release(),e.prototype.free.call(this)},t.create=function(e,t){void 0===e&&(e=null),void 0===t&&(t=NaN);var n=this.alloc(),r=n;return r.replicaID=e?e.retain():null,r.clock=t,n.autorelease()},t.createStart=function(){return n.create(l.NSUUID.TTZero,s.MIN_DATA_CLOCK)},t.createEnd=function(){return n.create(l.NSUUID.TTZero,s.MAX_DATA_CLOCK)},n=i([a.sealed],t)}(a.Refcounted);t.TTID=d,d.initializeRefcounted();var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.charID=null,t.length=u.asTTValidatedCodeUnitCount(0),t}var n;return r(t,e),n=t,t.prototype.isSequentialWith=function(e){return l.NSUUID.isEqual(this.charID.replicaID,e.charID.replicaID)&&this.charID.clock+this.length===e.charID.clock},t.prototype.splitAt=function(e){var t=n.create(this.charID.add(e),u.asTTValidatedCodeUnitCount(this.length-e));return this.length=u.asTTValidatedCodeUnitCount(e),t},t.prototype.subrange=function(e,t){return n.create(this.charID.add(e),t)},t.prototype.splitPairAt=function(e){return[n.create(this.charID,u.asTTValidatedCodeUnitCount(e)),n.create(this.charID.add(e),u.asTTValidatedCodeUnitCount(this.length-e))]},t.prototype.nsIDRange=function(){return l.NSMakeRange(this.charID.clock,this.length)},t.prototype.contains=function(e){return l.NSUUID.isEqual(e.replicaID,this.charID.replicaID)&&this.charID.clock<=e.clock&&e.clock<s.asValidatedDataClock(this.charID.clock+this.length)},t.prototype.last=function(){var e=this.charID.clock+this.length-1,t=s.asValidatedDataClock(-1===e?s.MAX_DATA_CLOCK:e);return d.create(this.charID.replicaID,t)},t.prototype.max=function(){return d.create(this.charID.replicaID,s.asValidatedDataClock(this.charID.clock+this.length))},t.prototype.setCharID=function(e){this.charID!==e&&(this.charID.release(),this.charID=e.retain())},t.prototype.setLength=function(e){this.length=e},t.prototype.clone=function(){return n.create(this.charID.clone(),this.length)},Object.defineProperty(t.prototype,"dbg_description",{get:function(){var e=this.charID;return e.replicaID.TTShortDescription+" "+e.clock+"-"+(e.clock+this.length-1)},enumerable:!1,configurable:!0}),t.prototype.free=function(){this.charID.release(),e.prototype.free.call(this)},t.create=function(e,t){void 0===e&&(e=null),void 0===t&&(t=NaN);var n=this.alloc(),r=n;return r.charID=e?e.retain():d.create(null,s.MIN_DATA_CLOCK).retain(),r.length=t,n.autorelease()},n=i([a.sealed],t)}(a.Refcounted);t.TTIDRange=h,h.initializeRefcounted()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asTTValidatedCodeUnitIndex=t.asTTValidatedCodeUnitCount=t.TTBoundedCheckedCastNSUIntegerToUInt32=void 0,n(1560),t.TTBoundedCheckedCastNSUIntegerToUInt32=function(e){return e},t.asTTValidatedCodeUnitCount=function(e){return e},t.asTTValidatedCodeUnitIndex=function(e){return e}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.TTSubstringIndexComparator=void 0;var o=n(1624),a=n(1543),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.doesSubstringWithMatchingIndexExistInChildren=function(e,t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o===e)return!0;if(n.doesSubstringWithMatchingIndexExistInChildren(e,o.children))return!0}return!1},t.prototype.compare=function(e,t){return e===t||e.substringOrder===t.substringOrder?0:e.substringOrder-t.substringOrder},t.instance=new n,n=i([a.sealed],t)}(o.ComparatorBase);t.TTSubstringIndexComparator=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TTVectorMultiTimestamp=void 0;var s=n(1594),l=n(1729),u=n(1560),c=a(n(1705)),d=n(1701),h=n(1707),f=n(1735),p=n(1738),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timestamps=[],t}return r(t,e),t.prototype.isDocumentShared=function(){return!1},t.prototype.copy=function(){var e=t.createWithCapacity(this.timestamps.length);return e.mergeWithTimestamp(this),e.retain()},t.prototype.equals=function(e){return this.compareTo(e)===p.TTVectorTimestampComparison.Same},t.prototype.isEqual=function(e){return e instanceof t?this.compareTo(e)===p.TTVectorTimestampComparisonSame:h.NO},t.prototype.clockElementForUUID_atIndex=function(e,t){if(0<=t&&t<this.timestamps.length){var n=this.timestamps[t].clockElementForUUID(e);if(void 0!==n)return n}return p.TTVectorTimestampElement.nilInstance},t.prototype.clockForUUID_atIndex=function(e,t){if(0<=t&&t<this.timestamps.length){var n=this.timestamps[t].clockForUUID(e);if(void 0!==n)return n}return u.MIN_DATA_CLOCK},t.prototype.setClock_forUUID_atIndex=function(e,t,n){return this.timestamps[n].setClock_forUUID(e,t)},t.prototype.setClock_subclock_forUUID_atIndex=function(e,t,n,r){return this.timestamps[r].setClock_subclock_forUUID(e,t,n)},t.prototype.incrementClockForUUIDAtIndex=function(e,t,n){return void 0===n&&(n=1),this.timestamps[t].incrementClockForUUID(e,n)},t.prototype.sortedUUIDs=function(){for(var e=l.PooledOrderedSet.create(d.NSUUIDComparator.instance),t=this.timestamps,n=0,r=t.length;n<r;++n)for(var i=t[n].allUUIDs(),o=0,a=i.length;o<a;++o)e.add(i[o]);var s=[];return e.toArray(s),e.free(),s},t.prototype.replicaUUIDByIndex=function(e){return this.sortedUUIDs()[e]},t.prototype.compareTo=function(e){for(var t=p.TTVectorTimestampComparison.Same,n=this.timestamps,r=0,i=n.length;r<i&&(t|=n[r].compareTo(e.timestamps[r]))!==(p.TTVectorTimestampComparison.Ascending|p.TTVectorTimestampComparison.Descending);++r);return t},t.prototype.mergeWithTimestamp=function(e){for(var t=this.timestamps,n=0,r=t.length;n<r;++n)t[n].mergeWithTimestamp(e.timestamps[n])},t.prototype.savetoArchive=function(){for(var e={clock:[]},t=0,n=this.sortedUUIDs();t<n.length;t++){var r=n[t],i={replicaClock:[]};e.clock.push(i);var o=r.bytes();i.replicaUUID=o;for(var a=0,s=this.timestamps.length;a<s;++a){var l=this.clockElementForUUID_atIndex(r,a),u={};i.replicaClock.push(u),l.clock>0&&(u.clock=f.TTBoundedCheckedCastNSUIntegerToUInt32(l.clock)),l.subclock>0&&(u.subclock=f.TTBoundedCheckedCastNSUIntegerToUInt32(l.subclock))}}return e},t.prototype.dealloc=function(){for(var t=this.timestamps,n=0,r=t.length;n<r;++n)t[n].release();t.length=0,e.prototype.dealloc.call(this)},t.createWithCapacity=function(e){for(var t=this.alloc(),n=t.timestamps,r=0;r<e;++r)n.push(p.TTVectorTimestamp.create().retain());return t.autorelease()},t.createWithTimestamps=function(e){for(var t=this.alloc(),n=0,r=e.length;n<r;++n)t.timestamps.push(e[n].copy());return t.autorelease()},t.createWithProtobuf=function(e,t){for(var n=e.clock,r=!0,i=this.createWithCapacity(t),o=0,a=n;o<a.length;o++){var s=a[o];if(!s.replicaUUID){r=!1;break}var l=c.fromProtobufBuffer(s.replicaUUID),h=l?d.NSUUID.alloc().initWithUUIDString(l).autorelease():d.NSUUID.TTZero;if(!h){r=!1;break}var f=s.replicaClock.length;if(f!==t){r=!1;break}for(var p=0;p<f;++p){var g=s.replicaClock[p].clock,y=s.replicaClock[p].subclock;i.setClock_subclock_forUUID_atIndex(g||u.MIN_DATA_CLOCK,y||u.MIN_DATA_CLOCK,h,p)}}return r?i:(i.release(),null)},t.createWithArchive_andCapacity=function(e,t){var n=h.YES,r=this.createWithCapacity(t);if(r)for(var i=0,o=e.clock.length;i<o;i++){var a=e.clock[i],l=d.NSUUID.fromProtobuf(a.replicaUUID);if(null===l){s.logger.error("TTVectorMultiTimestamp clock requires uuids."),n=h.NO;break}var c=a.replicaClock.length;if(c!==t){s.logger.error("TTVectorMultiTimestamp requires the same number of clocks as capacity "+c+" != "+t+"."),n=h.NO;break}for(var f=0;f<c;f++){var p=a.replicaClock[f],g=void 0!==p.clock&&null!==p.clock?p.clock:u.MIN_DATA_CLOCK,y=void 0!==p.subclock&&null!==p.subclock?p.subclock:u.MIN_DATA_CLOCK;r.setClock_subclock_forUUID_atIndex(g,y,l,f)}}return n?r:null},t.create=function(){return h.autorelease(this.alloc().init())},t.prototype.initWithTimestamps=function(e){for(var t=this.timestamps,n=0,r=e;n<r.length;n++){var i=r[n];t.push(i.retain())}return this},t}(h.NSObject);t.TTVectorMultiTimestamp=g,g.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.TTVectorTimestamp=t.TTVectorTimestampElement=t.TTVectorTimestampComparisonDescending=t.TTVectorTimestampComparisonAscending=t.TTVectorTimestampComparisonSame=t.TTVectorTimestampComparison=void 0;var s,l=n(1543),u=n(1676),c=n(1560),d=n(1701),h=n(1707),f=n(1737);!function(e){e[e.Same=0]="Same",e[e.Ascending=1]="Ascending",e[e.Descending=4]="Descending"}(s=t.TTVectorTimestampComparison||(t.TTVectorTimestampComparison={})),t.TTVectorTimestampComparisonSame=s.Same,t.TTVectorTimestampComparisonAscending=s.Ascending,t.TTVectorTimestampComparisonDescending=s.Descending;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clock=c.MIN_DATA_CLOCK,t.subclock=c.MIN_DATA_CLOCK,t}return r(t,e),t.prototype.setClock=function(e){this.clock=e},t.prototype.setSubclock=function(e){this.subclock=e},t.prototype.free=function(){this.clock=c.MIN_DATA_CLOCK,this.subclock=c.MIN_DATA_CLOCK,e.prototype.free.call(this)},t.create=function(e,t){void 0===e&&(e=c.MIN_DATA_CLOCK),void 0===t&&(t=c.MIN_DATA_CLOCK);var n=this.alloc(),r=n;return r.clock=e,r.subclock=t,n.autorelease()},Object.defineProperty(t,"nilInstance",{get:function(){return t.create(c.MIN_DATA_CLOCK,c.MIN_DATA_CLOCK)},enumerable:!1,configurable:!0}),t}(l.Refcounted);t.TTVectorTimestampElement=p,p.initializeRefcounted();var g=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t._clock=null,t}var g;return r(n,e),g=n,n.prototype.isEqual=function(e){return e instanceof g?this.compareTo(e)===t.TTVectorTimestampComparisonSame:h.NO},n.prototype.clockElementForUUID=function(e){var t=this._clock.search(e);return null===t||t.isNil?p.nilInstance:t.value},n.prototype.clockForUUID=function(e){var t=this._clock.search(e);return null===t||t.isNil?c.MIN_DATA_CLOCK:t.value.clock},n.prototype.subclockForUUID=function(e){var t=this._clock.search(e);return null===t||t.isNil?c.MIN_DATA_CLOCK:t.value.subclock},n.prototype.setClock_forUUID=function(e,t){var n=this._clock.search(t);if(n.isNil){var r=p.create(e);this._clock.insertKeyValue(t.retain(),r.retain())}else n.value.clock=e},n.prototype.setClock_subclock_forUUID=function(e,t,n){var r=this._clock.search(n);if(r.isNil){var i=p.create(e,t);this._clock.insertKeyValue(n.retain(),i.retain())}else{var o=r.value;o.clock=e,o.subclock=t}},n.prototype.incrementClockForUUID=function(e,t){void 0===t&&(t=1);var n=this.clockForUUID(e);return null===n?(n=c.MIN_DATA_CLOCK+1,this.setClock_subclock_forUUID(n,c.MIN_DATA_CLOCK,e),n):(this.setClock_forUUID(n+t,e),n+1)},n.prototype.allUUIDs=function(){return Array.from(this._clock._impl.dbg_keys)},n.prototype.sortedUUIDs=function(){return this.allUUIDs().sort(d.NSUUID.compare)},n.prototype.compareTo=function(e){for(var t=!1,n=!1,r=this.allUUIDs(),i=e.allUUIDs(),l=new Set(function(){return o(this,(function(e){switch(e.label){case 0:return[5,a(r)];case 1:return e.sent(),[5,a(i)];case 2:return e.sent(),[2]}}))}()),u=0,c=Array.from(l);u<c.length;u++){var d=c[u],h=this.clockElementForUUID(d),f=e.clockElementForUUID(d);if(h.clock<f.clock?t=!0:h.clock>f.clock?n=!0:h.subclock<f.subclock?t=!0:h.subclock>f.subclock&&(n=!0),t&&n)break}return(t?s.Ascending:0)|(n?s.Descending:0)},n.prototype.mergeWithTimestamp=function(e){for(var t=0,n=e.allUUIDs();t<n.length;t++){var r=n[t],i=this.clockElementForUUID(r),o=e.clockElementForUUID(r);i.clock>o.clock||i.clock===o.clock&&i.subclock>o.subclock?this.setClock_subclock_forUUID(i.clock,i.subclock,r):this.setClock_subclock_forUUID(o.clock,o.subclock,r)}},n.prototype.equals=function(e){return this.compareTo(e)===s.Same},n.prototype.copy=function(){var e=g.alloc().init();return e&&e.mergeWithTimestamp(this),e},n.prototype.toString=function(){for(var e="TTVectorTimestamp(\n",t=0,n=this.sortedUUIDs();t<n.length;t++){var r=n[t],i=this.clockElementForUUID(r);e+=r.UUIDString+":"+i.clock+"."+i.subclock+"\n"}return e+")"},Object.defineProperty(n.prototype,"dbg_description",{get:function(){return this.toString()},enumerable:!1,configurable:!0}),n.prototype.savetoArchive=function(){return f.TTVectorMultiTimestamp.createWithTimestamps([this]).savetoArchive()},n.prototype.init=function(){return e.prototype.init.call(this),this._clock=u.RedBlackTree.create(d.NSUUIDComparator.instance).retain(),this},n.prototype.dealloc=function(){this._clock._impl.inorderTreeWalk(this._clock._impl.root,(function(e){e.key.release(),e.value.release()})),this._clock._impl.disposeAllNodes(),this._clock.release(),this._clock=null,e.prototype.dealloc.call(this)},n.create=function(){return h.autorelease(this.alloc().init())},n.createWithArchive=function(e){var t=f.TTVectorMultiTimestamp.createWithArchive_andCapacity(e,1);return t?h.autorelease(t.timestamps[0].copy()):null},g=i([l.sealed],n)}(h.NSObject);t.TTVectorTimestamp=g,g.initializeRefcounted()},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TTMergingResultUpdated=t.TTMergingResultNoChange=t.TTMergingResultFail=t.TTMergingResult=void 0,function(e){e[e.Fail=0]="Fail",e[e.NoChange=1]="NoChange",e[e.Updated=2]="Updated"}(r=t.TTMergingResult||(t.TTMergingResult={})),t.TTMergingResultFail=r.Fail,t.TTMergingResultNoChange=r.NoChange,t.TTMergingResultUpdated=r.Updated},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1741),t)},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.NSTextStorageEditedCharacters=t.NSTextStorageEditedAttributes=t.NSTextStorageEditActions=void 0,function(e){e[e.Attributes=1]="Attributes",e[e.Characters=2]="Characters"}(r=t.NSTextStorageEditActions||(t.NSTextStorageEditActions={})),t.NSTextStorageEditedAttributes=r.Attributes,t.NSTextStorageEditedCharacters=r.Characters},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.TTMergeableStringUndoAttributeCommand=void 0;var i=n(1543),o=n(1701),a=n(1728),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._attributeRanges=null,t._attributeDictionaries=null,t.isaTTMergeableStringUndoCommand=!0,t}return r(t,e),t.prototype.addAttributeRange=function(e,t){this._attributeRanges.push(e.clone().retain()),this._attributeDictionaries.push(t.retain())},t.create=function(){var e=this.alloc();return e._attributeRanges=[],e._attributeDictionaries=[],e.autorelease()},t.prototype.free=function(){for(var t=0,n=this._attributeRanges;t<n.length;t++)n[t].release();this._attributeRanges.length=0;for(var r=0,i=this._attributeDictionaries;r<i.length;r++)i[r].release();this._attributeDictionaries.length=0,e.prototype.free.call(this)},t.prototype.updateTopoIDRange_toNewRangeID=function(e,t){for(var n=[],r=[],i=0,o=this._attributeRanges.length;i<o;++i){var s=this._attributeRanges[i],l=this._attributeDictionaries[i],u=[];a.updateTopoIDRange(s,e,t,u);for(var c=0,d=u;c<d.length;c++){var h=d[c];n.push(h.retain()),r.push(l.retain())}}for(var f=0,p=this._attributeRanges;f<p.length;f++)(s=p[f]).release();this._attributeRanges=n;for(var g=0,y=this._attributeDictionaries;g<y.length;g++)(l=y[g]).release();this._attributeDictionaries=r},Object.defineProperty(t.prototype,"hasTopoIDsThatCanChange",{get:function(){for(var e=0,t=this._attributeRanges;e<t.length;e++){var n=t[e];if(o.NSUUID.isEqual(n.charID.replicaID,a.TTMergeableString.unserialisedReplicaID))return!0}return!1},enumerable:!1,configurable:!0}),t.prototype.applyToString=function(e){var t=e;t.beginEditing();for(var n=0,r=this._attributeRanges.length;n<r;++n){var i=this._attributeRanges[n],o=this._attributeDictionaries[n],a=[];e.getSubstrings_forTopoIDRange(a,i);for(var s=0,l=a;s<l.length;s++){var u=l[s];t.setAttributes_substring(o,u)}}t.endEditing()},t.prototype.addToGroup=function(e){for(var t=0,n=this._attributeRanges;t<n.length;t++){var r=n[t];e.addSeenRange(r)}return!0},Object.defineProperty(t.prototype,"dbg_description",{get:function(){for(var e="<TTMergeableStringUndoAttributeCommand "+this+" ",t=0,n=this._attributeRanges.length;t<n;++t){var r=this._attributeRanges[t],i=this._attributeDictionaries[t];e+=(r.charID.replicaID?r.charID.replicaID.TTShortDescription:"null")+":"+r.charID.clock+"-"+(r.charID.clock+r.length-1)+" => '"+i+"', "}return e+">"},enumerable:!1,configurable:!0}),t}(i.Refcounted);t.TTMergeableStringUndoAttributeCommand=s,s.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.TTMergeableUndoString=void 0;var i=n(1701),o=n(1728),a=n(1744),s=n(1741),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.addUndoCommand=function(e){this.objectsNeedingUpdatedRanges.add(e),this.delegate&&this.delegate.addUndoCommand(e)},t.prototype.applyUndoCommand=function(e){e.applyToString(this)},t.prototype.deleteSubstrings_withCharacterRanges=function(t,n){if(this.delegate&&this.delegate.wantsUndoCommands){for(var r=a.TTMergeableStringUndoEditCommand.create(),i=0,o=t;i<o.length;i++){var s=o[i];s.isTombstone||r.addInsertString(s.substringIDRange,this.attributedString.attributedSubstringFromRange(s.characterRange()))}this.addUndoCommand(r)}e.prototype.deleteSubstrings_withCharacterRanges.call(this,t,n)},t.prototype.undeleteSubstrings=function(e,t){if(this.delegate&&this.delegate.wantsUndoCommands){for(var n=a.TTMergeableStringUndoEditCommand.create(),r=0,l=e.length;r<l;++r)t[r]&&n.addDeleteRange(e[r]);if(!n.hasDeleteRanges)return;this.addUndoCommand(n)}var u=new Set;for(r=0,l=e.length;r<l;++r){var c=e[r],d=t[r];if(d){var h=[];this.getSubstrings_forTopoIDRange(h,c);for(var f=h.length-1;f>=0;--f)if((b=h[f]).isTombstone){var p=b.substringIDRange.charID.clock-c.charID.clock,g=b.substringIDRange.length;this._attributedString.insertAttributedString_atIndex(d.attributedSubstringFromRange(i.NSMakeRange(p,g)),b.substringIndex),b.isTombstone=!1,b.timestamp.setReplicaID(o.TTMergeableString.unserialisedReplicaID),u.add(b)}this.updateSubstringIndexes()}}if(this.delegate)for(var y=0,v=0,m=this.orderedSubstrings;v<m.length;v++){var b=m[v];u.has(b)&&(g=b.substringIDRange.length,this.delegate.edited_range_changeInLength(s.NSTextStorageEditedCharacters,i.NSMakeRange(y,0),g,this._substringCodePointCount(b))),y+=b.characterRange().length}this._hasLocalChanges=!0,this.coalesce(),this.updateSubstringIndexes()},t.prototype.insertAttributedString_after_before=function(t,n,r){var i=e.prototype.insertAttributedString_after_before.call(this,t,n,r);if(i.length>0&&this.delegate&&this.delegate.wantsUndoCommands){var o=a.TTMergeableStringUndoEditCommand.create();o.addDeleteRange(i),this.addUndoCommand(o)}return i},t}(o.TTMergeableString);t.TTMergeableUndoString=l,l.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.TTMergeableStringUndoEditCommand=void 0;var i=n(1543),o=n(1701),a=n(1728),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._deleteRanges=[],t._insertRanges=[],t._insertStrings=[],t.isaTTMergeableStringUndoCommand=!0,t}return r(t,e),Object.defineProperty(t.prototype,"hasDeleteRanges",{get:function(){return this._deleteRanges.length>0},enumerable:!1,configurable:!0}),t.prototype.addDeleteRange=function(e){this._deleteRanges.push(e.clone().retain())},t.prototype.addInsertString=function(e,t){this._insertRanges.push(e.clone().retain()),this._insertStrings.push(t.retain())},t.create=function(){return this.alloc().autorelease()},t.prototype.free=function(){for(var t=0,n=this._deleteRanges;t<n.length;t++)n[t].release();for(var r=0,i=this._insertRanges;r<i.length;r++)i[r].release();for(var o=0,a=this._insertStrings;o<a.length;o++)a[o].release();this._deleteRanges.length=0,this._insertRanges.length=0,this._insertStrings.length=0,e.prototype.free.call(this)},t.prototype.updateTopoIDRange_toNewRangeID=function(e,t){for(var n=[],r=0,i=this._deleteRanges;r<i.length;r++){var o=i[r];a.updateTopoIDRange(o,e,t,n)}for(var s=0,l=this._deleteRanges;s<l.length;s++)(o=l[s]).release();this._deleteRanges.length=0;for(var u=0,c=n;u<c.length;u++)o=c[u],this._deleteRanges.push(o.clone().retain());this.updateInsertTopoIDRange_toNewRangeID(e,t)},Object.defineProperty(t.prototype,"hasTopoIDsThatCanChange",{get:function(){for(var e=0,t=this._deleteRanges;e<t.length;e++){var n=t[e];if(o.NSUUID.isEqual(n.charID.replicaID,a.TTMergeableString.unserialisedReplicaID))return!0}for(var r=0,i=this._insertRanges;r<i.length;r++)if(n=i[r],o.NSUUID.isEqual(n.charID.replicaID,a.TTMergeableString.unserialisedReplicaID))return!0;return!1},enumerable:!1,configurable:!0}),t.prototype.updateInsertTopoIDRange_toNewRangeID=function(e,t){for(var n=0,r=this._insertRanges;n<r.length;n++){var i=r[n];null!==i.charID.replicaID&&null!==e.charID.replicaID&&i.charID.replicaID.isEqual(e.charID.replicaID)&&(i.charID.compare(e.charID)<0||i.charID.compare(e.max())>=0||(i.charID.setReplicaID(t.charID.replicaID),i.charID.setClock(t.charID.clock+(i.charID.clock-e.charID.clock))))}},t.prototype.applyToString=function(e){if(this._deleteRanges.length>0){for(var t=[],n=0,r=this._deleteRanges;n<r.length;n++){var i=r[n];e.getSubstrings_forTopoIDRange(t,i)}var o=[];e.getCharacterRanges_forSubstrings(o,t),e.deleteSubstrings_withCharacterRanges(t,o)}this._insertStrings.length>0&&e.undeleteSubstrings(this._insertRanges,this._insertStrings)},t.prototype.addToGroup=function(e){for(var t=0,n=this._deleteRanges;t<n.length;t++){var r=n[t];e.addSeenRange(r)}return!0},Object.defineProperty(t.prototype,"dbg_description",{get:function(){for(var e="<TTMergeableStringUndoEditCommand "+this+" Delete:",t=0,n=this._deleteRanges;t<n.length;t++)e+=((i=n[t]).charID.replicaID?i.charID.replicaID.TTShortDescription:"null")+":"+i.charID.clock+"-"+(i.charID.clock+i.length-1)+", ";e+="  Insert:";for(var r=0;r<this._insertStrings.length;++r){var i=this._insertRanges[r],o=this._insertStrings[r];e+=(i.charID.replicaID?i.charID.replicaID.TTShortDescription:"null")+":"+i.charID.clock+"-"+(i.charID.clock+i.length-1)+"=>'"+o+"', "}return e+">"},enumerable:!1,configurable:!0}),t}(i.Refcounted);t.TTMergeableStringUndoEditCommand=s,s.initializeRefcounted()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTTMergeableStringUndoCommand=void 0,t.isTTMergeableStringUndoCommand=function(e){return!!e&&Boolean(e.isaTTMergeableStringUndoCommand)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.TTMergeableStringUndoGroup=void 0;var i=n(1543),o=n(1676),a=n(1701),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._seen=null,t._commands=null,t.isTTMergeableStringUndoCommand=!0,t}return r(t,e),t.create=function(){var e=this.alloc();return e._seen=o.RedBlackTree.create(a.NSUUIDComparator.instance).retain(),e._commands=[],e.autorelease()},t.prototype.free=function(){this._seen&&this._seen.release();for(var t=0,n=this._commands;t<n.length;t++)n[t].release();this._commands.length=0,e.prototype.free.call(this)},t.prototype.closeGroup=function(){this._seen&&this._seen.release(),this._seen=null},t.prototype.addCommand=function(e){e.addToGroup(this)&&this._commands.push(e.retain())},t.prototype.addSeenRange=function(e){var t,n=e.charID,r=e.nsIDRange(),i=!1,o=this._seen.search(n.replicaID);return null===o||o.isNil?(t=a.NSMutableIndexSet.alloc().initWithIndexesInRange(r),this._seen.insertKeyValue(n.replicaID,t),i=!0):a.NSMaxRange(r)<a.NSNotFound&&((t=o.value).intersectsIndexesInRange(r)||(i=!0,t.addIndexesInRange(r))),i},t.prototype.updateTopoIDRange_toNewRangeID=function(e,t){for(var n=0,r=this._commands;n<r.length;n++)r[n].updateTopoIDRange_toNewRangeID(e,t)},Object.defineProperty(t.prototype,"hasTopoIDsThatCanChange",{get:function(){for(var e=0,t=this._commands;e<t.length;e++)if(t[e].hasTopoIDsThatCanChange)return!0;return!1},enumerable:!1,configurable:!0}),t.prototype.applyToString=function(e){for(var t=this._commands,n=t.length-1;n>=0;--n)t[n].applyToString(e)},t.prototype.addToGroup=function(e){return!1},Object.defineProperty(t.prototype,"dbg_description",{get:function(){return"<TTMergeableStringUndoGroup "+this+" "+this._commands+">"},enumerable:!1,configurable:!0}),t}(i.Refcounted);t.TTMergeableStringUndoGroup=s,s.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TTAttributedStringIterator2=void 0;var s=n(1594),l=n(1561),u=n(1624),c=n(1676),d=n(1703),h=a(n(1706)),f=n(1675),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.string=null,t.isaAttributedStringIterator=!0,t}return r(t,e),t.prototype.clone=function(){return t.createCloneOf(this)},t.prototype.insertAttrStrOrCP=function(e,t){if(!e)return l.NoOpOperation.instance;var n,r;if(0===(n=l.isString(e)?e.toCodePoints():s.isReadonlyArray(e)?e:h.utf16StringToCodePoints(e)).length)return l.NoOpOperation.instance;l.isAttributedString(e)?r=f.TTAttributedString2.attributeIntervalsFromAttributedString(e):(r=c.PooledIntervalTree.create(u.NumberIntervalComparator.instance,0)).insertInterval(0,n.length,d.TTAttrDict.create());var i=this.string.insertCodePointsWithAttributeIntervals(this,n,r,null!==t&&void 0!==t?t:l.DEFAULT_INSERT_AFFINITY);return r.free(),i},t.prototype.insertWithAttributes=function(e,t,n){if(!e)return l.NoOpOperation.instance;var r,i;if(0===(r=l.isString(e)?e.toCodePoints():s.isReadonlyArray(e)?e:h.utf16StringToCodePoints(e)).length)return l.NoOpOperation.instance;Array.isArray(t)?i=this.attributeIntervalsFromAttributesArray(t):(i=c.PooledIntervalTree.create(u.NumberIntervalComparator.instance,0)).insertInterval(0,r.length,void 0===t?d.TTAttrDict.create():t);var o=this.string.insertCodePointsWithAttributeIntervals(this,r,i,null!==n&&void 0!==n?n:l.DEFAULT_INSERT_AFFINITY);return i.free(),o},Object.defineProperty(t.prototype,"nextAttributes",{get:function(){return this.hasNext?this._string._activeMergeContext?this._string._activeMergeContext.currentString.attributesAtIndex_effectiveRange(this.nextCodePointCodeUnitIndex,null):this._string.mergeableString.attributesAtIndex_effectiveRange(this.nextCodePointCodeUnitIndex,null):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousAttributes",{get:function(){return this.hasPrevious?this._string._activeMergeContext?this._string._activeMergeContext.currentString.attributesAtIndex_effectiveRange(this.previousCodePointCodeUnitIndex,null):this._string.mergeableString.attributesAtIndex_effectiveRange(this.previousCodePointCodeUnitIndex,null):null},enumerable:!1,configurable:!0}),t.prototype.attributeIntervalsFromAttributesArray=function(e){var t=c.PooledIntervalTree.create(u.NumberIntervalComparator.instance,0);if(e.length>0){for(var n=0,r=e[0],i=1,o=e.length;i<o;++i)r!==e[i]&&(t.insertInterval(n,i-1,r),n=i,r=e[i]);t.insertInterval(n,e.length-1,r)}return t},t.prototype.insert=function(e,t){return this.insertAttrStrOrCP(e,t)},t.prototype.toString=function(){return l.iteratorName("TTAttributedStringIterator2",this)},t.createAtLeftOfCodePointIndex=function(e,t,n){var r=this.alloc();return r.initTTStringIteratorBase2(e,t,n),r.autorelease()},t.createAtCharIDWithAffinity=function(e,t,n){var r=this.alloc();return r.initAtCharIDWithAffinity(e,t,n),r.autorelease()},t.createAtStart=function(e,t){var n=this.alloc();return n.initTTStringIteratorBase2(e,0,null!==t&&void 0!==t?t:l.DEFAULT_ITERATOR_AFFINITY),n.autorelease()},t.createAtEnd=function(e,t){var n=this.alloc();return n.initTTStringIteratorBase2(e,e.length,null!==t&&void 0!==t?t:l.IteratorAffinity.AFTER),n.autorelease()},t.createCloneOf=function(e){var t=this.alloc();return t.initFromIteratorBase2(e),t.autorelease()},t}(n(1748).TTStringIteratorBase2);t.TTAttributedStringIterator2=p,p.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TTStringIteratorBase2=t.PooledCodePointInfo=void 0;var l=n(1749),u=n(1561),c=n(1543),d=s(n(1764)),h=s(n(1706)),f=n(1706),p=n(1714),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.codePoint=u.UNDEFINED_CODEPOINT,t.codeUnitIndex=null,t.exists=!1,t.codePointIndex=null,t}var n;return r(t,e),n=t,t.prototype.setCodeUnitIndex=function(e){this.codeUnitIndex=e},t.prototype.setCodePointIndex=function(e){this.codePointIndex=e},t.prototype.setCodeUnitIndexAndCodePointIndex=function(e,t){this.codeUnitIndex=e,this.codePointIndex=t},t.prototype.clone=function(){var e=n.create(),t=e;return t.codePoint=this.codePoint,t.codeUnitIndex=this.codeUnitIndex,t.exists=this.exists,t.codePointIndex=this.codePointIndex,e},t.prototype.reset=function(e){this.codePoint=e.codePoint,this.codeUnitIndex=e.codeUnitIndex,this.exists=e.exists,this.codePointIndex=e.codePointIndex},t.prototype.resetTo=function(e,t,n,r){this.codePoint=e,this.codeUnitIndex=t,this.exists=n,this.codePointIndex=r},t.prototype.free=function(){this.codePoint=u.UNDEFINED_CODEPOINT,this.codeUnitIndex=null,this.exists=!1,this.codePointIndex=null,e.prototype.free.call(this)},t.create=function(){return this.alloc_own()},n=a([c.sealed],t)}(c.Pooled);t.PooledCodePointInfo=g,g.initializePooled();var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._affinity=u.IteratorAffinity.BEFORE,t.iteratorIndex=-1,t._previousCodePointInfo=null,t._nextCodePointInfo=null,t._string=null,t.dbg_relativeOrderIndex=-1,t}return r(t,e),Object.defineProperty(t.prototype,"affinity",{get:function(){return this._affinity},set:function(e){if(e!==this._affinity){switch(this.affinity){case u.IteratorAffinity.BEFORE:this.cacheNextCodePointInfoIfUncached();break;case u.IteratorAffinity.AFTER:this.cachePreviousCodePointInfoIfUncached()}this._affinity=e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextCodePoint",{get:function(){return this.cacheNextCodePointInfoIfUncached(),this._nextCodePointInfo.codePoint},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousCodePoint",{get:function(){return this.cachePreviousCodePointInfoIfUncached(),this._previousCodePointInfo.codePoint},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasNext",{get:function(){return this.cacheNextCodePointInfoIfUncached(),this._nextCodePointInfo.exists},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPrevious",{get:function(){return this.cachePreviousCodePointInfoIfUncached(),this._previousCodePointInfo.exists},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.nextCodePointIndex},enumerable:!1,configurable:!0}),t.prototype.distanceFrom=function(e){return this._previousCodePointInfo?u.CodePointCountOps.subtract(this.previousCodePointIndex,e.previousCodePointIndex):u.CodePointCountOps.subtract(this.nextCodePointIndex,e.nextCodePointIndex)},t.prototype.distanceFromStart=function(){return this._previousCodePointInfo?u.CodePointCountOps.incremented(this.previousCodePointIndex):this.nextCodePointIndex},t.prototype.distanceTo=function(e){return e.distanceFrom(this)},t.prototype.approximateDistanceFrom=function(e){return this._previousCodePointInfo?u.CodeUnitIndexOps.subtract(this.previousCodePointCodeUnitIndex,e.previousCodePointCodeUnitIndex):u.CodeUnitIndexOps.subtract(this.nextCodePointCodeUnitIndex,e.nextCodePointCodeUnitIndex)},t.prototype.approximateDistanceFromStart=function(){return this.nextCodePointCodeUnitIndex},t.prototype.approximateDistanceTo=function(e){return-this.approximateDistanceFrom(e)},t.prototype.isBefore=function(e){return this._previousCodePointInfo?this.previousCodePointCodeUnitIndex<e.previousCodePointCodeUnitIndex:this.nextCodePointCodeUnitIndex<e.nextCodePointCodeUnitIndex},t.prototype.isAfter=function(e){return e.isBefore(this)},t.prototype.equals=function(e){return this===e||(this.affinity===e.affinity&&this.affinity===u.IteratorAffinity.BEFORE?this.previousCodePointCodeUnitIndex===e.previousCodePointCodeUnitIndex:this.nextCodePointCodeUnitIndex===e.nextCodePointCodeUnitIndex)},t.prototype.compare=function(e){return this.equals(e)?0:this._previousCodePointInfo?this.previousCodePointCodeUnitIndex-e.previousCodePointCodeUnitIndex:this.nextCodePointCodeUnitIndex-e.nextCodePointCodeUnitIndex},t.prototype.reset=function(e){this._previousCodePointInfo&&this._previousCodePointInfo.free(),this._previousCodePointInfo=e._previousCodePointInfo?e._previousCodePointInfo.clone():null,this._nextCodePointInfo&&this._nextCodePointInfo.free(),this._nextCodePointInfo=e._nextCodePointInfo?e._nextCodePointInfo.clone():null},t.prototype.moveToNext=function(){this.cacheNextCodePointInfoIfUncached();var e=this._string.isMerging?this._string.mergeContext.currentString.UTF16String:this._string.mergeableString.attributedString.UTF16String,t=this._previousCodePointInfo;return this._previousCodePointInfo=this._nextCodePointInfo,this._nextCodePointInfo=t||g.create(),d.getNextCodePointCodeUnitInfoAtCodeUnitIndex(e,this._previousCodePointInfo.codeUnitIndex,this._nextCodePointInfo),this._nextCodePointInfo.setCodePointIndex(u.CodePointIndexOps.incremented(this._previousCodePointInfo.codePointIndex)),this._nextCodePointInfo.exists},t.prototype.moveToPrevious=function(){this.cachePreviousCodePointInfoIfUncached();var e=this._string.isMerging?this._string.mergeContext.currentString.UTF16String:this._string.mergeableString.attributedString.UTF16String,t=this._nextCodePointInfo;return this._nextCodePointInfo=this._previousCodePointInfo,this._previousCodePointInfo=t||g.create(),d.getPreviousCodePointCodeUnitInfoAtCodeUnitIndex(e,this._nextCodePointInfo.codeUnitIndex,this._previousCodePointInfo),this._previousCodePointInfo.setCodePointIndex(u.CodePointIndexOps.decremented(this._nextCodePointInfo.codePointIndex)),this._previousCodePointInfo.exists},t.prototype.moveToNextByOffset=function(e){if(0===e)return this.hasNext;if(1===e)return this.moveToNext();if(e<0)return this.moveToPreviousByOffset(-e);var t=this._string.isMerging?this._string.mergeContext.currentString.UTF16String:this._string.mergeableString.attributedString.UTF16String;switch(this.affinity){case u.IteratorAffinity.BEFORE:var n=u.CodePointIndexOps.add(this._previousCodePointInfo.codePointIndex,e),r=this._string._activeMergeContext?h.utf16StringCodeUnitIndexForCodePointIndex(t,n):this._string.mergeableString.getCodeUnitIndexForCodePointIndex(n),i=t.codePointAt(r);this._previousCodePointInfo.resetTo(void 0!==i?i:u.UNDEFINED_CODEPOINT,r,void 0!==i,n),this.invalidateNextCodePointInfo();break;case u.IteratorAffinity.AFTER:n=u.CodePointIndexOps.add(this._nextCodePointInfo.codePointIndex,e),r=this._string._activeMergeContext?h.utf16StringCodeUnitIndexForCodePointIndex(t,n):this._string.mergeableString.getCodeUnitIndexForCodePointIndex(n),i=t.codePointAt(r),this._nextCodePointInfo.resetTo(void 0!==i?i:u.UNDEFINED_CODEPOINT,r,void 0!==i,n),this.invalidatePreviousCodePointInfo()}return this.dbg_assertCorrectCodeUnitIndices(),this.hasNext},t.prototype.moveToPreviousByOffset=function(e){if(0===e)return this.hasPrevious;if(1===e)return this.moveToPrevious();if(e<0)return this.moveToNextByOffset(-e);var t=this._string.isMerging?this._string.mergeContext.currentString.UTF16String:this._string.mergeableString.attributedString.UTF16String;switch(this.affinity){case u.IteratorAffinity.BEFORE:var n=u.CodePointIndexOps.subtract(this._previousCodePointInfo.codePointIndex,e),r=this._string._activeMergeContext?h.utf16StringCodeUnitIndexForCodePointIndex(t,n):this._string.mergeableString.getCodeUnitIndexForCodePointIndex(n),i=t.codePointAt(r);this._previousCodePointInfo.resetTo(void 0!==i?i:u.UNDEFINED_CODEPOINT,r,void 0!==i,n),this.invalidateNextCodePointInfo();break;case u.IteratorAffinity.AFTER:n=u.CodePointIndexOps.subtract(this._nextCodePointInfo.codePointIndex,e),r=this._string._activeMergeContext?h.utf16StringCodeUnitIndexForCodePointIndex(t,n):this._string.mergeableString.getCodeUnitIndexForCodePointIndex(n),i=t.codePointAt(r),this._nextCodePointInfo.resetTo(void 0!==i?i:u.UNDEFINED_CODEPOINT,r,void 0!==i,n),this.invalidatePreviousCodePointInfo()}return this.dbg_assertCorrectCodeUnitIndices(),this.hasPrevious},t.prototype.moveBy=function(e){0!==e&&(e>0?this.hasNext&&this.moveToNextByOffset(e):e<0&&this.hasPrevious&&this.moveToPreviousByOffset(-e))},t.prototype.insertCodePoints=function(e,t){var n=l.ArrayString.create(e);return this.insert(n,t)},t.prototype.insert=function(e,t){return this._string.insertString(this,e,t||u.DEFAULT_INSERT_AFFINITY)},t.prototype.moveForwardUntil=function(e,t){var n=this;if(!this.hasNext)return!1;var r=this._string.isMerging?this._string.mergeContext.currentString.UTF16String:this._string.mergeableString.attributedString.UTF16String,i=t?t.nextCodePointCodeUnitIndex:r.length,o=p.UNDEFINED_CODE_POINT_INDEX,a=p.UNDEFINED_CODE_UNIT_INDEX,s=p.UNDEFINED_CODE_POINT_INDEX,l=p.UNDEFINED_CODE_UNIT_INDEX,c=u.UNDEFINED_CODEPOINT;switch(this.affinity){case u.IteratorAffinity.BEFORE:o=u.CodePointIndexOps.add(this._previousCodePointInfo.codePointIndex,1),a=this._string._activeMergeContext?h.utf16StringCodeUnitIndexForCodePointIndex(r,o):this._string.mergeableString.getCodeUnitIndexForCodePointIndex(o),s=u.CodePointIndexOps.add(o,1),l=u.CodeUnitIndexOps.add(a,1);var d=r.charCodeAt(a);f.isLeadingSurrogate(d)&&++l,c=r.codePointAt(a);break;case u.IteratorAffinity.AFTER:o=this._nextCodePointInfo.codePointIndex,a=this._nextCodePointInfo.codeUnitIndex,s=u.CodePointIndexOps.add(this._nextCodePointInfo.codePointIndex,1),l=this._string._activeMergeContext?h.utf16StringCodeUnitIndexForCodePointIndex(r,s):this._string.mergeableString.getCodeUnitIndexForCodePointIndex(s),c=this._nextCodePointInfo.codePoint}for(var y=function(){return n.string.iteratorAt(s)},v=u.UNDEFINED_CODEPOINT;l<i&&!e(c,v=r.codePointAt(l),y);)c=v,a=l,o=s,d=r.charCodeAt(l),f.isLeadingSurrogate(d)&&++l,++l,++s;this._previousCodePointInfo||(this._previousCodePointInfo=g.create()),this._previousCodePointInfo.resetTo(c,a,!0,o),this._nextCodePointInfo||(this._nextCodePointInfo=g.create());var m=l<Math.min(i,r.length);return this._nextCodePointInfo.resetTo(m?v:u.UNDEFINED_CODEPOINT,l,m,s),this.dbg_assertCorrectCodeUnitIndices(),this.hasNext},t.prototype.moveBackwardUntil=function(e,t){var n=this;if(!this.hasPrevious)return!1;var r=this._string.isMerging?this._string.mergeContext.currentString.UTF16String:this._string.mergeableString.attributedString.UTF16String,i=t?t.nextCodePointCodeUnitIndex:0,o=p.UNDEFINED_CODE_POINT_INDEX,a=p.UNDEFINED_CODE_UNIT_INDEX,s=p.UNDEFINED_CODE_POINT_INDEX,l=p.UNDEFINED_CODE_UNIT_INDEX,c=u.UNDEFINED_CODEPOINT;switch(this.affinity){case u.IteratorAffinity.BEFORE:o=this._previousCodePointInfo.codePointIndex,a=this._previousCodePointInfo.codeUnitIndex,s=u.CodePointIndexOps.subtract(this._previousCodePointInfo.codePointIndex,1),l=this._string._activeMergeContext?h.utf16StringCodeUnitIndexForCodePointIndex(r,s):this._string.mergeableString.getCodeUnitIndexForCodePointIndex(s),c=this._previousCodePointInfo.codePoint;break;case u.IteratorAffinity.AFTER:o=u.CodePointIndexOps.subtract(this._nextCodePointInfo.codePointIndex,1),a=this._string._activeMergeContext?h.utf16StringCodeUnitIndexForCodePointIndex(r,o):this._string.mergeableString.getCodeUnitIndexForCodePointIndex(o),s=u.CodePointIndexOps.subtract(o,1),l=u.CodeUnitIndexOps.subtract(a,1);var d=r.charCodeAt(l);f.isTrailingSurrogate(d)&&--l,c=r.codePointAt(a)}for(var y=function(){return n.string.iteratorAt(s+1)},v=u.UNDEFINED_CODEPOINT;l>=i&&!e(v=r.codePointAt(l),c,y);)c=v,a=l,o=s,--l,--s,d=r.charCodeAt(l),f.isTrailingSurrogate(d)&&--l;this._previousCodePointInfo||(this._previousCodePointInfo=g.create());var m=l>=Math.max(i,0);return this._previousCodePointInfo.resetTo(m?v:u.UNDEFINED_CODEPOINT,l,m,s),this._nextCodePointInfo||(this._nextCodePointInfo=g.create()),this._nextCodePointInfo.resetTo(c,a,!0,o),this.dbg_assertCorrectCodeUnitIndices(),this.hasPrevious},Object.defineProperty(t.prototype,"previousCodePointCodeUnitIndex",{get:function(){return this.cachePreviousCodePointInfoIfUncached(),this._previousCodePointInfo.codeUnitIndex},enumerable:!1,configurable:!0}),t.prototype.setPreviousCodePointCodeUnitIndexAndCodePointIndex=function(e,t){this.cachePreviousCodePointInfoIfUncached(),this._previousCodePointInfo.setCodeUnitIndexAndCodePointIndex(e,t)},t.prototype.resetPreviousCodePointTo=function(e,t,n){this.cachePreviousCodePointInfoIfUncached();var r=void 0===n?u.UNDEFINED_CODEPOINT:n;this._previousCodePointInfo.resetTo(r,e,r!==u.UNDEFINED_CODEPOINT,t)},Object.defineProperty(t.prototype,"nextCodePointCodeUnitIndex",{get:function(){return this.cacheNextCodePointInfoIfUncached(),this._nextCodePointInfo.codeUnitIndex},enumerable:!1,configurable:!0}),t.prototype.setNextCodePointCodeUnitIndexAndCodePointIndex=function(e,t){this.cacheNextCodePointInfoIfUncached(),this._nextCodePointInfo.setCodeUnitIndexAndCodePointIndex(e,t)},t.prototype.resetNextCodePointTo=function(e,t,n){this.cacheNextCodePointInfoIfUncached();var r=void 0===n?u.UNDEFINED_CODEPOINT:n;this._nextCodePointInfo.resetTo(r,e,r!==u.UNDEFINED_CODEPOINT,t)},t.prototype.dbg_assertNextCodeUnitIsValid=function(){c.DEBUG},Object.defineProperty(t.prototype,"previousCodePointInfo",{get:function(){return this.cachePreviousCodePointInfoIfUncached(),this._previousCodePointInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maybePreviousCodePointInfo",{get:function(){return this._previousCodePointInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextCodePointInfo",{get:function(){return this.cacheNextCodePointInfoIfUncached(),this._nextCodePointInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maybeNextCodePointInfo",{get:function(){return this._nextCodePointInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousCodePointIndex",{get:function(){if(this.affinity===u.IteratorAffinity.AFTER&&this.cachePreviousCodePointInfoIfUncached(),null===this._previousCodePointInfo.codePointIndex){var e=this._string.getCodePointIndexForCodeUnitIndex(this._previousCodePointInfo.codeUnitIndex);this._previousCodePointInfo.setCodePointIndex(e)}return this._previousCodePointInfo.codePointIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextCodePointIndex",{get:function(){if(this.cacheNextCodePointInfoIfUncached(),null===this._nextCodePointInfo.codePointIndex){var e=this._string.getCodePointIndexForCodeUnitIndex(this._nextCodePointInfo.codeUnitIndex);this._nextCodePointInfo.setCodePointIndex(e)}return this._nextCodePointInfo.codePointIndex},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){switch(this.affinity){case u.IteratorAffinity.BEFORE:this.invalidateNextCodePointInfo();break;case u.IteratorAffinity.AFTER:this.invalidatePreviousCodePointInfo()}},t.prototype.invalidatePreviousCodePointInfo=function(){this._previousCodePointInfo&&(this._previousCodePointInfo.free(),this._previousCodePointInfo=null)},t.prototype.invalidateNextCodePointInfo=function(){this._nextCodePointInfo&&(this._nextCodePointInfo.free(),this._nextCodePointInfo=null)},t.prototype.cachePreviousCodePointInfoIfUncached=function(){null===this._previousCodePointInfo&&this.cachePreviousCodePointInfo()},t.prototype.initPreviousCodePointInfo=function(e){if(this._previousCodePointInfo=g.create(),this._string.isMerging){if(0===(r=this._string.mergeContext.currentString.UTF16String).length)return this._previousCodePointInfo.setCodeUnitIndex(-1),void this._previousCodePointInfo.setCodePointIndex(-1);var t=h.utf16StringCodeUnitIndexForCodePointIndex(r,e);d.getCodePointInfoAtCodeUnitIndex(r,t,this._previousCodePointInfo),this._previousCodePointInfo.setCodePointIndex(e)}else{var n=this._string.mergeableString;if(0===n.length)return this._previousCodePointInfo.setCodeUnitIndex(-1),void this._previousCodePointInfo.setCodePointIndex(-1);var r=n.attributedString.UTF16String;t=n.getCodeUnitIndexForCodePointIndex(e),d.getCodePointInfoAtCodeUnitIndex(r,t,this._previousCodePointInfo),this._previousCodePointInfo.setCodePointIndex(e)}},t.prototype.cachePreviousCodePointInfo=function(){if(this._previousCodePointInfo=g.create(),this._string.isMerging){if(0===(t=this._string.mergeContext.currentString.UTF16String).length)return this._previousCodePointInfo.setCodeUnitIndex(-1),void this._previousCodePointInfo.setCodePointIndex(-1);d.getPreviousCodePointCodeUnitInfoAtCodeUnitIndex(t,this._nextCodePointInfo.codeUnitIndex,this._previousCodePointInfo),this._previousCodePointInfo.setCodePointIndex(u.CodePointIndexOps.decremented(this._nextCodePointInfo.codePointIndex))}else{var e=this._string.mergeableString;if(0===e.length)return this._previousCodePointInfo.setCodeUnitIndex(-1),void this._previousCodePointInfo.setCodePointIndex(-1);var t=e.attributedString.UTF16String;d.getPreviousCodePointCodeUnitInfoAtCodeUnitIndex(t,this._nextCodePointInfo.codeUnitIndex,this._previousCodePointInfo),this._previousCodePointInfo.setCodePointIndex(u.CodePointIndexOps.decremented(this._nextCodePointInfo.codePointIndex))}},t.prototype.cacheNextCodePointInfoIfUncached=function(){null===this._nextCodePointInfo&&this.cacheNextCodePointInfo()},t.prototype.initNextCodePointInfo=function(e){if(this._nextCodePointInfo=g.create(),this._string.isMerging){if(0===(r=this._string.mergeContext.currentString.UTF16String).length)return this._nextCodePointInfo.setCodeUnitIndex(u.ZERO_CODE_UNIT_INDEX),void this._nextCodePointInfo.setCodePointIndex(u.ZERO_CODE_POINT_INDEX);var t=h.utf16StringCodeUnitIndexForCodePointIndex(r,e);d.getCodePointInfoAtCodeUnitIndex(r,t,this._nextCodePointInfo),this._nextCodePointInfo.setCodePointIndex(e)}else{var n=this._string.mergeableString;if(0===n.length)return this._nextCodePointInfo.setCodeUnitIndex(u.ZERO_CODE_UNIT_INDEX),void this._nextCodePointInfo.setCodePointIndex(u.ZERO_CODE_POINT_INDEX);var r=n.attributedString.UTF16String;t=n.getCodeUnitIndexForCodePointIndex(e),d.getCodePointInfoAtCodeUnitIndex(r,t,this._nextCodePointInfo),this._nextCodePointInfo.setCodePointIndex(e)}},t.prototype.cacheNextCodePointInfo=function(){if(this._nextCodePointInfo=g.create(),this._string.isMerging){if(0===(t=this._string.mergeContext.currentString.UTF16String).length)return this._nextCodePointInfo.setCodeUnitIndex(u.ZERO_CODE_UNIT_INDEX),void this._nextCodePointInfo.setCodePointIndex(u.ZERO_CODE_POINT_INDEX);d.getNextCodePointCodeUnitInfoAtCodeUnitIndex(t,this._previousCodePointInfo.codeUnitIndex,this._nextCodePointInfo),this._nextCodePointInfo.setCodePointIndex(u.CodePointIndexOps.incremented(this._previousCodePointInfo.codePointIndex))}else{var e=this._string.mergeableString;if(0===e.length)return this._nextCodePointInfo.setCodeUnitIndex(u.ZERO_CODE_UNIT_INDEX),void this._nextCodePointInfo.setCodePointIndex(u.ZERO_CODE_POINT_INDEX);var t=e.attributedString.UTF16String;d.getNextCodePointCodeUnitInfoAtCodeUnitIndex(t,this._previousCodePointInfo.codeUnitIndex,this._nextCodePointInfo),this._nextCodePointInfo.setCodePointIndex(u.CodePointIndexOps.incremented(this._previousCodePointInfo.codePointIndex))}},Object.defineProperty(t.prototype,"dbg_posString",{get:function(){switch(this._affinity){case u.IteratorAffinity.BEFORE:return"[("+this.previousCodePoint+")| "+this.position+" |"+this.nextCodePoint+"]";case u.IteratorAffinity.AFTER:return"["+this.previousCodePoint+"| "+this.position+" |("+this.nextCodePoint+")]"}},enumerable:!1,configurable:!0}),t.prototype.dbg_assertIsValid=function(){},t.prototype.dbg_isValid=function(e,t){if(this.nextCodePointIndex-this.previousCodePointIndex!==1)return!1;if(void 0!==e&&void 0!==t||(e=this._string._activeMergeContext?this._string._activeMergeContext.currentString.UTF16String:this._string.toString()),this.previousCodePointCodeUnitIndex<0){if(-1!==this.previousCodePointCodeUnitIndex)return!1;if(this.previousCodePoint!==u.UNDEFINED_CODEPOINT)return!1}else{var n=e.codePointAt(this.previousCodePointCodeUnitIndex);if(this.previousCodePoint!==n)return!1}if(this.nextCodePointCodeUnitIndex>=e.length){if(this.nextCodePointCodeUnitIndex!==e.length)return!1;if(this.nextCodePoint!==u.UNDEFINED_CODEPOINT)return!1}else{var r=e.codePointAt(this.nextCodePointCodeUnitIndex);if(this.nextCodePoint!==r)return!1}return!0},t.prototype.dbg_assertCorrectCodeUnitIndices=function(){},t.prototype.instanceInit=function(){e.prototype.instanceInit.call(this),this._affinity=u.IteratorAffinity.BEFORE},t.prototype.free=function(){this._nextCodePointInfo&&(this._nextCodePointInfo.free(),this._nextCodePointInfo=null),this._previousCodePointInfo&&(this._previousCodePointInfo.free(),this._previousCodePointInfo=null),this._string&&(this._string.unregisterIterator(this),this._string.release(),this._string=null),this.iteratorIndex=-1,this.dbg_relativeOrderIndex=-1,e.prototype.free.call(this)},t.prototype.initTTStringIteratorBase2=function(t,n,r){switch(e.prototype.initStringIteratorBase.call(this,t),this._affinity=r||u.DEFAULT_ITERATOR_AFFINITY,this._string=t.retain(),n<0&&(n=u.ZERO_CODE_POINT_INDEX),n>t.length&&(n=t.length),this.affinity){case u.IteratorAffinity.BEFORE:this.initPreviousCodePointInfo(u.CodePointIndexOps.decremented(n));break;case u.IteratorAffinity.AFTER:this.initNextCodePointInfo(n)}t.registerIterator(this)},t.prototype.initAtCharIDWithAffinity=function(t,n,r){e.prototype.initStringIteratorBase.call(this,t),this._string=t.retain(),this._affinity=r,t.registerIterator(this)},t.prototype.initFromIteratorBase2=function(t){var n=t._string;e.prototype.initStringIteratorBase.call(this,n),this._string=n.retain(),this._affinity=t.affinity,t._previousCodePointInfo&&(this._previousCodePointInfo=t._previousCodePointInfo.clone()),t._nextCodePointInfo&&(this._nextCodePointInfo=t._nextCodePointInfo.clone()),this.dbg_assertCorrectCodeUnitIndices(),n.registerIterator(this)},t}(u.StringIteratorBase);t.TTStringIteratorBase2=y},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1750),t),i(n(1759),t),i(n(1761),t),i(n(1758),t),i(n(1762),t),i(n(1760),t),i(n(1752),t),i(n(1755),t),i(n(1756),t),i(n(1757),t),i(n(1763),t)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ArrAttrStr=t.ArrayAttributedString=void 0;var o=n(1594),a=n(1561),s=n(1543),l=n(1751),u=n(1758),c=function(){function e(){}return Object.defineProperty(e,"ArrayAttributedStringIteratorModule",{get:function(){return null===this._ArrayAttributedStringIteratorModule&&(this._ArrayAttributedStringIteratorModule=n(1759)),this._ArrayAttributedStringIteratorModule},enumerable:!1,configurable:!0}),e._ArrayAttributedStringIteratorModule=null,e}(),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isaAttributedString=!0,t.attributes=[],t._attrStrObservers=[],t}var n;return r(t,e),n=t,t.prototype.iteratorAt=function(e,t){return e>this.length&&(e=this.length,t=null!==t&&void 0!==t?t:a.IteratorAffinity.AFTER),c.ArrayAttributedStringIteratorModule.ArrayAttributedStringIterator.create(this,e,t)},t.prototype.insertCodePoints=function(e,t,n){var r=t.length;if(0===r)return a.NoOpOperation.instance;this.beginEditing();var i=this.iteratorAt(e.position);i.affinity=a.IteratorAffinity.BEFORE;var o=this.iteratorAt(e.position);o.affinity=a.IteratorAffinity.AFTER;var s=e.position;if(this.codePoints=this.codePoints.slice(0,s).concat(t).concat(this.codePoints.slice(s)),this.attributes.length<this.codePoints.length){for(var u=[],c=0,d=t.length;c<d;++c)u.push(a.AttrDict.create().retain());this.attributes=this.attributes.slice(0,s).concat(u).concat(this.attributes.slice(s))}return this.updateIteratorsForInsertion(e,s,r,n),this.length=this.length+r,this.didInsert(i,o),this.endEditing(),l.ArrStrInsertOperation.create(this,s,t,n)},t.prototype.delete=function(e,t){var n=t.position-e.position;if(0===n)return a.NoOpOperation.instance;this.beginEditing();for(var r=this.attributes.splice(e.position,n),i=this.codePoints.splice(e.position,n),o=l.ArrAttrStrDeleteOperation.create(this,e.position,i,r),s=0,u=r;s<u.length;s++)u[s].release();return this.updateIteratorsForDeletion(e,e.position,n),this.length=this.length-n,this.didDelete(e,n),this.endEditing(),o},t.prototype.copyAttributesInRangeToArray=function(e,t,n,r){void 0===r&&(r=!0),r&&(n.length=0);var i=e.position,o=t.position;if(!(o<=i))for(var a=this.attributes,s=i;s<o;)n.push(a[s]),++s},t.prototype.copyCodePointsAndAttributesInRangeToArrays=function(e,t,n,r,i){void 0===i&&(i=!0),i&&(n.length=0,r.length=0);var o=e.position,a=t.position;if(!(a<=o))for(var s=this.codePoints,l=this.attributes,u=o;u<a;)n.push(s[u]),r.push(l[u]),++u},t.prototype.forEachWithAttributesInIndexRange=function(e,t,n){if(!(t<=e))for(var r=this.codePoints,i=this.attributes,o=e;o<t;++o)n(r[o],i[o],o)},t.prototype.forEachWithAttributesInRange=function(e,t,n){this.forEachWithAttributesInIndexRange(e.position,t.position,n)},t.prototype.forEachWithAttributes=function(e){this.forEachWithAttributesInIndexRange(a.ZERO_CODE_POINT_INDEX,this.length,e)},t.prototype.someWithAttributesInIndexRange=function(e,t,n){if(t<=e)return!1;for(var r=this.codePoints,i=this.attributes,o=e;o<t;++o)if(n(r[o],i[o],o))return!0;return!1},t.prototype.someWithAttributesInRange=function(e,t,n){return this.someWithAttributesInIndexRange(e.position,t.position,n)},t.prototype.someWithAttributes=function(e){return this.someWithAttributesInIndexRange(a.ZERO_CODE_POINT_INDEX,this.length,e)},t.prototype.alterAttributesInRange=function(e,t,n){this.beginEditing();for(var r=e.position,i=t.position,o=[],a=[],s=r,u=0;s<i;++s,++u){var c=this.attributes[s];o.push(c.retain());var d=n(c,u);c!==d&&(this.attributes[s]=d.retain(),c&&c.release()),a.push(d.retain())}this.notifyDidAlterAttributes(e,t),this.endEditing();for(var h=l.ArrAttrStrAlterAttributesInRangeOperation.create(this,e.position,t.position,o,a),f=0,p=a;f<p.length;f++)p[f].release();for(var g=0,y=o;g<y.length;g++)y[g].release();return h},t.prototype.addAttributeToRange=function(e,t,n,r){return this.alterAttributesInRange(e,t,(function(e){return e.set(n,r)}))},t.prototype.removeAttributeFromRange=function(e,t,n){return this.alterAttributesInRange(e,t,(function(e){return e.set(n,null)}))},t.prototype.addAttributedStringObserver=function(e){this._attrStrObservers.push(e)},t.prototype.removeAttributedStringObserver=function(e){var t=this._attrStrObservers.indexOf(e);t>=0&&this._attrStrObservers.splice(t,1)},t.prototype.notifyDidAlterAttributes=function(e,t){for(var n=0,r=this._attrStrObservers.slice(0);n<r.length;n++)r[n].attributedStringDidAlterAttributes(this,e.clone(),t.clone())},t.prototype.prependArrStrWithoutNotifications=function(t){for(var n=t.attributes.slice(0),r=0,i=n;r<i.length;r++)i[r].retain();this.attributes=n.concat(this.attributes),e.prototype.prependArrStrWithoutNotifications.call(this,t)},t.prototype.appendArrStrWithoutNotifications=function(t){for(var n=t,r=0,i=n.attributes;r<i.length;r++)i[r].retain();this.attributes=this.attributes.concat(n.attributes),e.prototype.appendArrStrWithoutNotifications.call(this,t)},Object.defineProperty(t.prototype,"dbg_isValid",{get:function(){return this.attributes.length===this.codePoints.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dbg_kernAttributes",{get:function(){return"kerns: "+this.attributes.map((function(e){return e.kern})).join(", ")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dbg_superscriptAttributes",{get:function(){return"superscripts: "+this.attributes.map((function(e){return e.superscript})).join(", ")},enumerable:!1,configurable:!0}),t.prototype.free=function(){this._attrStrObservers.length=0;for(var t=0,n=this.attributes;t<n.length;t++)n[t].release();this.attributes.length=0,e.prototype.free.call(this)},t.prototype.initAttributesCopyFromAttrStr=function(e,t){var n="number"===typeof t,r=n?t:0;if(n){var i=[];i.length=e.length;var o=this.attributes,a=o.slice(0,t),s=o.slice(t);this.attributes=a.concat(i).concat(s)}else this.attributes.length=e.length;for(var l=e.atStart(),u=0;l.hasNext;)this.attributes[r+u]=l.nextAttributes.retain(),l.moveToNext(),++u},t.prototype.initAttributes=function(e,t){var n=null!==t&&void 0!==t?t:a.AttrDict.create();if(o.isReadonlyArray(n))for(var r=0;r<e;++r)this.attributes[r]=n[r].retain();else for(r=0;r<e;++r)this.attributes[r]=n.retain()},t.prototype.initArrayAttributedString=function(t,n){e.prototype.initArrayStringBase.call(this,t),!n&&a.isAttributedString(t)?this.initAttributesCopyFromAttrStr(t):this.initAttributes(this.codePoints.length,n)},t.create=function(e,t){var n=this.alloc();return n.initArrayAttributedString(e,t),n.autorelease()},t.createSubstringOf=function(e,t,n){var r;if(s.beginAutoreleaseFrame(),a.isAttributedStringIterator(t))r=a.isAttributedStringIterator(n)?a.createSliceOf(e,t,n):a.createSliceOf(e,t,e.atEnd());else{var i=e.atStart();if(i.moveBy(t),void 0!==n){var o=e.atStart();o.moveBy(n),r=a.createSliceOf(e,i,o)}else r=a.createSliceOf(e,i,e.atEnd())}var l=this.create(r).retain();return s.endAutoreleaseFrame(),l.autorelease()},t.prototype.createAttributeDictionary=function(e){return n.createAttributeDictionary(e)},t.createAttributeDictionary=function(e){return a.AttrDict.create(e)},n=i([s.sealed],t)}(u.ArrayStringBase);t.ArrayAttributedString=d,d.initializeRefcounted(),t.ArrAttrStr=d},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1752),t),i(n(1753),t),i(n(1755),t),i(n(1756),t),i(n(1754),t),i(n(1757),t)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ArrAttrStrAlterAttributesInRangeOperation=void 0;var o=n(1543),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._string=null,t._startPosition=null,t._endPosition=null,t._oldAttrDicts=null,t._newAttrDicts=null,t}return r(t,e),t.prototype.undo=function(){this._applyAttrDicts(this._oldAttrDicts)},t.prototype.redo=function(){this._applyAttrDicts(this._newAttrDicts)},t.prototype._applyAttrDicts=function(e){var t=this._string.iteratorAt(this._startPosition),n=this._string.iteratorAt(this._endPosition);this._string.alterAttributesInRange(t,n,(function(t,n){return e[n]}))},t.prototype.free=function(){for(var t=0,n=this._newAttrDicts;t<n.length;t++)n[t].release();for(var r=0,i=this._oldAttrDicts;r<i.length;r++)i[r].release();this._string.release(),e.prototype.free.call(this)},t.prototype.init=function(e,t,n,r,i){this._string=e.retain(),this._startPosition=t,this._endPosition=n,this._oldAttrDicts=r.map((function(e){return e.retain()})),this._newAttrDicts=i.map((function(e){return e.retain()}))},t.create=function(e,t,n,r,i){var o=this.alloc();return o.init(e,t,n,r,i),o.autorelease()},i([o.sealed],t)}(o.Refcounted);t.ArrAttrStrAlterAttributesInRangeOperation=a,a.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ArrAttrStrDeleteOperation=void 0;var o=n(1543),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._attributes=null,t}return r(t,e),t.prototype.undo=function(){this.string.iteratorAt(this._position).insertWithAttributes(this._codePoints,this._attributes)},t.prototype.free=function(){for(var t=0,n=this._attributes;t<n.length;t++)n[t].release();e.prototype.free.call(this)},t.prototype.initArrAttrStrDeleteOperation=function(t,n,r,i){e.prototype.init.call(this,t,n,r),this._attributes=i.map((function(e){return e.retain()}))},t.create=function(e,t,n,r){var i=this.alloc();return i.initArrAttrStrDeleteOperation(e,t,n,r),i.autorelease()},i([o.sealed],t)}(n(1754).ArrStrDeleteOperationBase);t.ArrAttrStrDeleteOperation=a,a.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ArrStrDeleteOperationBase=void 0;var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.string=null,t._position=null,t._codePoints=null,t}return r(t,e),t.prototype.undo=function(){this.string.iteratorAt(this._position).insert(this._codePoints)},t.prototype.redo=function(){var e=this.string.iteratorAt(this._position),t=e.clone();t.moveBy(this._codePoints.length),this.string.delete(e,t)},t.prototype.free=function(){this.string.release(),e.prototype.free.call(this)},t.prototype.init=function(e,t,n){this.string=e.retain(),this._position=t,this._codePoints=n},t}(n(1543).Refcounted);t.ArrStrDeleteOperationBase=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ArrAttrStrInsertWithAttributesOperation=void 0;var o=n(1543),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._string=null,t._position=null,t._insertedAttrStr=null,t._affinity=null,t}return r(t,e),t.prototype.undo=function(){var e=this._string.iteratorAt(this._position),t=e.clone();t.moveBy(this._insertedAttrStr.length),this._string.delete(e,t)},t.prototype.redo=function(){this._string.iteratorAt(this._position).insert(this._insertedAttrStr,this._affinity)},t.prototype.free=function(){this._insertedAttrStr.release(),this._string.release(),e.prototype.free.call(this)},t.prototype.init=function(e,t,n,r){this._string=e.retain(),this._position=t,this._insertedAttrStr=n.retain(),this._affinity=r},t.create=function(e,t,n,r){var i=this.alloc();return i.init(e,t,n,r),i.autorelease()},i([o.sealed],t)}(o.Refcounted);t.ArrAttrStrInsertWithAttributesOperation=a,a.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ArrStrDeleteOperation=void 0;var o=n(1543),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.create=function(e,t,n){var r=this.alloc();return r.init(e,t,n),r.autorelease()},i([o.sealed],t)}(n(1754).ArrStrDeleteOperationBase);t.ArrStrDeleteOperation=a,a.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ArrStrInsertOperation=void 0;var o=n(1543),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.string=null,t._position=null,t._codePoints=null,t._affinity=null,t}return r(t,e),t.prototype.undo=function(){var e=this.string.iteratorAt(this._position),t=e.clone();t.moveBy(this._codePoints.length),this.string.delete(e,t)},t.prototype.redo=function(){this.string.iteratorAt(this._position).insert(this._codePoints,this._affinity)},t.prototype.free=function(){this.string.release(),e.prototype.free.call(this)},t.prototype.init=function(e,t,n,r){this.string=e.retain(),this._position=t,this._codePoints=n,this._affinity=r},t.create=function(e,t,n,r){var i=this.alloc();return i.init(e,t,n,r),i.autorelease()},i([o.sealed],t)}(o.Refcounted);t.ArrStrInsertOperation=a,a.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ArrStrBase=t.ArrayStringBase=void 0;var i=n(1594),o=n(1561),a=n(1756),s=n(1757),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.codePoints=[],t.iterators=[],t}return r(t,e),t.prototype.copyCodePointsInRangeToArray=function(e,t,n,r){void 0===r&&(r=!0),r&&(n.length=0);var i=e.position,o=t.position;if(!(o<=i))for(var a=this.codePoints,s=i;s<o;)n.push(a[s]),++s},t.prototype.forEachInIndexRange=function(e,t,n){if(!(t<=e))for(var r=this.codePoints,i=e;i<t;)n(r[i],i),++i},t.prototype.forEachInRange=function(e,t,n){this.forEachInIndexRange(e.position,t.position,n)},t.prototype.forEach=function(e){this.forEachInIndexRange(o.ZERO_CODE_POINT_INDEX,this.length,e)},t.prototype.someInIndexRange=function(e,t,n){if(t<=e)return!1;for(var r=this.codePoints,i=e;i<t;){if(n(r[i],i))return!0;++i}return!1},t.prototype.someInRange=function(e,t,n){return this.someInIndexRange(e.position,t.position,n)},t.prototype.some=function(e){return this.someInIndexRange(o.ZERO_CODE_POINT_INDEX,this.length,e)},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this.length===o.MIN_CODE_POINT_COUNT},enumerable:!1,configurable:!0}),t.prototype.atEnd=function(e){void 0===e&&(e=o.IteratorAffinity.AFTER);var t=this.iteratorAt(this.codePoints.length);return t.affinity=e,t},t.prototype.delete=function(e,t){var n=t.position-e.position;if(0===n)return o.NoOpOperation.instance;this.beginEditing();var r=this.codePoints.splice(e.position,n);return this.updateIteratorsForDeletion(e,e.position,n),this.length=this.length-n,this.didDelete(e,n),this.endEditing(),a.ArrStrDeleteOperation.create(this,e.position,r)},t.prototype.addIterator=function(e){e.iteratorIndex=this.iterators.length,this.iterators.push(e)},t.prototype.removeIterator=function(e){var t=this.iterators.length,n=this.iterators[t-1];this.iterators[e.iteratorIndex]=n,n.iteratorIndex=e.iteratorIndex,this.iterators.pop()},t.prototype.updateIteratorsForInsertion=function(e,t,n,r){var i=0,a=this.iterators.length;if(0!==n)for(i=0;i<a;++i){var s=this.iterators[i];if(!(s.position<t)){if(s.position===t){var l=s.affinity;s===e&&(l=r),l===o.IteratorAffinity.AFTER&&(s.position=s.position+n)}else s.position=s.position+n;s.hasPrevious=s.position>0,s.setPreviousCodePoint(s.hasPrevious?this.codePoints[s.position-1]:o.UNDEFINED_CODEPOINT),s.hasNext=s.position<this.codePoints.length,s.setNextCodePoint(s.hasNext?this.codePoints[s.position]:o.UNDEFINED_CODEPOINT)}}},t.prototype.updateIteratorsForDeletion=function(e,t,n){var r=0,i=this.iterators.length,a=t+n;if(0!==n)for(r=0;r<i;++r){var s=this.iterators[r];s.position<t||(s.position<a?s.position=t:s.position=s.position-n,s.hasPrevious=s.position>0,s.setPreviousCodePoint(s.hasPrevious?this.codePoints[s.position-1]:o.UNDEFINED_CODEPOINT),s.hasNext=s.position<this.codePoints.length,s.setNextCodePoint(s.hasNext?this.codePoints[s.position]:o.UNDEFINED_CODEPOINT))}},t.prototype.insertCodePoints=function(e,t,n){var r=t.length;if(0===r)return o.NoOpOperation.instance;this.beginEditing();var i=this.iteratorAt(e.position);i.affinity=o.IteratorAffinity.BEFORE;var a=this.iteratorAt(e.position);a.affinity=o.IteratorAffinity.AFTER;var l=e.position;return this.codePoints=this.codePoints.slice(0,l).concat(t).concat(this.codePoints.slice(l)),this.updateIteratorsForInsertion(e,l,r,n),this.length=this.length+r,this.didInsert(i,a),this.endEditing(),s.ArrStrInsertOperation.create(this,l,t,n)},t.prototype.prependArrStrWithoutNotifications=function(e){var t=e.codePoints.slice(0);this.codePoints=t.concat(this.codePoints),this.length=this.codePoints.length,this.updateIterators()},t.prototype.appendArrStrWithoutNotifications=function(e){this.codePoints=this.codePoints.concat(e.codePoints),this.length=this.codePoints.length,this.updateIterators()},t.prototype.updateIterators=function(){for(var e=this.iterators.length,t=0;t<e;++t){var n=this.iterators[t];n.hasPrevious=n.position>0,n.setPreviousCodePoint(n.hasPrevious?this.codePoints[n.position-1]:o.UNDEFINED_CODEPOINT),n.hasNext=n.position<this.codePoints.length,n.setNextCodePoint(n.hasNext?this.codePoints[n.position]:o.UNDEFINED_CODEPOINT)}},Object.defineProperty(t.prototype,"dbg_codePoints",{get:function(){return this.codePoints},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dbg_iteratorPosStrs",{get:function(){return this.iterators.map((function(e){return e.dbg_positionString}))},enumerable:!1,configurable:!0}),t.prototype.instanceInit=function(){e.prototype.instanceInit.call(this),this.iterators.length=0},t.prototype.free=function(){e.prototype.free.call(this)},t.prototype.initArrayStringBase=function(e){var t;t=e?Array.isArray(e)?e.slice(0):o.isString(e)?e.toCodePoints():i.utf16StringToCodePoints(e):[],this.codePoints=t,this.length=t.length},t}(o.StringBase);t.ArrayStringBase=l,t.ArrStrBase=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ArrAttrStrIter=t.ArrayAttributedStringIterator=void 0;var i=n(1561),o=n(1751),a=n(1750),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.string=null,t.isaAttributedStringIterator=!0,t._string=null,t}return r(t,e),t.prototype.insert=function(e,t){return this.insertCodePoints(this.injectAttributesFrom(e).toCodePoints(),t)},t.prototype.clone=function(){var e=t.create(this._string,this.position);return e.affinity=this.affinity,e},Object.defineProperty(t.prototype,"nextAttributes",{get:function(){return this.hasNext?this._string.attributes[this.position]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousAttributes",{get:function(){return this.hasPrevious?this._string.attributes[this.position-1]:null},enumerable:!1,configurable:!0}),t.prototype.insertWithAttributes=function(e,t,n){var r=this.injectAttributesFrom(e,t);return this.insertCodePoints(r.toCodePoints(),n),o.ArrAttrStrInsertWithAttributesOperation.create(this.string,this.position,r,n)},t.prototype.injectAttributesFrom=function(e,t){var n;return n=i.isAttributedString(e)?e:a.ArrayAttributedString.create(e,t),this._string.initAttributesCopyFromAttrStr(n,this.position),n},t.create=function(e,t,n){var r=this.alloc();return r.initArrayStringIteratorBase(e,t,n),r.autorelease()},t.prototype.toString=function(){return i.iteratorName("ArrayAttributedStringIterator",this)},t}(n(1760).ArrayStringIteratorBase);t.ArrayAttributedStringIterator=s,s.initializeRefcounted(),t.ArrAttrStrIter=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ArrStrIterBase=t.ArrayStringIteratorBase=void 0;var i=n(1594),o=n(1561),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.affinity=o.DEFAULT_ITERATOR_AFFINITY,t.position=0,t.iteratorIndex=-1,t._string=null,t}return r(t,e),t.prototype.distanceFrom=function(e){return this.position-e.position},t.prototype.distanceFromStart=function(){return this.position},t.prototype.distanceTo=function(e){return e.position-this.position},t.prototype.approximateDistanceFromStart=function(){return this.position},t.prototype.moveToNext=function(){var e=++this.position;this.hasPrevious=!0;var t=this._string.codePoints,n=t.length>e;return this.hasNext=n,this.setPreviousCodePoint(t[e-1]),this.setNextCodePoint(n?t[e]:o.UNDEFINED_CODEPOINT),n},t.prototype.moveToPrevious=function(){var e=--this.position;this.hasNext=!0;var t=this._string.codePoints,n=e>0;return this.hasPrevious=n,this.setNextCodePoint(t[e]),this.setPreviousCodePoint(n?t[e-1]:o.UNDEFINED_CODEPOINT),n},t.prototype.moveBy=function(e){0!==e&&this.moveToCodePointIndex(o.CodePointIndexOps.add(this.position,e))},t.prototype.insertCodePoints=function(e,t){return void 0===t&&(t=o.DEFAULT_INSERT_AFFINITY),this._string.insertCodePoints(this,e,t)},t.prototype.insert=function(e,t){var n;return n="string"===typeof e?i.utf16StringToCodePoints(e):Array.isArray(e)?e:e.toCodePoints(),this.insertCodePoints(n,t)},t.prototype.moveToCodePointIndex=function(e){if(e!==this.position){var t=this._string.codePoints,n=t.length,r=e;r<0?r=0:r>n&&(r=n),this.position=r;var i=r>0;this.hasPrevious=i;var a=n>r;this.hasNext=a,this.setPreviousCodePoint(i?t[r-1]:o.UNDEFINED_CODEPOINT),this.setNextCodePoint(a?t[r]:o.UNDEFINED_CODEPOINT)}},t.prototype.moveForwardToCodePointMatching=function(e,t,n){var r=this._string.codePoints,i=n?n.position:r.length,a=this.position;switch(t){case o.IteratorAffinity.BEFORE:for(;a<i;)if(r[++a]===e)return this.moveToCodePointIndex(a),this.hasNext;break;case o.IteratorAffinity.AFTER:for(;a<i;)if(r[++a-1]===e)return this.moveToCodePointIndex(a),this.hasNext}return this.moveToCodePointIndex(a),this.hasNext},t.prototype.moveBackwardToCodePointMatching=function(e,t,n){var r=this._string.codePoints,i=n?n.position:0,a=this.position;switch(t){case o.IteratorAffinity.BEFORE:for(;a>i;)if(r[--a]===e)return this.moveToCodePointIndex(a),this.hasPrevious;break;case o.IteratorAffinity.AFTER:for(;a>i;)if(r[--a-1]===e)return this.moveToCodePointIndex(a),this.hasPrevious}return this.moveToCodePointIndex(a),this.hasPrevious},t.prototype.moveForwardUntil=function(e,t){for(var n=this,r=this._string.codePoints,i=t?t.position:r.length,o=this.position,a=function(){return n.string.iteratorAt(o-1)};o<i&&!e(r[++o-1],r[o],a););return this.moveToCodePointIndex(o),this.hasNext},t.prototype.moveBackwardUntil=function(e,t){for(var n=this,r=this._string.codePoints,i=t?t.position:0,o=this.position,a=function(){return n.string.iteratorAt(o-1)};o>i&&!e(r[--o-1],r[o],a););return this.moveToCodePointIndex(o),this.hasPrevious},t.prototype.instanceInit=function(){e.prototype.instanceInit.call(this),this.position=0,this.affinity=o.IteratorAffinity.BEFORE,this.iteratorIndex=-1,this._string=null},t.prototype.free=function(){this._string.removeIterator(this),e.prototype.free.call(this)},t.prototype.initArrayStringIteratorBase=function(t,n,r){e.prototype.initStringIteratorBase.call(this,t),this._string=t;var i=t.length;this.position=Math.min(n,i),this.affinity=null!==r&&void 0!==r?r:n>i?o.IteratorAffinity.AFTER:o.DEFAULT_ITERATOR_AFFINITY;var a=n>0,s=t.codePoints,l=n<s.length;this.hasPrevious=a,this.hasNext=l,this.setPreviousCodePoint(a?s[n-1]:o.UNDEFINED_CODEPOINT),this.setNextCodePoint(l?s[n]:o.UNDEFINED_CODEPOINT),t.addIterator(this)},t}(o.StringIteratorEagerBase);t.ArrayStringIteratorBase=a,t.ArrStrIterBase=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ArrStr=t.ArrayString=void 0;var o=n(1561),a=n(1543),s=n(1758),l=function(){function e(){}return Object.defineProperty(e,"ArrayStringIteratorModule",{get:function(){return null===this._ArrayStringIteratorModule&&(this._ArrayStringIteratorModule=n(1762)),this._ArrayStringIteratorModule},enumerable:!1,configurable:!0}),e._ArrayStringIteratorModule=null,e}(),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.iteratorAt=function(e,t){return e>this.length&&(e=this.length,t=null!==t&&void 0!==t?t:o.IteratorAffinity.AFTER),l.ArrayStringIteratorModule.ArrayStringIterator.create(this,e,t)},t.create=function(e){var t=this.alloc();return t.initArrayStringBase(e),t.autorelease()},t.createSubstringOf=function(e,t,n){var r;if(a.beginAutoreleaseFrame(),o.isStringIterator(t))r=o.isStringIterator(n)?o.createSliceOf(e,t,n):o.createSliceOf(e,t,e.atEnd());else{var i=e.iteratorAt(t);if(void 0!==n){var s=e.iteratorAt(n);r=o.createSliceOf(e,i,s)}else r=o.createSliceOf(e,i,e.atEnd())}var l=this.create(r.toCodePoints()).retain();return a.endAutoreleaseFrame(),l.autorelease()},i([a.sealed],t)}(s.ArrayStringBase);t.ArrayString=u,u.initializeRefcounted(),t.ArrStr=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ArrStrIter=t.ArrayStringIterator=void 0;var o=n(1561),a=n(1543),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.prototype.clone=function(){var e=n.create(this._string,this.position);return e.affinity=this.affinity,e},t.create=function(e,t,r){var i=n.alloc();return i.initArrayStringIteratorBase(e,t,r),i.autorelease()},t.prototype.toString=function(){return o.iteratorName("ArrayStringIterator",this)},n=i([a.sealed],t)}(n(1760).ArrayStringIteratorBase);t.ArrayStringIterator=s,s.initializeRefcounted(),t.ArrStrIter=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSubstringOf=void 0;var r=n(1561),i=n(1750),o=n(1761);t.createSubstringOf=function(e,t,n){return r.isAttributedString(e)?i.ArrayAttributedString.createSubstringOf(e,t,n):o.ArrayString.createSubstringOf(e,t,n)}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getCodePointInfoAtCodeUnitIndex=t.getNextCodePointCodeUnitInfoAtCodeUnitIndex=t.getPreviousCodePointCodeUnitInfoAtCodeUnitIndex=t.reusableUTF16StringCodePointInfo=void 0;var a=n(1561),s=o(n(1706));t.reusableUTF16StringCodePointInfo={codePoint:a.UNDEFINED_CODEPOINT,codeUnitIndex:null,exists:!1},t.getPreviousCodePointCodeUnitInfoAtCodeUnitIndex=function(e,t,n){if(t<0)return n.exists=!1,n.codePoint=a.UNDEFINED_CODEPOINT,void(n.codeUnitIndex=-1);var r=e.length;if(0===r)return n.exists=!1,n.codePoint=a.UNDEFINED_CODEPOINT,void(n.codeUnitIndex=-1);t>r&&(t=r);var i=a.CodeUnitIndexOps.decremented(t);if(i<0)return n.exists=!1,n.codePoint=a.UNDEFINED_CODEPOINT,void(n.codeUnitIndex=-1);var o=e.charCodeAt(i);if(s.isTrailingSurrogate(o)){if((i=a.CodeUnitIndexOps.decremented(i))<0)return n.exists=!1,n.codePoint=a.UNDEFINED_CODEPOINT,void(n.codeUnitIndex=-1);n.exists=!0,n.codeUnitIndex=i,n.codePoint=e.codePointAt(i)}else if(s.isLeadingSurrogate(o)){if((i=a.CodeUnitIndexOps.decremented(i))<0)return n.exists=!1,n.codePoint=a.UNDEFINED_CODEPOINT,void(n.codeUnitIndex=-1);o=e.charCodeAt(i),s.isTrailingSurrogate(o)?(i=a.CodeUnitIndexOps.decremented(i),n.exists=!0,n.codeUnitIndex=i,n.codePoint=e.codePointAt(i)):s.isLeadingSurrogate(o)?(n.exists=!0,n.codeUnitIndex=i,n.codePoint=e.charCodeAt(i)):(n.exists=!0,n.codeUnitIndex=i,n.codePoint=o)}else n.exists=!0,n.codeUnitIndex=i,n.codePoint=o},t.getNextCodePointCodeUnitInfoAtCodeUnitIndex=function(e,t,n){var r=e.length;if(t>=r)return n.exists=!1,n.codePoint=a.UNDEFINED_CODEPOINT,void(n.codeUnitIndex=r);t<0&&(t=-1);var i=a.CodeUnitIndexOps.incremented(t);if(i>=r)n.exists=!1,n.codePoint=a.UNDEFINED_CODEPOINT,n.codeUnitIndex=r;else{var o=e.charCodeAt(i);if(s.isTrailingSurrogate(o))if((i=a.CodeUnitIndexOps.incremented(i))>=r)n.exists=!1,n.codePoint=a.UNDEFINED_CODEPOINT,n.codeUnitIndex=r;else{var l=e.codePointAt(i);n.codePoint=l,n.codeUnitIndex=i,n.exists=!0}else s.isLeadingSurrogate(o)?(l=e.codePointAt(i),n.codePoint=l,n.codeUnitIndex=i,n.exists=!0):(n.codePoint=o,n.codeUnitIndex=i,n.exists=!0)}},t.getCodePointInfoAtCodeUnitIndex=function(e,t,n){if(n.codeUnitIndex=t<0?-1:t>e.length?e.length:t,n.exists=0<=t&&t<e.length,n.exists){var r=e.codePointAt(t);n.codePoint=isNaN(r)?a.UNDEFINED_CODEPOINT:r}else n.codePoint=a.UNDEFINED_CODEPOINT}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TTStringBase2=t.TTActiveMergeContext=void 0;var s=n(1749),l=n(1561),u=n(1561),c=n(1543),d=n(1694),h=n(1699),f=a(n(1764)),p=a(n(1706)),g=n(1706),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.editEvents=[],t.dbg_oldString="",t.dbg_oldCodePoints=[],t._currentString=null,t}return r(t,e),Object.defineProperty(t.prototype,"currentString",{get:function(){return this._currentString},set:function(e){this._currentString!==e&&(this._currentString&&this._currentString.release(),this._currentString=e.retain())},enumerable:!1,configurable:!0}),t.prototype.free=function(){this._currentString&&(this._currentString.release(),this._currentString=null),e.prototype.free.call(this)},t.create=function(e){var t=this.alloc();return t._currentString=e.retain(),t.autorelease()},t}(c.Refcounted);t.TTActiveMergeContext=y,y.initializeRefcounted();var v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._wantsUndoCommands=0,t._undoCommands=[],t._activeMergeContext=null,t._iterators=[],t._activeInsertionContext=null,t.dbg_trackIteratorOrder=!1,t._mergeableString=null,t}return r(t,e),t.prototype.copyCodePointsInRangeToArray=function(e,t,n,r){if(void 0===r&&(r=!0),r&&(n.length=0),!t.isBefore(e))for(var i=this.isMerging?this.mergeContext.currentString.UTF16String:this.mergeableString.attributedString.UTF16String,o=t.nextCodePointCodeUnitIndex,a=e.nextCodePointCodeUnitIndex;a<o;){var s=i.codePointAt(a);n.push(s);var l=i.charCodeAt(a);g.isLeadingSurrogate(l)&&++a,++a}},t.prototype.forEachInRange=function(e,t,n){if(!t.isBefore(e))for(var r=this.isMerging?this.mergeContext.currentString.UTF16String:this.mergeableString.attributedString.UTF16String,i=t.nextCodePointCodeUnitIndex,o=e.nextCodePointCodeUnitIndex,a=e.nextCodePointIndex;o<i;){n(r.codePointAt(o),a);var s=r.charCodeAt(o);g.isLeadingSurrogate(s)&&++o,++o,++a}},t.prototype.forEach=function(e){this.forEachInRange(this.atStart(),this.atEnd(),e)},t.prototype.someInRange=function(e,t,n){if(t.isBefore(e))return!1;for(var r=this.isMerging?this.mergeContext.currentString.UTF16String:this.mergeableString.attributedString.UTF16String,i=t.nextCodePointCodeUnitIndex,o=e.nextCodePointCodeUnitIndex,a=e.nextCodePointIndex;o<i;){if(n(r.codePointAt(o),a))return!0;var s=r.charCodeAt(o);g.isLeadingSurrogate(s)&&++o,++o,++a}return!1},t.prototype.some=function(e){return this.someInRange(this.atStart(),this.atEnd(),e)},t.prototype.toString=function(){return this._activeMergeContext?this._activeMergeContext.currentString.UTF16String:this._mergeableString.attributedString.UTF16String},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this._activeMergeContext?0===this._activeMergeContext.currentString.length:0===this._mergeableString.length},enumerable:!1,configurable:!0}),t.prototype.delete=function(e,t){var n=e.position,r=t.position-n;if(0===r)return u.NoOpOperation.instance;this.beginEditing(),++this._wantsUndoCommands;for(var i=e.nextCodePointCodeUnitIndex,o=t.nextCodePointCodeUnitIndex,a=h.NSMakeRange(i,o-i),s=0,l=this._iterators;s<l.length;s++){var c=l[s];switch(c.affinity){case u.IteratorAffinity.BEFORE:c.cachePreviousCodePointInfoIfUncached(),c.cacheNextCodePointInfoIfUncached();break;case u.IteratorAffinity.AFTER:c.cacheNextCodePointInfoIfUncached()}}this.mergeableString.deleteCharactersInRange(a),--this._wantsUndoCommands,this.didDelete(e,r),this.endEditing();for(var f=d.TTDeleteOperation2.create(this,this._undoCommands,n,r),p=0,g=this._undoCommands;p<g.length;p++)g[p].release();return this._undoCommands.length=0,f},t.prototype.endEditing=function(){this._activeMergeContext&&p.codePointCountInUtf16String(this._mergeableString.attributedString.UTF16String);for(var t=0,n=this._iterators;t<n.length;t++)n[t].dbg_assertIsValid();e.prototype.endEditing.call(this)},t.prototype.edited_range_changeInLength=function(e,t,n,r){e===h.NSTextStorageEditedCharacters&&(0===n?this.editedRangeCharactersReplaced(t):n>0?this._activeMergeContext?this.editedRangeCharactersReplacedAsInsertion(t,n,r):this.editedRangeInsertion(t,n,r):n<0&&(this._activeMergeContext?this.editedRangeCharactersReplacedAsDeletion(t,n,r):this.editedRangeDeletion(t,n,r)))},t.prototype.editedRangeCharactersReplaced=function(e){var t,n=this._activeMergeContext,r=h.NSMaxRange(e),i=n.currentString,o=i.attributedSubstringFromRange(h.NSMakeRange(0,e.location)),a=i.attributedSubstringFromRange(h.NSMakeRange(r,i.length-r)),s=this._mergeableString.attributedString.attributedSubstringFromRange(e),l=p.codePointCountInUtf16String(s.UTF16String);(t=h.autorelease(h.NSMutableAttributedString.alloc().initWithAttributedString(o))).appendAttributedString(s),t.appendAttributedString(a),(t=h.autorelease(h.NSMutableAttributedString.alloc().initWithAttributedString(o))).appendAttributedString(a),n.currentString=t,this.editedRangeDeletionInString(t.UTF16String,e.location,e.length,l),(t=h.autorelease(h.NSMutableAttributedString.alloc().initWithAttributedString(o))).appendAttributedString(s),t.appendAttributedString(a),n.currentString=t,this.editedRangeInsertionInString(t.UTF16String,e.location,e.length,l)},t.prototype.editedRangeCharactersReplacedAsInsertion=function(e,t,n){var r,i=this._activeMergeContext,o=i.currentString,a=o.attributedSubstringFromRange(h.NSMakeRange(0,e.location)),s=e.length,u=this._mergeableString.attributedString.attributedSubstringFromRange(e),c=p.codePointCountInUtf16String(u.UTF16String),d=l.CodeUnitCountOps.subtract(e.length,t),f=o.attributedSubstringFromRange(h.NSMakeRange(e.location,d)),g=p.codePointCountInUtf16String(f.UTF16String),y=o.attributedSubstringFromRange(h.NSMakeRange(e.location+d,o.length-(e.location+d)));if(g>0){(r=h.autorelease(h.NSMutableAttributedString.alloc().initWithAttributedString(a))).appendAttributedString(y),i.currentString=r;var v=l.CodePointCountOps.subtract(this.length,g);this.length=v,this.editedRangeDeletionInString(r.UTF16String,e.location,d,g)}s>0&&(i.currentString,(r=h.autorelease(h.NSMutableAttributedString.alloc().initWithAttributedString(a))).appendAttributedString(u),r.appendAttributedString(y),i.currentString=r,v=l.CodePointCountOps.add(this.length,c),this.length=v,this.editedRangeInsertionInString(r.UTF16String,e.location,s,c))},t.prototype.editedRangeInsertion=function(e,t,n){if(this._activeMergeContext){var r=this._activeMergeContext.currentString,i=r.attributedSubstringFromRange(h.NSMakeRange(0,e.location)),o=this._mergeableString.attributedString.attributedSubstringFromRange(e),a=r.attributedSubstringFromRange(h.NSMakeRange(e.location,r.length-e.length)),s=h.autorelease(h.NSMutableAttributedString.alloc().initWithAttributedString(i));s.appendAttributedString(o),s.appendAttributedString(a),this._activeMergeContext.currentString=s}var u=this._activeMergeContext?this._activeMergeContext.currentString.UTF16String:this._mergeableString.attributedString.UTF16String,c=l.CodePointCountOps.add(this.length,n);this.length=c,this.editedRangeInsertionInString(u,e.location,t,n)},t.prototype.editedRangeInsertionInString=function(e,t,n,r){for(var i=0,o=this._iterators;i<o.length;i++){var a=o[i];if(a.nextCodePointCodeUnitIndex<t);else if(a.nextCodePointCodeUnitIndex===t){var s=a.affinity;if(this._activeInsertionContext&&a===this._activeInsertionContext.atIterator&&(s=this._activeInsertionContext.atIteratorAffinity),s===u.IteratorAffinity.AFTER)switch(a.affinity){case u.IteratorAffinity.BEFORE:var c=l.CodeUnitIndexOps.add(a.previousCodePointCodeUnitIndex,n),d=l.CodePointIndexOps.add(a.previousCodePointIndex,r);a.setPreviousCodePointCodeUnitIndexAndCodePointIndex(c,d);break;case u.IteratorAffinity.AFTER:c=l.CodeUnitIndexOps.add(a.nextCodePointCodeUnitIndex,n),d=l.CodePointIndexOps.add(a.nextCodePointIndex,r),a.setNextCodePointCodeUnitIndexAndCodePointIndex(c,d)}switch(a.affinity){case u.IteratorAffinity.BEFORE:a.invalidateNextCodePointInfo();break;case u.IteratorAffinity.AFTER:a.invalidatePreviousCodePointInfo()}}else switch(a.affinity){case u.IteratorAffinity.BEFORE:c=l.CodeUnitIndexOps.add(a.previousCodePointCodeUnitIndex,n),d=l.CodePointIndexOps.add(a.previousCodePointIndex,r),a.setPreviousCodePointCodeUnitIndexAndCodePointIndex(c,d),a.invalidateNextCodePointInfo();break;case u.IteratorAffinity.AFTER:c=l.CodeUnitIndexOps.add(a.nextCodePointCodeUnitIndex,n),d=l.CodePointIndexOps.add(a.nextCodePointIndex,r),a.setNextCodePointCodeUnitIndexAndCodePointIndex(c,d),a.invalidatePreviousCodePointInfo()}a.cachePreviousCodePointInfoIfUncached(),a.cacheNextCodePointInfoIfUncached()}if(this._activeMergeContext){var h=this.iteratorAtCodeUnitIndex(t,u.IteratorAffinity.BEFORE),f=this.iteratorAtCodeUnitIndex(l.CodeUnitIndexOps.add(t,n),u.IteratorAffinity.AFTER);this.didInsert(h,f),this._activeMergeContext.editEvents.push({type:"insert",start:h,end:f})}},t.prototype.editedRangeDeletion=function(e,t,n){var r=this._mergeableString.attributedString.UTF16String,i=l.CodePointCountOps.add(this.length,n);this.length=i,this.editedRangeDeletionInString(r,e.location,l.CodeUnitCountOps.negate(t),l.CodePointCountOps.negate(n))},t.prototype.editedRangeCharactersReplacedAsDeletion=function(e,t,n){var r=this._activeMergeContext,i=r.currentString,o=i.attributedSubstringFromRange(h.NSMakeRange(0,e.location)),a=this._mergeableString.attributedString.attributedSubstringFromRange(e),s=i.attributedSubstringFromRange(h.NSMakeRange(e.location+e.length+-t,i.length-(e.location+e.length+-t))),u=(i.UTF16String.substring(e.location+e.length+-t),e.length),c=p.codePointCountInUtf16String(a.UTF16String),d=l.CodeUnitCountOps.subtract(e.length,t),f=i.UTF16String.substr(e.location,d),g=p.codePointCountInUtf16String(f);(y=h.autorelease(h.NSMutableAttributedString.alloc().initWithAttributedString(o))).appendAttributedString(s),r.currentString=y;var y,v=l.CodePointCountOps.subtract(this.length,g);(this.length=v,this.editedRangeDeletionInString(y.UTF16String,e.location,d,g),a.length>0)&&(r.currentString,(y=h.autorelease(h.NSMutableAttributedString.alloc().initWithAttributedString(o))).appendAttributedString(a),y.appendAttributedString(s),r.currentString=y,v=l.CodePointCountOps.add(this.length,c),this.length=v,this.editedRangeInsertionInString(y.UTF16String,e.location,u,c))},t.prototype.editedRangeDeletionInString=function(e,t,n,r){for(var i=l.CodeUnitIndexOps.add(t,n),o=0,a=this._iterators;o<a.length;o++){var s=a[o];switch(s.affinity){case u.IteratorAffinity.BEFORE:if(s.nextCodePointCodeUnitIndex<t);else if(s.nextCodePointCodeUnitIndex===t)s.nextCodePointCodeUnitIndex>=e.length&&(f.getPreviousCodePointCodeUnitInfoAtCodeUnitIndex(e,e.length,s.previousCodePointInfo),s.previousCodePointInfo.setCodePointIndex(this.getCodePointIndexForCodeUnitIndex(s.previousCodePointInfo.codeUnitIndex))),s.invalidateNextCodePointInfo();else if(s.nextCodePointCodeUnitIndex<i){var c=l.CodeUnitIndexOps.subtract(s.nextCodePointCodeUnitIndex,t);(g=l.CodeUnitIndexOps.subtract(s.nextCodePointCodeUnitIndex,c))<0&&(g=-1);var d=f.reusableUTF16StringCodePointInfo;f.getPreviousCodePointCodeUnitInfoAtCodeUnitIndex(e,g,d);var h=p.utf16StringCodePointIndexForCodeUnitIndex(e,d.codeUnitIndex);s.resetPreviousCodePointTo(d.codeUnitIndex,h,d.codePoint),s.invalidateNextCodePointInfo()}else(g=l.CodeUnitIndexOps.subtract(s.nextCodePointCodeUnitIndex,n))<0&&(g=-1),f.getPreviousCodePointCodeUnitInfoAtCodeUnitIndex(e,g,s.previousCodePointInfo),h=l.CodePointIndexOps.subtract(s.previousCodePointIndex,r),s.previousCodePointInfo.setCodePointIndex(h),s.invalidateNextCodePointInfo();break;case u.IteratorAffinity.AFTER:if(s.nextCodePointCodeUnitIndex<t);else if(s.nextCodePointCodeUnitIndex===t)f.getCodePointInfoAtCodeUnitIndex(e,t,s.nextCodePointInfo);else if(s.nextCodePointCodeUnitIndex<i)f.getCodePointInfoAtCodeUnitIndex(e,t,s.nextCodePointInfo),h=null,s.nextCodePointInfo.setCodePointIndex(h),s.invalidatePreviousCodePointInfo();else{var g=l.CodeUnitIndexOps.subtract(s.nextCodePointCodeUnitIndex,n),y=(h=l.CodePointIndexOps.subtract(s.nextCodePointIndex,r),g<0||g>=e.length?void 0:e.codePointAt(g));s.resetNextCodePointTo(g,h,y),s.invalidatePreviousCodePointInfo()}}s.cachePreviousCodePointInfoIfUncached(),s.cacheNextCodePointInfoIfUncached()}if(this._activeMergeContext){var v=this.iteratorAtCodeUnitIndex(t);this.didDelete(v,r),this._activeMergeContext.editEvents.push({type:"delete",atIterator:v,deletedCodePointCount:r})}},t.prototype.getCodePointIndexForCodeUnitIndex=function(e){return this._activeMergeContext?p.utf16StringCodePointIndexForCodeUnitIndex(this._activeMergeContext.currentString.UTF16String,e):this._mergeableString.getCodePointIndexForCodeUnitIndex(e)},t.prototype.iteratorAtCodeUnitIndex=function(e,t){var n=this.getCodePointIndexForCodeUnitIndex(e);return this.iteratorAt(n,t)},t.prototype.addUndoCommand=function(e){this._undoCommands.push(e.retain())},Object.defineProperty(t.prototype,"wantsUndoCommands",{get:function(){return this._wantsUndoCommands>0},enumerable:!1,configurable:!0}),t.prototype.willBeginMerging=function(){this._activeMergeContext=y.create(h.autorelease(this._mergeableString.attributedString.copy())).retain(),this.dbg_establishIteratorOrder();for(var e=0,t=this._iterators;e<t.length;e++){var n=t[e];switch(n.affinity){case u.IteratorAffinity.BEFORE:n.cachePreviousCodePointInfoIfUncached(),n.cacheNextCodePointInfoIfUncached();break;case u.IteratorAffinity.AFTER:n.cacheNextCodePointInfoIfUncached()}}},t.prototype.didEndMerging=function(){try{this.dbg_assertIteratorOrderIsCorrect(),this._activeMergeContext}finally{this._activeMergeContext&&(this._activeMergeContext.release(),this._activeMergeContext=null)}},Object.defineProperty(t.prototype,"isMerging",{get:function(){return!!this._activeMergeContext},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mergeContext",{get:function(){return this._activeMergeContext},enumerable:!1,configurable:!0}),t.prototype.registerIterator=function(e){e.iteratorIndex=this._iterators.length,this._iterators.push(e)},t.prototype.unregisterIterator=function(e){var t=this._iterators.length,n=this._iterators[t-1];this._iterators[e.iteratorIndex]=n,n.iteratorIndex=e.iteratorIndex,e.iteratorIndex=-1,this._iterators.pop()},t.prototype.invalidateIterators=function(){for(var e=0,t=this._iterators;e<t.length;e++)t[e].invalidate()},t.prototype.resetLocalReplicaClocksToTimestampValues=function(){this.mergeableString.resetLocalReplicaClocksToTimestampValues()},t.prototype.updateClock=function(){this.mergeableString.updateClock()},t.prototype.checkTimestampLogStyleErrors=function(e){this.mergeableString.checkTimestampLogStyleErrors(e)},t.prototype.insertStringHelper=function(e,t,n,r){var i,o;if("string"===typeof t)o=t,i=p.codePointCountInUtf16String(o);else if(u.isString(t))o=t.toString(),i=p.codePointCountInUtf16String(o);else{var a=s.ArrayString.create(t);i=a.length,o=a.toString()}if(r.codePointCountToInsert=i,0!==i){for(var l=0,c=this._iterators;l<c.length;l++){var d=c[l];switch(d.affinity){case u.IteratorAffinity.BEFORE:d.cachePreviousCodePointInfoIfUncached(),d.cacheNextCodePointInfoIfUncached();break;case u.IteratorAffinity.AFTER:d.cacheNextCodePointInfoIfUncached()}}var h=e.nextCodePointIndex,f=e.nextCodePointCodeUnitIndex,g=this.iteratorAt(h,u.IteratorAffinity.BEFORE),y=this.iteratorAt(h,u.IteratorAffinity.AFTER);this._activeInsertionContext={atCodeUnitIndex:f,atIterator:e,atIteratorAffinity:n,codePointCountBefore:this.length,codePointCountToInsert:i};try{var v=this.mergeableString;++this._wantsUndoCommands,v.insertString_atIndex(o,f),--this._wantsUndoCommands}finally{this._activeInsertionContext=null}r.startIter=g,r.endIter=y}},t.prototype.insertString=function(e,t,n){this.beginEditing();var r=e.position,i={},o=e.affinity;if(e.affinity=n,this.insertStringHelper(e,t,n,i),0===i.codePointCountToInsert)return u.NoOpOperation.instance;e.affinity=o,this.didInsert(i.startIter,i.endIter),this.endEditing();for(var a=d.TTInsertOperation2.create(this,this._undoCommands,r,i.codePointCountToInsert),s=0,l=this._undoCommands;s<l.length;s++)l[s].release();return this._undoCommands.length=0,a},t.prototype.applyUndoCommand=function(e,t){if(++this._wantsUndoCommands,this._mergeableString.applyUndoCommand(e),--this._wantsUndoCommands,t){t.length=0;for(var n=0,r=this._undoCommands;n<r.length;n++){var i=r[n];t.push(i.autorelease())}}else for(var o=0,a=this._undoCommands;o<a.length;o++)(i=a[o]).release();this._undoCommands.length=0},t.prototype.applyRedoCommand=function(e){this._mergeableString.applyUndoCommand(e)},t.prototype.merge=function(e){this._mergeableString.mergeWithString(e._mergeableString)},t.prototype.toProtobuf=function(){return this.mergeableString.saveToArchive()},t.prototype.dbg_establishIteratorOrder=function(){var e=this._iterators.slice(0);e.sort((function(e,t){return e.position-t.position}));for(var t=0,n=0,r=e;n<r.length;n++)r[n].dbg_relativeOrderIndex=t,t+=10},t.prototype.dbg_assertIteratorOrderIsCorrect=function(){var e=this._iterators.slice(0);e.sort((function(e,t){return e.position-t.position}));for(var t=0,n=e;t<n.length;t++){var r=n[t];-1!==r.dbg_relativeOrderIndex&&(r.dbg_relativeOrderIndex,r.position)}},Object.defineProperty(t.prototype,"dbg_iteratorPosStrs",{get:function(){return this._iterators.map((function(e){return e.dbg_posString}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dbg_codePointsFromUTF16String",{get:function(){return p.utf16StringToCodePoints(this.toString())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dbg_codeUnitsFromUTF16String",{get:function(){return p.utf16StringToCodeUnits(this.toString())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dbg_areIteratorsValid",{get:function(){return this._iterators.every((function(e){return e.dbg_isValid()}))},enumerable:!1,configurable:!0}),t.prototype.dbg_assertStringLengthIsCorrect=function(){},Object.defineProperty(t.prototype,"mergeableString",{get:function(){return this._mergeableString},enumerable:!1,configurable:!0}),t.prototype.free=function(){this._iterators.length=0,this._mergeableString&&(this._mergeableString.delegate=null,this._mergeableString.release(),this._mergeableString=null),this._wantsUndoCommands=0,e.prototype.free.call(this)},t.prototype.init=function(){},t.prototype.initWithString=function(e){var t;this.init(),t=Array.isArray(e)?s.ArrayString.create(e).toString():u.isString(e)?e.toString():e,this.length=l.MIN_CODE_POINT_COUNT,this._mergeableString.insertString_atIndex(t,0)},t.prototype.initWithMergeableUndoString=function(e){this._mergeableString=e.retain(),this._mergeableString.delegate=this,this.length=p.codePointCountInUtf16String(this._mergeableString.attributedString.UTF16String)},t}(u.StringBase);t.TTStringBase2=v},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.TTString2=void 0;var i=n(1561),o=n(1699),a=n(1765),s=n(1767),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.atStart=function(e){return void 0===e&&(e=i.IteratorAffinity.BEFORE),s.TTStringIterator2.createAtStart(this,e)},t.prototype.atEnd=function(e){return void 0===e&&(e=i.IteratorAffinity.AFTER),s.TTStringIterator2.createAtEnd(this,e)},t.prototype.iteratorAt=function(e,t){return e>this.length?s.TTStringIterator2.createAtEnd(this,t):s.TTStringIterator2.createAtLeftOfCodePointIndex(this,e,t)},t.prototype.init=function(){this._mergeableString=o.TTMergeableUndoString.alloc().initWithReplicaID(o.NSUUID.UUID()),this._mergeableString.delegate=this},t.prototype.initWithArchive=function(e){var t=o.autorelease(o.TTMergeableUndoString.alloc().initWithArchive_andReplicaID(e,o.NSUUID.UUID()));this.initWithMergeableUndoString(t)},t.create=function(){var e=this.alloc();return e.init(),e.autorelease()},t.createWithString=function(e){var t=this.alloc();return t.initWithString(e),t.autorelease()},t.createWithArchive=function(e){var t=this.alloc();return t.initWithArchive(e),t.autorelease()},t}(a.TTStringBase2);t.TTString2=l,l.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.TTStringIterator2=void 0;var i=n(1561),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.clone=function(){return t.createCloneOf(this)},t.prototype.toString=function(){return i.iteratorName("TTStringIterator2",this)},t.createAtLeftOfCodePointIndex=function(e,t,n){var r=this.alloc();return r.initTTStringIteratorBase2(e,t,n),r.autorelease()},t.createAtCharIDWithAffinity=function(e,t,n){var r=this.alloc();return r.initAtCharIDWithAffinity(e,t,n),r.autorelease()},t.createAtStart=function(e,t){var n=this.alloc();return n.initTTStringIteratorBase2(e,i.ZERO_CODE_POINT_INDEX,null!==t&&void 0!==t?t:i.IteratorAffinity.BEFORE),n.autorelease()},t.createAtEnd=function(e,t){var n=this.alloc();return n.initTTStringIteratorBase2(e,e.length,null!==t&&void 0!==t?t:i.IteratorAffinity.AFTER),n.autorelease()},t.createCloneOf=function(e){var t=this.alloc();return t.initFromIteratorBase2(e),t.autorelease()},t}(n(1748).TTStringIteratorBase2);t.TTStringIterator2=o,o.initializeRefcounted()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CRCoder=void 0;var r=n(1769),i=n(1770),o=n(1771),a=n(1558),s=n(1778),l=new Map,u=null,c=function(){function e(){}return Object.defineProperty(e,"typeSet",{get:function(){return u},enumerable:!1,configurable:!0}),Object.defineProperty(e,"typeToClassDict",{get:function(){return l},enumerable:!1,configurable:!0}),e.getTypeIndexForClass=function(e){this.registerCRClasses(),o.CRTable.registerWithCRCoder(),s.ICTable.registerWithCRCoder();for(var t=0,n=this.typeSet.length;t<n;++t){var r=this.typeSet[t];if(e===this.typeToClassDict.get(r))return t}return-1},e.registerClass=function(e,t){this.registerCRClasses(),u&&this._registerClass(u,e,t)},e.registerCRClasses=function(){null===u&&(u=[],l=new Map,this._registerClass(u,r.CRNumber.decode,"com.apple.CRDT.NSNumber"),this._registerClass(u,i.CRString.decode,"com.apple.CRDT.NSString"),this._registerClass(u,a.CRUUID.decode,"com.apple.CRDT.NSUUID"))},e._registerClass=function(e,t,n){l.set(n,t),e.push(n)},e}();t.CRCoder=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CRNumber=void 0;var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._number=null,t}return r(t,e),Object.defineProperty(t.prototype,"number",{get:function(){return this._number},enumerable:!1,configurable:!0}),t.prototype.free=function(){this._number=null,e.prototype.free.call(this)},t.prototype.initWithNumber=function(e){return this._number=e,this},t.prototype.isEqual=function(e){return e instanceof t&&this.number===e.number},t.prototype.encodeNumberField=function(e){return Number.isInteger(this.number)?e.encodeInt64("integerValue",this.number):e.encodeDouble("doubleValue",this.number)},t.decode=function(e,n){if(e.hasDecodableValueForKey("integerValue",n))return t.alloc().initWithNumber(e.decodeInt32ForKey("integerValue",n)).autorelease();if(e.hasDecodableValueForKey("doubleValue",n))return t.alloc().initWithNumber(e.decodeDoubleForKey("doubleValue",n)).autorelease();throw new Error("Unable to decode number")},t.prototype.mergeWith=function(e){if(!(e instanceof t))throw new Error("Cannot merge number with non-number");if(this.number!==e.number)throw new Error("Cannot merge number with unequal number")},t.prototype.deltaSince=function(e,t){return null},t.prototype.realizeLocalChanges=function(e){},Object.defineProperty(t.prototype,"tombstone",{get:function(){return this},enumerable:!1,configurable:!0}),t.prototype.walkGraph=function(e){},t.prototype.setDocument=function(e){},t}(n(1543).Refcounted);t.CRNumber=i,i.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CRString=void 0;var i=n(1543),o=n(1768),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._string=null,t}return r(t,e),Object.defineProperty(t.prototype,"string",{get:function(){return this._string},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"UUIDString",{get:function(){return this._string},enumerable:!1,configurable:!0}),t.prototype.init=function(){return this._string="",this},t.prototype.free=function(){this._string=null,e.prototype.free.call(this)},t.prototype.initWithString=function(e){return this._string=e,this},t.prototype.isEqual=function(e){return e instanceof t&&this.string===e.string},t.prototype.encode=function(e){return{contents:"custom",custom:{type:o.CRCoder.getTypeIndexForClass(t.decode),mapEntry:[e.encodeString("self",this.string)]}}},t.decode=function(e,n){var r=e.decodeStringForKey("self",n);return t.alloc().initWithString(r).autorelease()},t.prototype.mergeWith=function(e){if(!(e instanceof t))throw new Error("Cannot merge string with non-string");if(this.string!==e.string)throw new Error("Cannot merge string with unequal string")},t.prototype.deltaSince=function(e,t){return null},t.prototype.realizeLocalChanges=function(e){},Object.defineProperty(t.prototype,"tombstone",{get:function(){return this},enumerable:!1,configurable:!0}),t.prototype.walkGraph=function(e){},t.prototype.setDocument=function(e){},t}(i.Refcounted);t.CRString=a,a.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CRTable=t.CRTableColumnDirection=void 0;var i=n(1543),o=n(1768),a=n(1556),s=n(1772),l=n(1770),u=n(1774),c=n(1558),d=n(1776),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.self=null,t.columnUUID=null,t}return r(t,e),t.create=function(e,t){var n=this.alloc();return n.self=e.retain(),n.columnUUID=t.retain(),n.autorelease()},t.prototype.free=function(){this.self.release(),this.columnUUID.release(),this.self=null,this.columnUUID=null,e.prototype.free.call(this)},t.prototype.apply=function(){this.self.undoablyRemoveContentsOfColumn(this.columnUUID,!0)},t}(i.Refcounted);h.initializeRefcounted();var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.self=null,t.columnUUID=null,t.columnContents=[],t}return r(t,e),t.create=function(e,t,n){var r=this.alloc();r.self=e.retain(),r.columnUUID=t.retain(),r.columnContents.length=0;for(var i=0,o=n;i<o.length;i++){var a=o[i];r.columnContents.push([a[0].retain(),a[1]?a[1].retain():null])}return r.autorelease()},t.prototype.free=function(){this.self.release(),this.columnUUID.release();for(var t=0,n=this.columnContents;t<n.length;t++){var r=n[t];r[0].release(),r[1]&&r[1].release()}this.self=null,this.columnUUID=null,this.columnContents.length=0,e.prototype.free.call(this)},t.prototype.apply=function(){this.self.undoablyInsertContents_atColumn(this.columnContents,this.columnUUID)},t}(i.Refcounted);f.initializeRefcounted();var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.self=null,t.rowUUID=null,t}return r(t,e),t.create=function(e,t){var n=this.alloc();return n.self=e.retain(),n.rowUUID=t.retain(),n.autorelease()},t.prototype.free=function(){this.self.release(),this.rowUUID.release(),this.self=null,this.rowUUID=null,e.prototype.free.call(this)},t.prototype.apply=function(){this.self.undoablyRemoveContentsOfRow(this.rowUUID,!0)},t}(i.Refcounted);p.initializeRefcounted();var g,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.self=null,t.rowUUID=null,t.rowContents=[],t}return r(t,e),t.create=function(e,t,n){var r=this.alloc();r.self=e.retain(),r.rowUUID=t.retain(),r.rowContents.length=0;for(var i=0,o=n;i<o.length;i++){var a=o[i];r.rowContents.push([a[0].retain(),a[1]?a[1].retain():null])}return r.autorelease()},t.prototype.free=function(){this.self.release(),this.rowUUID.release();for(var t=0,n=this.rowContents;t<n.length;t++){var r=n[t];r[0].release(),r[1]&&r[1].release()}this.self=null,this.rowUUID=null,this.rowContents.length=0,e.prototype.free.call(this)},t.prototype.apply=function(){this.self.undoablyInsertContents_atRow(this.rowContents,this.rowUUID)},t}(i.Refcounted);y.initializeRefcounted(),function(e){e[e.LeftToRight=0]="LeftToRight",e[e.RightToLeft=1]="RightToLeft"}(g=t.CRTableColumnDirection||(t.CRTableColumnDirection={}));var v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._delegate=null,t._document=null,t._crColumnDirection=null,t._columns=null,t._rows=null,t._cellColumns=null,t._observers=new Set,t}return r(t,e),Object.defineProperty(t.prototype,"document",{get:function(){return this._document},set:function(e){this._document=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"delegate",{get:function(){return this._delegate},set:function(e){this._delegate!==e&&(this._delegate&&this._delegate.release(),this._delegate=e?e.retain():null)},enumerable:!1,configurable:!0}),t.prototype.addObserver=function(e){this._observers.add(e)},t.prototype.removeObserver=function(e){this._observers.delete(e)},t.prototype.initWithDocument=function(e){return this.initWithDocument_isRightToLeft(e,!1)},t.prototype.initWithDocument_isRightToLeft=function(e,t){var n=t?g.RightToLeft:g.LeftToRight;return this.initWithDocument_columnDirection(e,n)},t.prototype.initWithDocument_columnDirection=function(e,t){var n=l.CRString.alloc().initWithString(t===g.LeftToRight?"CRTableColumnDirectionLeftToRight":"CRTableColumnDirectionRightToLeft").autorelease(),r=s.CRRegisterLatest.alloc().initWithContents_document(n,e).autorelease(),i=u.CRTombstoneOrderedSet.alloc().initWithDocument(e).autorelease(),o=u.CRTombstoneOrderedSet.alloc().initWithDocument(e).autorelease(),c=a.CRDictionary.alloc().initWithDocument(e).autorelease();return this.initWithDocument_columnDirection_crColumns_crRows_cellColumns(e,r,i,o,c)},t.prototype.initWithDocument_columnDirection_crColumns_crRows_cellColumns=function(e,t,n,r,i){return this.document=e,this.crColumnDirection=t,this.columns=n,this.rows=r,this.cellColumns=i,this.columns.delegate=this,this.rows.delegate=this,this},t.prototype.free=function(){this.crColumnDirection.release(),this.columns.release(),this.rows.release(),this.cellColumns.release(),this.delegate&&this.delegate.release(),this._crColumnDirection=null,this._columns=null,this._rows=null,this._cellColumns=null,this._delegate=null,e.prototype.free.call(this)},t.prototype.encode=function(e){return{contents:"custom",custom:this.encodeIntoCustomObject(e)}},t.prototype.encodeIntoCustomObject=function(e){return this.encodeIntoCustomObjectImpl(e,t.decodeCRTable)},t.prototype.encodeIntoCustomObjectImpl=function(e,t){var n=this;return{type:o.CRCoder.getTypeIndexForClass(t),mapEntry:function(){var t=[];return t.push(e.encodeUUID("identity",n.identity)),t.push(e.encodeObjectField("crTableColumnDirection",n.crColumnDirection)),t.push(e.encodeObjectField("crRows",n.rows)),t.push(e.encodeObjectField("crColumns",n.columns)),t.push(e.encodeObjectField("cellColumns",n.cellColumns)),t}()}},t.decodeCRTable=function(e,n){var r=e.decodeObjectForKey("crTableColumnDirection",n),i=e.decodeObjectForKey("crColumns",n),o=e.decodeObjectForKey("crRows",n),a=e.decodeObjectForKey("cellColumns",n),s=t.alloc().initWithDocument_columnDirection_crColumns_crRows_cellColumns(e.document,r,i,o,a).autorelease();return e.document.objects.set(s.identity.UUIDString,[s.identity,s]),s},t.prototype.mergeWith=function(e){var n=this;if(!(e instanceof t))throw new Error("Cannot merge a CRTable with a non-CRTable");var r=new Map;this.rows.forEach((function(e,t){return r.set(e,t)}));var i=new Map;this.columns.forEach((function(e,t){return i.set(e,t)})),this.crColumnDirection.mergeWith(e.crColumnDirection),this.columns.mergeWith(e.columns),this.rows.mergeWith(e.rows),this.cellColumns.mergeWith(e.cellColumns),this.rows.forEach((function(e,t){var i=r.get(e);"number"!==typeof i?n._observers.forEach((function(t){t.tableDidAddRow&&t.tableDidAddRow(e)})):i!==t&&n._observers.forEach((function(t){t.tableDidMoveRow&&t.tableDidMoveRow(e)}))})),r.forEach((function(e,t){n.rows.has(t)||n._observers.forEach((function(e){e.tableDidDeleteRow&&e.tableDidDeleteRow(t)}))})),this.columns.forEach((function(e,t){var r=i.get(e);"number"!==typeof r?n._observers.forEach((function(t){t.tableDidAddColumn&&t.tableDidAddColumn(e)})):r!==t&&n._observers.forEach((function(t){t.tableDidMoveColumn&&t.tableDidMoveColumn(e)}))})),i.forEach((function(e,t){n.columns.has(t)||n._observers.forEach((function(e){e.tableDidDeleteColumn&&e.tableDidDeleteColumn(t)}))})),this.rows.forEach((function(e){n._observers.forEach((function(t){t.tableDidAddRow&&t.tableDidAddRow(e)}))}))},t.prototype.deltaSince=function(e,n){var r=this.crColumnDirection.deltaSince(e,n),i=this.columns.deltaSince(e,n),o=this.rows.deltaSince(e,n),a=this.cellColumns.deltaSince(e,n);return r&&i&&o&&a?t.alloc().initWithDocument_columnDirection_crColumns_crRows_cellColumns(n,r,i,o,a).autorelease():null},t.prototype.realizeLocalChanges=function(e){},Object.defineProperty(t.prototype,"tombstone",{get:function(){return this},enumerable:!1,configurable:!0}),t.prototype.walkGraph=function(e){e(this.crColumnDirection),e(this.columns),e(this.rows),e(this.cellColumns)},Object.defineProperty(t.prototype,"columnDirection",{get:function(){var e=this.crColumnDirection.contents;return e&&"CRTableColumnDirectionLeftToRight"===e.string?g.LeftToRight:g.RightToLeft},set:function(e){this.crColumnDirection.contents=l.CRString.alloc().initWithString(e===g.LeftToRight?"CRTableColumnDirectionLeftToRight":"CRTableColumnDirectionRightToLeft").autorelease()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"crColumnDirection",{get:function(){return this._crColumnDirection},set:function(e){this._crColumnDirection!==e&&(this._crColumnDirection&&this._crColumnDirection.release(),this._crColumnDirection=e.retain())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this._columns},set:function(e){this._columns!==e&&(this._columns&&this._columns.release(),this._columns=e.retain())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._rows},set:function(e){this._rows!==e&&(this._rows&&this._rows.release(),this._rows=e.retain())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellColumns",{get:function(){return this._cellColumns},set:function(e){this._cellColumns!==e&&(this._cellColumns&&this._cellColumns.release(),this._cellColumns=e.retain())},enumerable:!1,configurable:!0}),t.registerWithCRCoder=function(){o.CRCoder.registerClass(t.decodeCRTable,"com.apple.notes.CRTable")},Object.defineProperty(t.prototype,"columnCount",{get:function(){return this.columns.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowCount",{get:function(){return this.rows.size},enumerable:!1,configurable:!0}),t.prototype.getColumnsIntersectingWithColumns=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];this.columns.has(i)&&t.push(i)}return t},t.prototype.getRowsIntersectingWithRows=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];this.rows.has(i)&&t.push(i)}return t},t.prototype.getIdentifierForRowAtIndex=function(e){return this.rows.get(e)},t.prototype.getIdentifierForColumnAtIndex=function(e){return this.columns.get(e)},t.prototype.getIdentifierForRowIndexes=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];t.push(this.rows.get(i))}return t},t.prototype.getIdentifierForColumnIndexes=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];t.push(this.columns.get(i))}return t},t.prototype.getRowIndexForIdentifier=function(e){return this.rows.indexOf(e)},t.prototype.getColumnIndexForIdentifier=function(e){return this.columns.indexOf(e)},t.prototype.getRowIndexesForIdentifiers=function(e){for(var t=new d.IndexSet,n=0,r=e;n<r.length;n++){var i=r[n],o=this.rows.indexOf(i);-1!==o&&t.add(o)}return t},t.prototype.getColumnIndexesForIdentifiers=function(e){for(var t=new d.IndexSet,n=0,r=e;n<r.length;n++){var i=r[n],o=this.columns.indexOf(i);-1!==o&&t.add(o)}return t},t.prototype.containsRow=function(e){return this.rows.has(e)},t.prototype.containsColumn=function(e){return this.columns.has(e)},t.prototype.insertRow=function(e){var t=c.CRUUID.UUID();return this.rows.insert(t,e),this.undoablyInsertContents_atRow(null,t),t},t.prototype.insertColumn=function(e){var t=c.CRUUID.UUID();return this.columns.insert(t,e),this.undoablyInsertContents_atColumn(null,t),t},t.prototype.insertRows=function(e,t){for(var n=[],r=0;r<e;++r)n.push(this.insertRow(t));return n},t.prototype.insertColumns=function(e,t){for(var n=[],r=0;r<e;++r)n.push(this.insertColumn(t));return n},t.prototype.removeRowAtIndex=function(e){var t=this.rows.get(e);this.undoablyRemoveContentsOfRow(t,!1),this.rows.delete(e),this._observers.forEach((function(e){e.tableDidDeleteRow&&e.tableDidDeleteRow(t)}))},t.prototype.undoablyRemoveContentsOfRow=function(e,t){for(var n=[],r=0,i=this.columnCount;r<i;r++){var o=this.columns.get(r),a=this.cellColumns.get(o);a&&(n.push([o,a.get(e)]),a.delete(e),a.size<=0&&this.cellColumns.delete(o))}this.wantsUndoCommands&&this.delegate&&this.delegate.addUndoCommand(y.create(this,e,n)),t&&this._observers.forEach((function(t){t.tableDidDeleteRow&&t.tableDidDeleteRow(e)}))},t.prototype.undoablyInsertContents_atRow=function(e,t){if(e)for(var n=0,r=e;n<r.length;n++){var i=r[n];this.setObject_columnID_rowID(i[1],i[0],t)}this.wantsUndoCommands&&this.delegate&&this.delegate.addUndoCommand(p.create(this,t)),this._observers.forEach((function(e){e.tableDidAddRow&&e.tableDidAddRow(t)}))},t.prototype.removeColumnAtIndex=function(e){var t=this.columns.get(e);this.undoablyRemoveContentsOfColumn(t,!1),this.columns.delete(e),this._observers.forEach((function(e){e.tableDidDeleteColumn&&e.tableDidDeleteColumn(t)}))},t.prototype.moveRow=function(e,t){var n=this.rows.get(e);this.rows.move(e,t),this._observers.forEach((function(e){e.tableDidMoveRow&&e.tableDidMoveRow(n)}))},t.prototype.moveColumn=function(e,t){var n=this.columns.get(e);this.columns.move(e,t),this._observers.forEach((function(e){e.tableDidMoveColumn&&e.tableDidMoveColumn(n)}))},t.prototype.undoablyRemoveContentsOfColumn=function(e,t){var n=this.cellColumns.get(e),r=[];n.forEach((function(e,t){return r.push([t,e])})),this.cellColumns.delete(e),this.wantsUndoCommands&&this.delegate&&this.delegate.addUndoCommand(f.create(this,e,r)),t&&this._observers.forEach((function(t){t.tableDidDeleteColumn&&t.tableDidDeleteColumn(e)}))},t.prototype.undoablyInsertContents_atColumn=function(e,t){if(e)for(var n=0,r=e;n<r.length;n++){var i=r[n];this.setObject_columnID_rowID(i[1],t,i[0])}this.wantsUndoCommands&&this.delegate&&this.delegate.addUndoCommand(h.create(this,t)),this._observers.forEach((function(e){e.tableDidAddColumn&&e.tableDidAddColumn(t)}))},Object.defineProperty(t.prototype,"isRightToLeft",{get:function(){return this.columnDirection===g.RightToLeft},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLeftToRight",{get:function(){return!this.isRightToLeft},enumerable:!1,configurable:!0}),t.prototype.reverseColumnDirection=function(){var e=this.columnDirection;this.columnDirection=e===g.LeftToRight?g.RightToLeft:g.LeftToRight},t.prototype.get=function(e,t){var n=this.columns.get(e),r=this.cellColumns.get(n);if(!r)return null;var i=this.rows.get(t);return r.get(i)||null},t.prototype.set=function(e,t,n){var r=this.columns.get(e),i=this.rows.get(t);this.setObject_columnID_rowID(n,r,i)},t.prototype.setObject_columnID_rowID=function(e,t,n){var r=this.cellColumns.get(t);if(r)r.set(n,e);else{var i=a.CRDictionary.alloc().initWithDocument(this.document).autorelease();this.cellColumns.set(t,i),i.set(n,e)}},t.prototype.forEachColumn=function(e){this.columns.forEach((function(t,n){return e(t,n)}))},t.prototype.forEachRow=function(e){this.rows.forEach((function(t,n){return e(t,n)}))},t.prototype.forEachSelectedCell=function(e,t,n){var r=this,i=e||function(){for(var e=new d.IndexSet,t=0,n=r.columnCount;t<n;++t)e.add(t);return e}(),o=t||function(){for(var e=new d.IndexSet,t=0,n=r.rowCount;t<n;++t)e.add(t);return e}();i.forEach((function(e){o.forEach((function(t){var i=r.get(e,t);n(i,e,t)}))}))},t.prototype.getSubtable=function(e,n,r){var i=t.alloc().initWithDocument(e).autorelease();return this.populateSubtable(i,n,r),i},t.prototype.populateSubtable=function(e,t,n){var r=this,i=t||function(){for(var e=new d.IndexSet,t=0,n=r.columnCount;t<n;++t)e.add(t);return e}(),o=n||function(){for(var e=new d.IndexSet,t=0,n=r.rowCount;t<n;++t)e.add(t);return e}();i.forEach((function(t){var n=r.columns.get(t);e.columns.insert(n,e.columns.size)})),o.forEach((function(t){var n=r.rows.get(t);e.rows.insert(n,e.rows.size)}));for(var a=0;a<e.columnCount;++a)for(var s=this.getColumnIndexForIdentifier(e.getIdentifierForColumnAtIndex(a)),l=0;l<e.rowCount;++l){var u=this.getRowIndexForIdentifier(e.getIdentifierForRowAtIndex(l)),c=this.get(s,u);c&&e.set(a,l,c)}},t.prototype.getNumberOfPopulatedCells=function(){for(var e=0,t=0;t<this.columnCount;++t){var n=this.columns.get(t),r=this.cellColumns.get(n);r&&(e+=r.size)}return e},t.prototype.setDocument=function(e){this._document=e},Object.defineProperty(t.prototype,"identity",{get:function(){return c.CRUUID.CRZero},enumerable:!1,configurable:!0}),t.prototype.addUndoCommand=function(e){this._delegate&&this._delegate.addUndoCommand(e)},Object.defineProperty(t.prototype,"wantsUndoCommands",{get:function(){return!!this._delegate&&this._delegate.wantsUndoCommands},enumerable:!1,configurable:!0}),t}(i.Refcounted);t.CRTable=v,v.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CRRegisterLatest=void 0;var i=n(1543),o=n(1557),a=n(1773),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._document=null,t._timestamp=null,t._contents=null,t}return r(t,e),t.prototype.initWithContents_document=function(e,t){var n=a.CRTimestamp.alloc().initWithReplica_andCounter(o.unserialisedReplicaID(),0).autorelease();return this.initWithContents_timestamp_document(e,n,t)},t.prototype.initWithContents_timestamp_document=function(e,t,n){return this.document=n,this.timestamp=t,this.contents=e,this},t.prototype.free=function(){this._contents&&this._contents.release(),this._timestamp.release(),this._document=null,this._timestamp=null,this._contents=null,e.prototype.free.call(this)},Object.defineProperty(t.prototype,"timestamp",{get:function(){return this._timestamp},set:function(e){this._timestamp!==e&&(this._timestamp&&this._timestamp.release(),this._timestamp=e?e.retain():e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"document",{get:function(){return this._document},set:function(e){this._document=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contents",{get:function(){return this._contents},set:function(e){if(this._contents!==e){if(this._contents&&this._contents.release(),this._contents=e?e.retain():e,this.timestamp.replica!==o.unserialisedReplicaID()){var t=(this.document.replicaClock>this.timestamp.counter?this.document.replicaClock:this.timestamp.counter)+1;this.timestamp=a.CRTimestamp.alloc().initWithReplica_andCounter(o.unserialisedReplicaID(),t).autorelease()}this.document.setDocumentFor(this.contents)}},enumerable:!1,configurable:!0}),t.prototype.encode=function(e){return{contents:"registerLatest",registerLatest:this.encodeIntoProtobufRegisterLatest(e)}},t.prototype.encodeIntoProtobufRegisterLatest=function(e){return{timestamp:this.timestamp.encodeIntoProtobufTimestamp(e),contents:this.contents?e.encodeObjectForObjectID(this.contents):void 0}},t.decodeWithProtobufRegisterLatest=function(e,n){var r=n.contents?e.decodeObjectForProtobufObjectID(n.contents):null,i=n.timestamp?a.CRTimestamp.decodeWithProtobufTimestamp(e,n.timestamp):a.CRTimestamp.alloc().initWithReplica_andCounter(e.document.replica,0).autorelease();return t.alloc().initWithContents_timestamp_document(r,i,e.document).autorelease()},t.prototype.walkGraph=function(e){e(this.contents)},t.prototype.realizeLocalChanges=function(e){if(this.timestamp.replica===o.unserialisedReplicaID()){var t=0===this.timestamp.counter?e.replicaClock+1:this.timestamp.counter;this.timestamp=a.CRTimestamp.alloc().initWithReplica_andCounter(e.replica,t).autorelease(),e.unserializedReplicaClock=e.unserializedReplicaClock>t?e.unserializedReplicaClock:t}},t.prototype.mergeWith=function(e){if(!(e instanceof t))throw new Error("Invalid CRRegisterLatest merge, classes must be equal for merge.");this.timestamp.compare(e.timestamp)<0&&(this.contents=e.contents,this.timestamp=e.timestamp)},t.prototype.deltaSince=function(e,n){var r=e.timestampForReplica(this.timestamp.replica).compare(this.timestamp);if(-1===r)return this;if(0===r){if(!this.contents)return null;var i=this.contents.deltaSince(e,n);if(i)return t.alloc().initWithContents_timestamp_document(i,this.timestamp,n).autorelease()}return null},t.prototype.tombstone=function(){return this},t.prototype.setDocument=function(e){this.document=e},t.prototype.toString=function(){return"CRRegisterLatest "+this.timestamp+" "+this.contents},t}(i.Refcounted);t.CRRegisterLatest=s,s.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CRTimestamp=void 0;var o=n(1543),a=i(n(1540)),s=n(1558),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._replica=null,t._counter=null,t}return r(t,e),Object.defineProperty(t.prototype,"replica",{get:function(){return this._replica},set:function(e){this._replica!==e&&(this._replica&&this._replica.release(),this._replica=e.retain())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"counter",{get:function(){return this._counter},set:function(e){this._counter=e},enumerable:!1,configurable:!0}),t.prototype.initWithReplica_andCounter=function(e,t){return this.replica=e,this.counter=t,this},t.prototype.free=function(){this.replica.release(),this._replica=null,this._counter=null,e.prototype.free.call(this)},t.prototype.getNextTimestamp=function(){return t.alloc().initWithReplica_andCounter(this.replica,this.counter+1).autorelease()},t.prototype.getNextTimestampForReplica=function(e){return s.CRUUID.compare(this.replica,e)<0?t.alloc().initWithReplica_andCounter(e,this.counter).autorelease():t.alloc().initWithReplica_andCounter(e,this.counter+1).autorelease()},t.prototype.earlierTimestamp=function(e){return this.compare(e)>0?e:this},t.prototype.laterTimestamp=function(e){return this.compare(e)<0?e:this},t.prototype.compare=function(e){return this.counter!==e.counter?this.counter>e.counter?1:-1:s.CRUUID.compare(this.replica,e.replica)},t.prototype.clone=function(){return this},t.prototype.isEqual=function(e){return e instanceof t&&this.counter===e.counter&&this.replica.isEqual(e.replica)},t.prototype.encode=function(e){return{contents:"timestamp",timestamp:this.encodeIntoProtobufTimestamp(e)}},t.prototype.encodeIntoProtobufTimestamp=function(e){return{replicaIndex:e.encodeReplica(this.replica),counter:e.encodeLong(this.counter)}},t.decodeWithProtobufTimestamp=function(e,n){var r=n.replicaIndex?n.replicaIndex:a.default.ZERO,i=n.replicaIndex?e.decodeReplica(r):null,o=n.counter?e.decodeLong(n.counter):null;if(null===i||null===o)throw new Error("Cannot decode CRTimestamp; replica or counter null");return t.alloc().initWithReplica_andCounter(i,o).autorelease()},t.prototype.mergeWith=function(e){if(!(e instanceof t))throw new TypeError("CRTimestamp cannot merge with non-CRTimestamp type.");e.compare(this)>0&&(this.replica=e.replica,this.counter=e.counter)},t.prototype.deltaSince=function(e,t){return this},t.prototype.realizeLocalChanges=function(e){},Object.defineProperty(t.prototype,"tombstone",{get:function(){return this},enumerable:!1,configurable:!0}),t.prototype.walkGraph=function(e){},t.prototype.setDocument=function(e){},t.prototype.toString=function(){return"("+this.counter+" "+this.replica+")"},t}(o.Refcounted);t.CRTimestamp=l,l.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CRTombstoneOrderedSet=void 0;var i=n(1543),o=n(1542),a=n(1775),s=n(1776),l=n(1777),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.self=null,t.wrappedCommand=null,t}return r(t,e),t.create=function(e,t){var n=this.alloc();return n.self=e.retain(),n.wrappedCommand=t.retain(),n.autorelease()},t.prototype.free=function(){this.self.release(),this.wrappedCommand.release(),this.self=null,this.wrappedCommand=null,e.prototype.free.call(this)},t.prototype.apply=function(){this.wrappedCommand.apply(),this.self.wipeoutCaches()},t}(i.Refcounted);u.initializeRefcounted();var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.self=null,t.objectIdentifiers=[],t.insert=!1,t}return r(t,e),t.create=function(e,t,n){var r=this.alloc();r.self=e.retain(),r.insert=n,r.objectIdentifiers.length=0;for(var i=0,o=t;i<o.length;i++){var a=o[i];r.objectIdentifiers.push(a.retain())}return r.autorelease()},t.prototype.free=function(){this.self.release();for(var t=0,n=this.objectIdentifiers;t<n.length;t++)n[t].release();this.self=null,this.objectIdentifiers.length=0,e.prototype.free.call(this)},t.prototype.apply=function(){this.insert?this.self.undoablyInsertObjectIdentifiersIntoElements(this.objectIdentifiers):this.self.undoablyRemoveObjectIdentifiersFromElements(this.objectIdentifiers)},t}(i.Refcounted);c.initializeRefcounted();var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._cachedIdentifierSet=null,t._cachedIndexMapping=null,t._delegate=null,t._document=null,t._ordering=null,t._elements=null,t}return r(t,e),Object.defineProperty(t.prototype,"delegate",{get:function(){return this._delegate},set:function(e){this._delegate=e},enumerable:!1,configurable:!0}),t.prototype.encode=function(e){return{contents:"tsOrderedSet",tsOrderedSet:{array:this.ordering.encodeAsIArray(e),set:this.elements.encodeAsSet(e)}}},t.decodeWithTombstoneOrderedSet=function(e,n){var r=o.CRArray.decodeWithArray(e,n.array),i=a.CRSet.decodeWithSet(e,n.set);return t.alloc().initWithOrdering_elements_document(r,i,e.document).autorelease()},Object.defineProperty(t.prototype,"ordering",{get:function(){return this._ordering},set:function(e){this._ordering!==e&&(this._ordering&&this._ordering.release(),this._ordering=e.retain())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"elements",{get:function(){return this._elements},set:function(e){this._elements!==e&&(this._elements&&this._elements.release(),this._elements=e.retain())},enumerable:!1,configurable:!0}),t.prototype.initWithDocument=function(e){var t=o.CRArray.alloc().initWithDocument(e).autorelease(),n=a.CRSet.alloc().initWithDocument(e).autorelease();return this.initWithOrdering_elements_document(t,n,e)},t.prototype.initWithOrdering_elements_document=function(e,t,n){return e.delegate=this,this.ordering=e,this.elements=t,this.document=n,this},t.prototype.free=function(){this.ordering.release(),this.elements.release(),this._document=null,this._delegate=null,this._ordering=null,this._elements=null,this._cachedIndexMapping=null,this._cachedIdentifierSet&&this._cachedIdentifierSet.release(),this._cachedIdentifierSet=null,e.prototype.free.call(this)},t.prototype.wipeoutCaches=function(){this._cachedIndexMapping=null,this._cachedIdentifierSet&&this._cachedIdentifierSet.release(),this._cachedIdentifierSet=null},Object.defineProperty(t.prototype,"document",{get:function(){return this._document},set:function(e){this._document=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.cachedIdentifierSet.size},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var t=this.cachedIdentifierSet.get(e);return this.ordering.getWithIdentifier(t)},t.prototype.has=function(e){var t=this.cachedIndexMapping.get(e.UUIDString);return!!t&&t[1].size>0},t.prototype.indexOf=function(e){var t=this.cachedIndexMapping.get(e.UUIDString);if(!t||0===t[1].size)return-1;var n=t[1].firstIndex,r=this.ordering.array.get(n);return r?this.cachedIdentifierSet.indexOf(r):-1},t.prototype.insert=function(e,t){var n=this.cachedIndexMapping.get(e.UUIDString);if(!(n&&n[1].size>0&&this.ordering.array.get(n[1].firstIndex))){var r=this.size;if(t>r)throw new Error("CRTombstoneOrderedSet: inserting element at invalid index");if(t<r){var i=this.get(t),o=this.cachedIndexMapping.get(i.UUIDString);if(!o)throw new Error("CRTombstoneOrderdSet: expected element at index");var a=o[1].firstIndex,l=this.ordering._insert(e,a);this.elements.add(l),this.cachedIndexMapping.forEach((function(e){e[1].shiftIndexes(a,1)})),this.cachedIndexMapping.set(e.UUIDString,[e,new s.IndexSet([a])]),this.cachedIdentifierSet.insert(l,t),this.wantsUndoCommands&&this.delegate&&this.delegate.addUndoCommand(c.create(this,[l],!1))}else l=this.ordering._push(e),this.elements.add(l),this.cachedIndexMapping.set(e.UUIDString,[e,new s.IndexSet([this.ordering.length-1])]),this.cachedIdentifierSet.insert(l,t),this.wantsUndoCommands&&this.delegate&&this.delegate.addUndoCommand(c.create(this,[l],!1))}},t.prototype.undoablyRemoveObjectIdentifiersFromElements=function(e){for(var t=this.elements,n=0,r=e;n<r.length;n++){var i=r[n];t.delete(i)}this.wipeoutCaches(),this.wantsUndoCommands&&this.delegate&&this.delegate.addUndoCommand(c.create(this,e,!0))},t.prototype.undoablyInsertObjectIdentifiersIntoElements=function(e){for(var t=this.elements,n=0,r=e;n<r.length;n++){var i=r[n];t.add(i)}this.wipeoutCaches(),this.wantsUndoCommands&&this.delegate&&this.delegate.addUndoCommand(c.create(this,e,!1))},t.prototype.push=function(e){this.insert(e,this.size)},t.prototype.delete=function(e){var t=this,n=this.get(e),r=this.cachedIndexMapping.get(n.UUIDString);if(r){var i=this.cachedIdentifierSet.get(e).retain().autorelease(),o=[];o.push(i),this.elements.delete(i),r[1].forEach((function(e){var n=t.ordering.array.get(e).retain().autorelease();t.elements.delete(n),o.push(n)})),this.cachedIndexMapping.delete(n.UUIDString),this._removeObjectsFromOrderingAtIndices(r[1]),this.cachedIdentifierSet.delete(e),this.wantsUndoCommands&&this.delegate&&this.delegate.addUndoCommand(c.create(this,o,!0))}},t.prototype._removeObjectsFromOrderingAtIndices=function(e){if(!(e.size<=0)){var t=this.ordering.array;e.forEachReverse((function(e){return t.delete(e)})),this.cachedIndexMapping.forEach((function(t,n){e.forEachReverse((function(e){t[1].lastIndex>=e&&t[1].shiftIndexes(e+1,-1)}))}))}},t.prototype.move=function(e,t){this._move(e,t,!1)},t.prototype.safeMove=function(e,t){this._move(e,t,!0)},t.prototype._move=function(e,t,n){var r=this;if(t>this.size)throw new Error("CRTombstoneOrderedSet: moving element to an invalid index");if(e!==t||!n){var i=e>t,o=this.get(t),a=this.get(e),l=this.cachedIndexMapping.get(a.UUIDString);if(l){var u=this.cachedIdentifierSet.get(e),c=new Set;if(l[1].forEach((function(e){var t=r.ordering.array.get(e);t&&c.add(t)})),c.delete(u),this.cachedIndexMapping.delete(a.UUIDString),e===t){var d=l[1].firstIndex;l[1].delete(d),this.cachedIndexMapping.set(a.UUIDString,[a,new s.IndexSet([d])])}if(this._removeObjectsFromOrderingAtIndices(l[1]),!n){var h=this.ordering.contents;c.forEach((function(e){h.delete(e)})),h.delete(u),h.set(u,a)}if(e!==t){var f=this.cachedIndexMapping.get(o.UUIDString);if(!f)return;var p=f[1].firstIndex+(i?0:1);this.reinsertIdentifierWithMaskedIdentifiers(u,n?c:null,p,a)}this.cachedIdentifierSet.move(e,t)}}},t.prototype.moveClock=function(){this.ordering.moveClock=!0},t.prototype.reinsertIdentifierWithMaskedIdentifiers=function(e,t,n,r){var i=this.ordering.array;i.insert(e,n);var o=new s.IndexSet([n]);t&&t.forEach((function(e){i.insert(e,n+1),o.add(o.lastIndex+1)})),this.moveClock();var a=t?1+t.size:1;this.cachedIndexMapping.forEach((function(e){e[1].lastIndex>=n&&e[1].shiftIndexes(n,a)})),this.cachedIndexMapping.set(r.UUIDString,[r,o])},t.prototype.forEach=function(e){var t=this;this.cachedIdentifierSet.forEach((function(n,r){e(t.ordering.getWithIdentifier(n),r)}))},Object.defineProperty(t.prototype,"cachedIdentifierSet",{get:function(){return this._cachedIdentifierSet||(this._cachedIndexMapping=new Map,this._cachedIdentifierSet=this.generateOrderedIdentifierSetWithIndexMapping(this._cachedIndexMapping).retain()),this._cachedIdentifierSet},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cachedIndexMapping",{get:function(){return this._cachedIndexMapping||(this._cachedIndexMapping=new Map,this._cachedIdentifierSet=this.generateOrderedIdentifierSetWithIndexMapping(this._cachedIndexMapping).retain()),this._cachedIndexMapping},enumerable:!1,configurable:!0}),t.prototype.generateOrderedIdentifierSetWithIndexMapping=function(e){var t=l.CRUUIDOrderedSet.alloc().init().autorelease(),n=this.elements,r=this.ordering.contents;return this.ordering.array.forEach((function(i,o){if(n.has(i)){var a=r.get(i);if(a){var l=e.get(a.UUIDString);l?l[1].add(o):(t.add(i),e.set(a.UUIDString,[a,new s.IndexSet([o])]))}}})),t},t.prototype.mergeWith=function(e){if(!(e instanceof t))throw new TypeError("CRTombstoneOrderedSet cannot merge with non-CRTombstoneOrderedSet type.");this.ordering.mergeWith(e.ordering),this.elements.mergeWith(e.elements),this.wipeoutCaches()},t.prototype.deltaSince=function(e,n){var r=this.ordering.deltaSince(e,n);if(!r)return null;var i=this.elements.deltaSince(e,n);return i?t.alloc().initWithOrdering_elements_document(r,i,n).autorelease():null},t.prototype.realizeLocalChanges=function(e){this.ordering.realizeLocalChanges(e),this.elements.realizeLocalChanges(e)},Object.defineProperty(t.prototype,"tombstone",{get:function(){var e=this.ordering.tombstone,n=this.elements.tombstone;return t.alloc().initWithOrdering_elements_document(e,n,this.document).autorelease()},enumerable:!1,configurable:!0}),t.prototype.walkGraph=function(e){this.ordering.walkGraph(e),this.elements.walkGraph(e)},t.prototype.setDocument=function(e){this._document=e,this.ordering.setDocument(e),this.elements.setDocument(e)},t.prototype.addUndoCommand=function(e){this._delegate&&this._delegate.addUndoCommand(u.create(this,e))},Object.defineProperty(t.prototype,"wantsUndoCommands",{get:function(){return!!this._delegate&&this._delegate.wantsUndoCommands},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dbg_linearRender",{get:function(){return this.ordering.array.contents.dbg_linearRender},enumerable:!1,configurable:!0}),t}(i.Refcounted);t.CRTombstoneOrderedSet=d,d.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CRSet=void 0;var i=n(1543),o=n(1556),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._dictionary=null,t}return r(t,e),Object.defineProperty(t.prototype,"dictionary",{get:function(){return this._dictionary},set:function(e){this._dictionary!==e&&(this._dictionary&&this._dictionary.release(),this._dictionary=e.retain())},enumerable:!1,configurable:!0}),t.prototype.initWithDocument=function(e){return this.dictionary=o.CRDictionary.alloc().initWithDocument(e).autorelease(),this},t.prototype.free=function(){this.dictionary.release(),this._dictionary=null,e.prototype.free.call(this)},t.prototype.encode=function(e){return{contents:"set",set:this.encodeAsSet(e)}},t.prototype.encodeAsSet=function(e){return this.dictionary.encodeAsDictionaryWithValueCoder(e,(function(t){var n=e.encodeObjectForObjectID(t.value);return{key:n,value:n}}))},t.decodeWithSet=function(e,n){var r=t.alloc().initWithDocument(e.document).autorelease();return r.dictionary=o.CRDictionary.decodeWithDictionaryValueDecoder(e,n,(function(t){var n=t.value?e.decodeObjectForProtobufObjectID(t.value):null;return[n,n]})),r},t.decodeWithSetWithValueDecoder=function(e,n,r){var i=t.alloc().initWithDocument(e.document).autorelease();return i.dictionary=o.CRDictionary.decodeWithDictionaryValueDecoder(e,n,(function(e){var t=r(e);return[t,t]})),i},Object.defineProperty(t.prototype,"size",{get:function(){return this.dictionary.size},enumerable:!1,configurable:!0}),t.prototype.get=function(e){return this.dictionary.get(e)},t.prototype.has=function(e){return null!==this.dictionary.get(e)},t.prototype.add=function(e){this.dictionary.set(e,e)},t.prototype.delete=function(e){this.dictionary.delete(e)},t.prototype.clear=function(){this.dictionary.clear()},t.prototype.realizeLocalChanges=function(e){},t.prototype.mergeWith=function(e){if(!(e instanceof t))throw new TypeError("CRSet cannot merge with non-CRSet type.");this.dictionary.mergeWith(e.dictionary)},Object.defineProperty(t.prototype,"document",{get:function(){return this.dictionary.document},enumerable:!1,configurable:!0}),t.prototype.setDocument=function(e){},t.prototype.deltaSince=function(e,n){var r=this.dictionary.deltaSince(e,n);if(!r)return null;var i=t.alloc().initWithDocument(n).autorelease();return i.dictionary=r,i},t.prototype.walkGraph=function(e){e(this.dictionary)},Object.defineProperty(t.prototype,"tombstone",{get:function(){return this},enumerable:!1,configurable:!0}),t.prototype.toString=function(){if(0===this.size)return"[]";var e="[";return this.dictionary.forEach((function(t,n,r){e+="{timestamp} {obj}\n"})),e+="]"},t.prototype.forEach=function(e){this.dictionary.forEach((function(t,n,r){return e(t,r)}))},t}(i.Refcounted);t.CRSet=a,a.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.IndexSet=void 0;var i=function(){function e(e){void 0===e&&(e=[]),this.indices=[],this.indices=r(e)}return e.prototype.toString=function(){return"["+this.indices.join(" ")+"]"},Object.defineProperty(e.prototype,"size",{get:function(){return this.indices.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstIndex",{get:function(){return this.indices[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastIndex",{get:function(){return this.indices[this.indices.length-1]},enumerable:!1,configurable:!0}),e.prototype.shiftIndexes=function(e,t){if(0!==t)if(t>0)for(var n=0,r=this.indices.length;n<r;++n)e<=(i=this.indices[n])&&(this.indices[n]+=t);else{for(n=0,r=this.indices.length;n<r;++n){var i;e<=(i=this.indices[n])?this.indices[n]+=t:e<=i+t&&(this.indices[n]=void 0)}for(var o=[],a=0,s=this.indices;a<s.length;a++)"number"===typeof(r=s[a])&&o.push(r);this.indices=o}},e.prototype.add=function(e){if(e>this.lastIndex)this.indices.push(e);else{for(var t=0,n=this.indices.length;t<n;++t){if(this.indices[t]===e)return;if(this.indices[t]>e)break}this.indices.splice(t,0,e)}},e.prototype.delete=function(e){for(var t=0,n=this.indices.length;t<n;++t)if(this.indices[t]===e)return void this.indices.splice(t,1)},e.prototype.forEach=function(e){this.indices.forEach(e)},e.prototype.forEachReverse=function(e){for(var t=this.indices.length-1;t>=0;--t)e(this.indices[t])},e}();t.IndexSet=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ReferenceValueOrderedSet=t.StringOrderedSet=t.CRUUIDOrderedSet=void 0;var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.members=new Set,t.order=[],t}return r(t,e),t.prototype.init=function(){return this},t.prototype.free=function(){for(var t=0,n=this.order;t<n.length;t++)n[t].release();this.order.length=0,this.members.clear(),e.prototype.free.call(this)},t.prototype.clear=function(){for(var e=0,t=this.order;e<t.length;e++)t[e].release();this.order.length=0,this.members.clear()},Object.defineProperty(t.prototype,"size",{get:function(){return this.members.size},enumerable:!1,configurable:!0}),t.prototype.get=function(e){return this.order[e]},t.prototype.indexOf=function(e){for(var t=0,n=this.order.length;t<n;++t)if(e.isEqual(this.order[t]))return t;return-1},t.prototype.has=function(e){return this.members.has(e.UUIDString)},t.prototype.add=function(e){this.has(e)||(this.members.add(e.UUIDString),this.order.push(e.retain()))},t.prototype.insert=function(e,t){this.has(e)||(this.members.add(e.UUIDString),this.order.splice(t,0,e.retain()))},t.prototype.delete=function(e){var t=this.get(e);this.members.delete(t.UUIDString),this.order.splice(e,1),t.release()},t.prototype.move=function(e,t){if(e!==t){var n=this.get(e);this.order.splice(e,1),this.order.splice(t,0,n)}},t.prototype.forEach=function(e){this.order.forEach(e)},t}(n(1543).Refcounted);t.CRUUIDOrderedSet=i,i.initializeRefcounted();var o=function(){function e(){this.members=new Set,this.order=[]}return e.prototype.clear=function(){this.members.clear(),this.order.length=0},Object.defineProperty(e.prototype,"size",{get:function(){return this.members.size},enumerable:!1,configurable:!0}),e.prototype.get=function(e){return this.order[e]},e.prototype.indexOf=function(e){return this.order.indexOf(e)},e.prototype.has=function(e){return this.members.has(e)},e.prototype.add=function(e){this.has(e)||(this.members.add(e),this.order.push(e))},e.prototype.insert=function(e,t){this.has(e)||(this.members.add(e),this.order.splice(t,0,e))},e.prototype.delete=function(e){var t=this.get(e);this.members.delete(t),this.order.splice(e,1)},e.prototype.move=function(e,t){if(e!==t){var n=this.get(e);this.order.splice(e,1),this.order.splice(t,0,n)}},e.prototype.forEach=function(e){this.order.forEach(e)},e}();t.StringOrderedSet=o;var a=function(){function e(){this.members=new Set,this.order=[]}return e.prototype.clear=function(){this.members.clear(),this.order.length=0},Object.defineProperty(e.prototype,"size",{get:function(){return this.members.size},enumerable:!1,configurable:!0}),e.prototype.get=function(e){return this.order[e]},e.prototype.indexOf=function(e){return this.order.indexOf(e)},e.prototype.has=function(e){return this.members.has(e)},e.prototype.add=function(e){this.has(e)||(this.members.add(e),this.order.push(e))},e.prototype.insert=function(e,t){this.has(e)||(this.members.add(e),this.order.splice(t,0,e))},e.prototype.delete=function(e){var t=this.get(e);this.members.delete(t),this.order.splice(e,1)},e.prototype.move=function(e,t){if(e!==t){var n=this.get(e);this.order.splice(e,1),this.order.splice(t,0,n)}},e.prototype.forEach=function(e){this.order.forEach(e)},e}();t.ReferenceValueOrderedSet=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ICTable=void 0;var i=n(1559),o=n(1768),a=n(1779),s=n(1771),l=n(1776),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"ttDocument",{get:function(){return this.document},enumerable:!1,configurable:!0}),t.registerWithCRCoder=function(){o.CRCoder.registerClass(t.decodeICTable,"com.apple.notes.ICTable")},t.prototype.encodeIntoCustomObject=function(e){return this.encodeIntoCustomObjectImpl(e,t.decodeICTable)},t.prototype.initFromRows=function(t,n){for(var r=e.prototype.initWithDocument.call(this,t),i=0,o=0,s=n;o<s.length;o++){var l=s[o];r.insertRow(r.rowCount),i=Math.max(i,l.length)}for(var u=0;u<i;++u)r.insertColumn(r.columnCount);for(u=0;u<n.length;++u){l=n[u];for(var c=0;c<l.length;++c){var d=a.CRMergeableAttributedString.alloc().initWithReplicaID(t.replica).autorelease();d.insertString_atIndex(l[c],0),r.set(c,u,d)}}return r},t.decodeICTable=function(e,n){var r=e.decodeObjectForKey("crTableColumnDirection",n),i=e.decodeObjectForKey("crColumns",n),o=e.decodeObjectForKey("crRows",n),s=e.decodeObjectForKey("cellColumns",n),l=t.alloc().initWithDocument_columnDirection_crColumns_crRows_cellColumns(e.document,r,i,o,s).autorelease(),u=[];l.forEachSelectedCell(null,null,(function(e,t,n){e||u.push([t,n])}));for(var c=0,d=u;c<d.length;c++){var h=d[c],f=h[0],p=h[1];l.set(f,p,a.CRMergeableAttributedString.alloc().init().autorelease())}return e.document.objects.set(l.identity.UUIDString,[l.identity.retain(),l.retain()]),l},t.prototype.getString=function(e,t){var n=this.get(e,t);return n?n.string.UTF16String:null},t.prototype.getStringById=function(e,t){var n=this.getColumnIndexForIdentifier(e),r=this.getRowIndexForIdentifier(t);return this.getString(n,r)},t.prototype.setAttributedString=function(e,t,n){var r=this.get(t,n),o=i.NSAttributedString.alloc().initWithString(e).autorelease();if(null===r){var s=a.CRMergeableAttributedString.alloc().init().autorelease();this.set(t,n,s),s.insertAttributedString_atIndex(o,0)}else r.deleteCharactersInRange(i.NSMakeRange(0,r.length)),r.insertAttributedString_atIndex(o,0)},t.prototype.cellContentsAtRowAndColumn=function(e,t){var n=this.getRowIndexForIdentifier(e),r=this.getColumnIndexForIdentifier(t),i=null;return-1!==r&&-1!==n&&((i=this.get(r,n))||(i=a.CRMergeableAttributedString.alloc().init().autorelease(),this.set(r,n,i))),i},t.prototype.insertRowAfterRow=function(e){var t=this.getRowIndexForIdentifier(e);return this.insertRow(t+1)},t.prototype.insertRowBeforeRow=function(e){var t=this.getRowIndexForIdentifier(e);return this.insertRow(t)},t.prototype.insertColumnAfterColumn=function(e){var t=this.getColumnIndexForIdentifier(e);return this.insertColumn(t+1)},t.prototype.insertColumnBeforeColumn=function(e){var t=this.getColumnIndexForIdentifier(e);return this.insertColumn(t)},t.prototype.removeRow=function(e){var t=this.getRowIndexForIdentifier(e);return this.removeRowAtIndex(t),t<this.rowCount?this.getIdentifierForRowAtIndex(t):t-1>=0?this.getIdentifierForRowAtIndex(t-1):null},t.prototype.removeColumn=function(e){var t=this.getColumnIndexForIdentifier(e);return this.removeColumnAtIndex(t),t<this.columnCount?this.getIdentifierForColumnAtIndex(t):t-1>=0?this.getIdentifierForColumnAtIndex(t-1):null},t.prototype.moveRowBeforeRow=function(e,t){var n=this.getColumnIndexForIdentifier(e),r=this.getColumnIndexForIdentifier(t);this.moveRow(n,r)},t.prototype.moveRowAfterRow=function(e,t){var n=this.getColumnIndexForIdentifier(e),r=this.getColumnIndexForIdentifier(t);this.moveRow(n,r+1)},t.prototype.moveColumnBeforeColumn=function(e,t){var n=this.getColumnIndexForIdentifier(e),r=this.getColumnIndexForIdentifier(t);this.moveColumn(n,r)},t.prototype.moveColumnAfterColumn=function(e,t){var n=this.getColumnIndexForIdentifier(e),r=this.getColumnIndexForIdentifier(t);this.moveColumn(n,r+1)},t.prototype.tableContentsAtRowsAndColumns=function(e,t){var n=this.getRowIndexesForIdentifiers(e),r=this.getColumnIndexesForIdentifiers(t);return this.getSubtable(this.ttDocument,r,n)},t.prototype.copyIntoNewDocumentWithReplicaID=function(e){return this.document.copyForReplica(e)},t.prototype.joinedAttributedStringForColumns=function(e,t){var n="",r=-1;return this.forEachSelectedCell(e,t,(function(e,t,i){r===i?n+="\t":-1!==r&&(n+="\n");var o=e?e.toString():null;o&&(n+=o),r=i})),n},t.prototype.columnIsEmptyAtIndex=function(e){return this.isEmptyAtCells(new l.IndexSet([e]),null)},t.prototype.rowIsEmptyAtIndex=function(e){return this.isEmptyAtCells(null,new l.IndexSet([e]))},t.prototype.isEmptyAtCells=function(e,t){var n=e?e.lastIndex:-1,r=t?t.lastIndex:-1;if(e&&n>=this.columnCount||t&&r>=this.rowCount)return!1;var i=!0;return this.forEachSelectedCell(e,t,(function(e,t,n){e&&e.length>0&&(i=!1)})),i},t.prototype.isEmptyAtIDs=function(e,t){var n=e&&e.length>0?this.getColumnIndexesForIdentifiers(e):null,r=t&&t.length>0?this.getRowIndexesForIdentifiers(t):null;return this.isEmptyAtCells(n,r)},t.prototype.getSubtable=function(e,n,r){var i=t.alloc().initWithDocument(e).autorelease();return this.populateSubtable(i,n,r),e.sharedTopotextTimestamp.mergeWithTimestamp(this.ttDocument.sharedTopotextTimestamp),i},t}(s.CRTable);t.ICTable=u,u.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CRMergeableAttributedString=void 0;var i=n(1559),o=n(1780),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._document=null,t}return r(t,e),Object.defineProperty(t.prototype,"document",{get:function(){return this._document},set:function(e){this._document=e},enumerable:!1,configurable:!0}),t.prototype.free=function(){this._document=null,e.prototype.free.call(this)},t.prototype.encode=function(e){return{contents:"string",string:this.saveToArchive()}},t.prototype.encodeAsProtobufString=function(e){return this.saveToArchive()},t.decodeWithProtobufString=function(e,n){var r=e.document,i=t.alloc().initWithArchive_andReplicaID_andSharedTimestamp(n,r.replica,r.sharedTopotextTimestamp).autorelease();return i.setDocument(r),i},t.prototype.mergeWith=function(e){if(!(e instanceof i.TTMergeableAttributedString))throw new TypeError("CRTTAttrStr cannot merge with non-CRTTAttrStr type.");this.mergeWithString_mergeTimestamps(e,!1),this.document&&this.document.addStringWithClocksNeedingUpdating(this)},t.prototype.deltaSince=function(e,t){return this},t.prototype.realizeLocalChanges=function(e){this.generateIdsForLocalChanges(),this.document&&this.document.addStringWithClocksToResetAfterRealizingLocalChanges(this)},Object.defineProperty(t.prototype,"tombstone",{get:function(){return this},enumerable:!1,configurable:!0}),t.prototype.walkGraph=function(e){},t.prototype.setDocument=function(e){if(this.replicaUUID=e.replica,!(e instanceof o.CRTTCompatibleDocument))throw new Error("TTAttributedString document set to a non-TT compatible document.");this.timestamp=e.sharedTopotextTimestamp,this.document=e},t}(i.TTMergeableAttributedString);t.CRMergeableAttributedString=a,a.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CRTTCompatibleDocument=void 0;var i=n(1559),o=n(1781),a=n(1782),s=n(1791),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._sharedTopotextTimestamp=null,t.stringsWithClocksNeedingUpdating=[],t.stringsWithClocksToResetAfterRealizingLocalChanges=[],t}return r(t,e),Object.defineProperty(t.prototype,"sharedTopotextTimestamp",{get:function(){return this._sharedTopotextTimestamp},set:function(e){this._sharedTopotextTimestamp!==e&&(this._sharedTopotextTimestamp&&this._sharedTopotextTimestamp.release(),this._sharedTopotextTimestamp=e.retain())},enumerable:!1,configurable:!0}),t.prototype.addStringWithClocksNeedingUpdating=function(e){this.stringsWithClocksNeedingUpdating.push(e.retain())},t.prototype.addStringWithClocksToResetAfterRealizingLocalChanges=function(e){this.stringsWithClocksToResetAfterRealizingLocalChanges.push(e.retain())},t.prototype.initWithVersion_startVersion_rootObject_replica=function(e,t,n,r){return this.initWithVersion_startVersion_rootObject_replica_topoTimestamp(e,t,n,r,s.TTCRVectorMultiTimestamp.alloc().initWithCapacity(2).autorelease())},t.prototype.initWithVersion_startVersion_rootObject_replica_topoTimestamp=function(t,n,r,i,o){var a=e.prototype.initWithVersion_startVersion_rootObject_replica.call(this,t,n,r,i);return a.sharedTopotextTimestamp=o,a.stringsWithClocksNeedingUpdating=[],a.stringsWithClocksToResetAfterRealizingLocalChanges=[],a},t.prototype.free=function(){this.sharedTopotextTimestamp.release();for(var t=0,n=this.stringsWithClocksNeedingUpdating;t<n.length;t++)n[t].release();for(var r=0,i=this.stringsWithClocksToResetAfterRealizingLocalChanges;r<i.length;r++)i[r].release();this._sharedTopotextTimestamp=null,this.stringsWithClocksToResetAfterRealizingLocalChanges.length=0,this.stringsWithClocksNeedingUpdating.length=0,e.prototype.free.call(this)},t.prototype.realizeLocalChanges=function(){e.prototype.realizeLocalChanges.call(this);for(var t=0,n=this.stringsWithClocksToResetAfterRealizingLocalChanges;t<n.length;t++){var r=n[t];r.resetLocalReplicaClocksToTimestampValues(),r.release()}this.stringsWithClocksToResetAfterRealizingLocalChanges.length=0},t.prototype.mergeResultForMergingWithDocument=function(n){return n instanceof t&&this.sharedTopotextTimestamp.compareTo(n.sharedTopotextTimestamp)&i.TTVectorTimestampComparison.Ascending?o.CRMergeResult.Updated:e.prototype.mergeResultForMergingWithDocument.call(this,n)},t.prototype.mergeTimestampWithDocument=function(t){e.prototype.mergeTimestampWithDocument.call(this,t);var n=t;if(n){this.sharedTopotextTimestamp.mergeWithTimestamp(n.sharedTopotextTimestamp);for(var r=0,i=this.stringsWithClocksNeedingUpdating;r<i.length;r++){var o=i[r];o.updateClock(),o.checkTimestampLogStyleErrors(!0),o.resetLocalReplicaClocksToTimestampValues(),o.release()}this.stringsWithClocksNeedingUpdating.length=0}},t}(a.CRDocument);t.CRTTCompatibleDocument=l,l.initializeRefcounted()},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CRMergeResult=void 0,(r=t.CRMergeResult||(t.CRMergeResult={}))[r.Fail=0]="Fail",r[r.NoChange=1]="NoChange",r[r.Updated=2]="Updated"},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CRDocument=void 0;var i=n(1559),o=n(1543),a=n(1783),s=n(1788),l=n(1781),u=n(1558),c=n(1789),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.unserializedReplicaClock=null,t._version=null,t._startVersion=null,t._replica=null,t._rootObject=null,t._replicaClock=0,t.objects=new Map,t}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return this._version},set:function(e){this._version!==e&&(this._version&&this._version.release(),this._version=e.retain())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startVersion",{get:function(){return this._startVersion},set:function(e){this._startVersion!==e&&(this._startVersion&&this._startVersion.release(),this._startVersion=e?e.retain():e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"replica",{get:function(){return this._replica},set:function(e){this._replica!==e&&(this._replica&&this._replica.release(),this._replica=e.retain())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rootObject",{get:function(){return this._rootObject},set:function(e){this._rootObject!==e&&(this._rootObject&&this._rootObject.release(),this._rootObject=e?e.retain():e,this.setDocumentFor(this._rootObject))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"replicaClock",{get:function(){return this._replicaClock},set:function(e){this._replicaClock=e},enumerable:!1,configurable:!0}),t.prototype.init=function(){return this.initWithReplica(u.CRUUID.UUID())},t.prototype.initWithReplica=function(e){return this.initWithVersion_startVersion_rootObject_replica(c.CRVectorTimestamp.alloc().init().autorelease(),null,null,e)},t.prototype.initWithVersion_rootObject_replica=function(e,t,n){return this.initWithVersion_startVersion_rootObject_replica(e,null,t,n)},t.prototype.initWithVersion_startVersion_rootObject_replica=function(e,t,n,r){return this.version=e,this.replicaClock=this.version.clockForReplica(r),this.unserializedReplicaClock=this.replicaClock,this.startVersion=t,this.rootObject=n,this.replica=r,this},t.prototype.free=function(){this._version.release(),this._replica.release(),this._startVersion&&this._startVersion.release(),this._rootObject&&this._rootObject.release(),this.objects.forEach((function(e){var t=e[0],n=e[1];t.release(),n.release()})),this.objects.clear(),this._version=null,this._replica=null,this._startVersion=null,this._rootObject=null,this._replicaClock=0,this.unserializedReplicaClock=0,e.prototype.free.call(this)},t.unarchiveFromData=function(e,t){return s.CRCoderUnarchiver.decodedDocumentFromData(e,t)},t.prototype.setRootObject=function(e){e!==this.rootObject&&(this.rootObject=e,this.setDocumentFor(e))},t.prototype.copyForReplica=function(e){return t.unarchiveFromData(this.archivedData,e)},Object.defineProperty(t.prototype,"archivedData",{get:function(){return this.realizeLocalChanges(),(new a.CRCoderArchiver).encodedDataWithDocument(this)},enumerable:!1,configurable:!0}),t.prototype.mergeResultForMergingWithDocument=function(e){return e.startVersion&&e.startVersion.compare(this.version)&c.CRVectorTimestampComparison.Descending?l.CRMergeResult.Fail:0===(this.version.compare(e.version)&c.CRVectorTimestampComparison.Ascending)?l.CRMergeResult.NoChange:l.CRMergeResult.Updated},t.prototype.mergeTimestampWithDocument=function(e){this.version.mergeWith(e.version)},t.prototype.mergeWithData=function(e){var n=t.unarchiveFromData(e,this.replica);this.realizeLocalChanges();var r=this.mergeResultForMergingWithDocument(n);if(r!==l.CRMergeResult.Updated)return r;if(this.objects.forEach((function(e){var t=n.objects.get(e[0].UUIDString);t&&e[1].mergeWith(t[1])})),this.rootObject&&n.rootObject&&this.rootObject.mergeWith(n.rootObject),this.mergeTimestampWithDocument(n),this.replicaClock!==this.version.clockForReplica(this.replica))throw new Error("Merging should not modify local replica clock");return this.updateGraphDocumentPointers(),this.updateObjectsSet(),l.CRMergeResult.Updated},t.prototype.updateGraphDocumentPointers=function(){var e=this;this.rootObject&&this.walkGraph((function(t){return t.setDocument(e)}),this.rootObject)},t.prototype.updateObjectsSet=function(){var e=this;this.objects.forEach((function(e){var t=e[0],n=e[1];t.release(),n.release()})),this.objects.clear(),this.rootObject&&this.walkGraph((function(t){t.identity instanceof i.NSString&&e.objects.set(t.identity.UUIDString,[t.identity.retain(),t.retain()])}),this.rootObject)},t.prototype.walkGraph=function(e,t){var n=new Set,r=function(t){n.has(t)||(n.add(t),e(t),t.walkGraph(r))};n.add(t),e(t),t.walkGraph(r)},t.prototype.realizeLocalChanges=function(){var e=this;if(this.rootObject&&this.walkGraph((function(t){return t.realizeLocalChanges(e)}),this.rootObject),this.unserializedReplicaClock>this.replicaClock&&(this._replicaClock=this.unserializedReplicaClock,this.version.maxClockForReplica(this.replicaClock,this.replica)),this.replicaClock!==this.version.clockForReplica(this.replica))throw new Error("Version clock should equal cached replica clock")},t.prototype.setDocumentFor=function(e){var t=this;e&&this.walkGraph((function(e){return e.setDocument(t)}),e)},t.prototype.mergeWithDocument=function(e){return this.mergeWithData(e.archivedData)},t.prototype.deltaSince=function(e,n){if(this.realizeLocalChanges(),0===(e.compare(this.version)&c.CRVectorTimestampComparison.Ascending))return null;var r=this.rootObject.deltaSince(e,this);return t.alloc().initWithVersion_startVersion_rootObject_replica(this.version,e,r,this.replica).archivedData},t.prototype.toString=function(){return"<document "+this.version+" "+this.rootObject+">"},t}(o.Refcounted);t.CRDocument=d,d.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CRCoderArchiver=void 0;var i=r(n(1539)),o=r(n(1540)),a=n(1768),s=n(1784),l=n(1780),u=n(1777),c=function(){function e(){this.uuidSet=null,this.keySet=null,this.encodedObjects=null,this.currentDocument=null}return e.encodedDataWithDocument=function(t){return(new e).encodedDataWithDocument(t)},e.prototype.encodedDataWithDocument=function(e){this.keySet=new u.StringOrderedSet,this.uuidSet=u.CRUUIDOrderedSet.alloc().init().autorelease(),this.encodedObjects=new u.ReferenceValueOrderedSet;var t=e.version.encodeIntoProtobufTimestamp(this),n=e.startVersion?e.startVersion.encodeIntoProtobufTimestamp(this):void 0,r=[],o=[],c=[],d=[],h={version:t,startVersion:n,object:d,keyItem:r,typeItem:o,uuidItem:c};e instanceof l.CRTTCompatibleDocument&&(h.ttTimestamp=e.sharedTopotextTimestamp.encode());var f=d.length;return d.push(void 0),this.currentDocument=h,this.encodedObjects.add(e.rootObject),d[f]=e.rootObject.encode(this),this.keySet.forEach((function(e){return r.push(e)})),a.CRCoder.typeSet.forEach((function(e){return o.push(e)})),this.uuidSet.forEach((function(e){return c.push(i.default.wrap(e.bytes()))})),this.uuidSet.clear(),this.keySet.clear(),this.encodedObjects.clear(),this.currentDocument=null,s.encodeCRDocument(h)},e.prototype.encodeReplica=function(e){return this.encodeUUIDIndexFromUUID(e)},e.prototype.encodeUUIDIndexFromUUID=function(e){var t=this.uuidSet.indexOf(e);return-1===t&&(t=this.uuidSet.size,this.uuidSet.add(e)),this.encodeLong(t)},e.prototype.encodeLong=function(e){return o.default.fromNumber(e)},e.prototype.encodeUUID=function(e,t){return this.encodeString(e,t.toString())},e.prototype.encodeString=function(e,t){return{key:this.indexForKey(e),value:{contents:"stringValue",stringValue:t}}},e.prototype.encodeUInt64=function(e,t){return{key:this.indexForKey(e),value:{contents:"unsignedIntegerValue",unsignedIntegerValue:"number"===typeof t?this.encodeLong(t):t}}},e.prototype.encodeInt64=function(e,t){return{key:this.indexForKey(e),value:{contents:"integerValue",integerValue:this.encodeLong(t)}}},e.prototype.encodeDouble=function(e,t){return{key:this.indexForKey(e),value:{contents:"doubleValue",doubleValue:t}}},e.prototype.encodeObjectField=function(e,t){return{key:this.indexForKey(e),value:this.encodeObjectForObjectID(t)}},e.prototype.encodeObjectForObjectID=function(e){var t=this.encodedObjects.indexOf(e);if(-1!==t)return{contents:"objectIndex",objectIndex:t};var n=this.currentDocument.object.length;this.currentDocument.object.push(void 0),this.encodedObjects.add(e);var r=e.encode(this);return this.currentDocument.object[n]=r,{contents:"objectIndex",objectIndex:n}},e.prototype.indexForKey=function(e){if(!this.keySet)throw new Error("keySet should not be null");var t=this.keySet.indexOf(e);return-1===t&&(t=this.keySet.size,this.keySet.add(e)),t},e}();t.CRCoderArchiver=c},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.encodeVersionedDocument=t.encodeCRDocument=t.encodeTTString=t.decodeTTString=t.decodeCRDocument=t.decodeVersionedDocument=void 0;var a=o(n(1785)),s=a.loadProto('\nsyntax = "proto2";\n\npackage versioned_document;\n\noption optimize_for = LITE_RUNTIME;\n\nmessage Document {\n    // Just in case.\n    optional uint32 serializationVersion = 1;\n\n    repeated Version version = 2;\n}\n\nmessage Version {\n    optional uint32 serializationVersion = 1;\n    optional uint32 minimumSupportedVersion = 2;\n\n    // Interpreted as a topotext.String\n    // Archived as bytes to ensure bit-perfect backward compatibility.\n    optional bytes data = 3;\n}\n',void 0,"versioned-document.proto");s=a.loadProto('\nsyntax = "proto2";\n\npackage topotext;\n\noption optimize_for = LITE_RUNTIME;\n\nmessage String {\n    optional string string = 2;\n\n    // Only needed for mergeable strings.\n    repeated Substring substring = 3;\n    optional VectorTimestamp timestamp = 4;\n\n    repeated AttributeRun attributeRun = 5;\n\n    // Optional attachment data.\n    repeated Attachment attachment = 6;\n}\n\nmessage VectorTimestamp {\n    message Clock {\n        optional bytes replicaUUID = 1;\n        message ReplicaClock {\n            optional uint32 clock = 1;\n            optional uint32 subclock = 2;\n        }\n        repeated ReplicaClock replicaClock = 2;\n    }\n    repeated Clock clock = 1;\n}\n\nmessage CharID {\n    optional uint32 replicaID = 1;\n    optional uint32 clock = 2;\n}\n\nmessage Substring {\n    optional CharID charID = 1;\n    // Length of substring in UTF-16 characters (surrogate pairs are separate characters).\n    optional uint32 length = 2;\n\n    // Style timestamp.\n    optional CharID timestamp = 3;\n\n    optional bool tombstone = 4;\n\n    // Index into String.substring.\n    repeated uint32 child = 5;\n}\n\nmessage Selection {\n    message Range {\n        optional CharID fromChar = 1;\n        optional CharID toChar = 2;\n    };\n    repeated bytes replicaUUID = 1;\n    repeated Range range = 2;\n\n    enum Affinity {\n        Backward = 0;\n        Forward = 1;\n    }\n    optional Affinity affinity = 3;\n}\n\nmessage AttributeRun {\n    // Length of run in UTF-16 characters (surrogate pairs are separate characters).\n    optional uint32 length = 1;\n\n    optional ParagraphStyle paragraphStyle = 2;\n\n    // Overrides bold, italic and paragraph styles.\n    optional Font font = 3;\n\n    // Modifiers applied on-top of paragraph style.\n    // Bold, italic...\n    optional uint32 fontHints = 5;\n\n    // Integer values for future compatibility.\n    // Only set as 1 or 0 currently.\n    optional uint32 underline = 6;\n    optional uint32 strikethrough = 7;\n\n    optional int32 superscript = 8;\n    optional string link = 9;\n    optional Color color = 10;\n\n    enum WritingDirection {\n        NaturalDirection = 0;\n        LeftToRight = 1;\n        RightToLeft = 2;\n        LeftToRightOverride = 3;\n        RightToLeftOverride = 4;\n    }\n\n    optional WritingDirection writingDirection = 11;\n\n    optional AttachmentInfo attachmentInfo = 12;\n\n    optional uint64 timestamp = 13;\n\n    // Reminders hashtags\n    optional HashtagInfo hashtagInfo = 14;\n}\n\nmessage Font {\n    optional string name = 1;\n    optional float pointSize = 2;\n\n    // Hints for when named font does not exist on device.\n    optional uint32 fontHints = 3;\n}\n\nmessage ParagraphStyle {\n    enum Alignment {\n        Left = 0;\n        Center = 1;\n        Right = 2;\n        Justified = 3;\n        Natural = 4;\n    }\n\n    optional uint32 style = 1;\n    optional Alignment alignment = 2;\n    optional AttributeRun.WritingDirection writingDirection = 3;\n    optional int32 indent = 4;\n    optional Todo todo = 5;\n\n    // Hints for when paragraph style does not exist in this version.\n    optional uint32 paragraphHints = 6;\n\n    // Only used for the initial item of a numbered list.\n    optional uint32 startingListItemNumber = 7;\n\n    // The current block quote level of the paragraph. The default value is 0.\n    optional uint32 blockQuoteLevel = 8;\n}\n\nmessage HashtagInfo {\n    optional string objectIdentifier = 1;\n}\n\nmessage AttachmentInfo {\n    optional string attachmentIdentifier = 1;\n    optional string typeUTI = 2;\n}\n\nmessage Attachment {\n    optional string identifier = 2;\n    optional bytes mergeableData = 3;\n    optional float sizeHeight = 4;\n    optional float sizeWidth = 5;\n    optional string summary = 6;\n    optional string title = 7;\n    optional string typeUTI = 8;\n    optional string urlString = 9;\n\n    optional Location location = 10;\n    optional Media media = 11;\n    repeated PreviewImage preview = 12;\n\n    optional float originX = 13;\n    optional float originY = 14;\n    optional int32 orientation = 15;\n\n    optional double previewUpdateDate = 16;\n    optional double modificationDate = 17;\n    optional string remoteFileURL = 18;\n    optional bool checkedForLocation = 19;\n    optional int64 fileSize = 20;\n    optional double duration = 21;\n\n    optional int32 imageFilterType = 22;\n    optional bytes markupModelData = 23;\n    repeated Attachment subAttachment = 24;\n\n    optional int64 minimumSupportedNotesVersion = 25;\n\n    optional double croppingQuadBottomLeftX = 26;\n    optional double croppingQuadBottomLeftY = 27;\n    optional double croppingQuadBottomRightX = 28;\n    optional double croppingQuadBottomRightY = 29;\n    optional double croppingQuadTopLeftX = 30;\n    optional double croppingQuadTopLeftY = 31;\n    optional double croppingQuadTopRightX = 32;\n    optional double croppingQuadTopRightY = 33;\n\n    optional bytes metadataData = 34;\n\n    optional string userTitle = 35;\n\n    optional bytes fallbackImageData = 36;\n\n    optional bytes linkPresentationArchivedMetadata = 37;\n\n    repeated Attachment inlineAttachment = 38;\n\n    optional bytes systemPaperBundle = 39;\n\n    optional bytes synapseData = 40;\n\n    optional bytes fallbackPDFData = 41;\n\n    optional bytes mergeablePreferredViewSize = 42;\n\n}\n\nmessage Location {\n    optional double latitude = 1;\n    optional double longitude = 2;\n\n    optional bytes placemark = 3;\n\n    optional bool placeUpdated = 4;\n}\n\nmessage Media {\n    optional string identifier = 1;\n    optional string filenameExtension = 2;\n    optional bytes data = 3;\n    optional string filename = 4;\n\n    optional int64 minimumSupportedNotesVersion = 5;\n}\n\nmessage PreviewImage {\n    optional float scale = 1;\n    optional bool scaleWhenDrawing = 2;\n    optional bytes data = 3;\n    optional bytes metadata = 4;\n    optional int32 version = 5;\n    optional bool versionOutOfDate = 6;\n\n    optional int64 minimumSupportedNotesVersion = 7;\n    optional int32 appearanceType = 8;\n}\n\nmessage Todo {\n    optional bytes todoUUID = 1;\n    optional bool done = 2;\n}\n\nmessage Color {\n    optional float red = 1;\n    optional float green = 2;\n    optional float blue = 3;\n    optional float alpha = 4;\n}\n\nmessage BoxedValue {\n    oneof contents {\n        sint64 integerValue = 1;\n        uint64 unsignedIntegerValue = 2;\n        double doubleValue = 3;\n        string stringValue = 4;\n        bytes bytesValue = 5;\n        bytes uuidValue = 6;\n    }\n}\n\nmessage WallClockMergeableValue {\n    optional double timestamp = 1;\n    optional BoxedValue contents = 2;\n}\n',s,"topotext.proto");var l=(s=a.loadProto('\nsyntax = "proto2";\n\npackage CRDT;\n\noption optimize_for = LITE_RUNTIME;\n\nmessage ObjectID {\n    oneof contents {\n        sint64 integerValue = 1;\n        uint64 unsignedIntegerValue = 2;\n        double doubleValue = 3;\n        string stringValue = 4;\n        bytes bytesValue = 5;\n        // Store objects as an index into \u2018objects\'\n        uint32 objectIndex = 6;\n    }\n}\n\nmessage Timestamp {\n    optional uint64 replicaIndex = 1;\n    optional int64 counter = 2;\n}\n\nmessage RegisterLatest {\n    optional Timestamp timestamp = 1;\n    optional ObjectID contents = 2;\n}\n\nmessage VectorTimestamp {\n    message Element {\n        optional uint64 replicaIndex = 1;\n        optional uint64 clock = 2;\n        optional uint64 subclock = 3;\n    }\n    repeated Element element = 1;\n}\n\nmessage Dictionary {\n    message Element {\n        optional ObjectID key = 1;\n        optional ObjectID value = 2;\n        optional VectorTimestamp timestamp = 3;\n        optional RegisterLatest index = 4;\n    }\n    repeated Element element = 1;\n}\n\nmessage Index {\n    message Element {\n        optional uint64 replicaIndex = 1;\n        optional int64 integer = 2;\n    }\n    repeated Element element = 1;\n}\n\nmessage OneOf {\n    message Element {\n        optional ObjectID value = 1;\n        optional Timestamp timestamp = 2;\n    }\n    repeated Element element = 1;\n}\n\nmessage StringArray {\n    optional topotext.String contents = 1;\n    repeated ArrayAttachment attachments = 2;\n    message ArrayAttachment {\n        optional uint64 attachmentIndex = 1;\n        optional bytes contents = 2;\n    }\n}\n\nmessage Array {\n    optional StringArray array = 1;\n    optional Dictionary dictionary = 2;\n}\n\nmessage OrderedSet {\n    optional Array array = 1;\n    optional Dictionary set = 2;\n}\n\nmessage Document {\n    // A list of all objects in the graph.\n    message CustomObject {\n        // object type as an identifier index\n        optional int32 type = 1;\n        // key as identifier index -> ObjectID\n        message MapEntry {\n            required int32 key = 1;\n            required ObjectID value = 2;\n        }\n        repeated MapEntry mapEntry = 3;\n    }\n    message DocObject {\n        oneof contents {\n            RegisterLatest registerLatest = 1;\n            RegisterLatest registerGreatest = 2;\n            RegisterLatest registerLeast = 3;\n            Dictionary set = 4;\n            Dictionary orderedSet = 5;\n            Dictionary dictionary = 6;\n            Timestamp timestamp = 7;\n            VectorTimestamp vectorTimestamp = 8;\n            Index index = 9;\n            topotext.String string = 10;\n            uint64 weakReference = 11;\n            OneOf oneof = 12;\n            CustomObject custom = 13;\n            StringArray stringArray = 14;\n            Array array = 15;\n            OrderedSet tsOrderedSet = 16;\n            // Note: tags 1-15 take less space\n        }\n    }\n\n    optional VectorTimestamp version = 1;\n    optional VectorTimestamp startVersion = 2;\n    repeated DocObject object = 3;\n    repeated string keyItem = 4;\n    repeated string typeItem = 5;\n    repeated bytes uuidItem = 6;\n    optional topotext.VectorTimestamp ttTimestamp = 7;\n}\n',s,"crframework.proto")).build();t.decodeVersionedDocument=function(e){return"string"===typeof e?l.versioned_document.Document.decode64(e):l.versioned_document.Document.decode(e)},t.decodeCRDocument=function(e){return"string"===typeof e?l.CRDT.Document.decode64(e):l.CRDT.Document.decode(e)},t.decodeTTString=function(e){return"string"===typeof e?l.topotext.String.decode64(e):l.topotext.String.decode(e)},t.encodeTTString=function(e){return new l.topotext.String(e).encode()},t.encodeCRDocument=function(e){return new l.CRDT.Document(e).encode()},t.encodeVersionedDocument=function(e){return new l.versioned_document.Document(e).encode()}},function(e,t,n){var r,i,o;i=[n(1539)],void 0===(o="function"===typeof(r=function(e,t){"use strict";var r={};return r.ByteBuffer=e,r.Long=e.Long||null,r.VERSION="5.0.3",r.WIRE_TYPES={},r.WIRE_TYPES.VARINT=0,r.WIRE_TYPES.BITS64=1,r.WIRE_TYPES.LDELIM=2,r.WIRE_TYPES.STARTGROUP=3,r.WIRE_TYPES.ENDGROUP=4,r.WIRE_TYPES.BITS32=5,r.PACKABLE_WIRE_TYPES=[r.WIRE_TYPES.VARINT,r.WIRE_TYPES.BITS64,r.WIRE_TYPES.BITS32],r.TYPES={int32:{name:"int32",wireType:r.WIRE_TYPES.VARINT,defaultValue:0},uint32:{name:"uint32",wireType:r.WIRE_TYPES.VARINT,defaultValue:0},sint32:{name:"sint32",wireType:r.WIRE_TYPES.VARINT,defaultValue:0},int64:{name:"int64",wireType:r.WIRE_TYPES.VARINT,defaultValue:r.Long?r.Long.ZERO:void 0},uint64:{name:"uint64",wireType:r.WIRE_TYPES.VARINT,defaultValue:r.Long?r.Long.UZERO:void 0},sint64:{name:"sint64",wireType:r.WIRE_TYPES.VARINT,defaultValue:r.Long?r.Long.ZERO:void 0},bool:{name:"bool",wireType:r.WIRE_TYPES.VARINT,defaultValue:!1},double:{name:"double",wireType:r.WIRE_TYPES.BITS64,defaultValue:0},string:{name:"string",wireType:r.WIRE_TYPES.LDELIM,defaultValue:""},bytes:{name:"bytes",wireType:r.WIRE_TYPES.LDELIM,defaultValue:null},fixed32:{name:"fixed32",wireType:r.WIRE_TYPES.BITS32,defaultValue:0},sfixed32:{name:"sfixed32",wireType:r.WIRE_TYPES.BITS32,defaultValue:0},fixed64:{name:"fixed64",wireType:r.WIRE_TYPES.BITS64,defaultValue:r.Long?r.Long.UZERO:void 0},sfixed64:{name:"sfixed64",wireType:r.WIRE_TYPES.BITS64,defaultValue:r.Long?r.Long.ZERO:void 0},float:{name:"float",wireType:r.WIRE_TYPES.BITS32,defaultValue:0},enum:{name:"enum",wireType:r.WIRE_TYPES.VARINT,defaultValue:0},message:{name:"message",wireType:r.WIRE_TYPES.LDELIM,defaultValue:null},group:{name:"group",wireType:r.WIRE_TYPES.STARTGROUP,defaultValue:null}},r.MAP_KEY_TYPES=[r.TYPES.int32,r.TYPES.sint32,r.TYPES.sfixed32,r.TYPES.uint32,r.TYPES.fixed32,r.TYPES.int64,r.TYPES.sint64,r.TYPES.sfixed64,r.TYPES.uint64,r.TYPES.fixed64,r.TYPES.bool,r.TYPES.string,r.TYPES.bytes],r.ID_MIN=1,r.ID_MAX=536870911,r.convertFieldsToCamelCase=!1,r.populateAccessors=!0,r.populateDefaults=!0,r.Util=function(){var e={};return e.IS_NODE=!("object"!==typeof process||process+""!=="[object process]"||process.browser),e.XHR=function(){for(var e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],t=null,n=0;n<e.length;n++){try{t=e[n]()}catch(r){continue}break}if(!t)throw Error("XMLHttpRequest is not supported");return t},e.fetch=function(t,r){if(r&&"function"!=typeof r&&(r=null),e.IS_NODE){var i=n(1786);if(r)i.readFile(t,(function(e,t){r(e?null:""+t)}));else try{return i.readFileSync(t)}catch(a){return null}}else{var o=e.XHR();if(o.open("GET",t,!!r),o.setRequestHeader("Accept","text/plain"),"function"===typeof o.overrideMimeType&&o.overrideMimeType("text/plain"),!r)return o.send(null),200==o.status||0==o.status&&"string"===typeof o.responseText?o.responseText:null;if(o.onreadystatechange=function(){4==o.readyState&&(200==o.status||0==o.status&&"string"===typeof o.responseText?r(o.responseText):r(null))},4==o.readyState)return;o.send(null)}},e.toCamelCase=function(e){return e.replace(/_([a-zA-Z])/g,(function(e,t){return t.toUpperCase()}))},e}(),r.Lang={DELIM:/[\s\{\}=;:\[\],'"\(\)<>]/g,RULE:/^(?:required|optional|repeated|map)$/,TYPE:/^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,NAME:/^[a-zA-Z_][a-zA-Z_0-9]*$/,TYPEDEF:/^[a-zA-Z][a-zA-Z_0-9]*$/,TYPEREF:/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,FQTYPEREF:/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/,NUMBER:/^-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+|([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?)|inf|nan)$/,NUMBER_DEC:/^(?:[1-9][0-9]*|0)$/,NUMBER_HEX:/^0[xX][0-9a-fA-F]+$/,NUMBER_OCT:/^0[0-7]+$/,NUMBER_FLT:/^([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?|inf|nan)$/,BOOL:/^(?:true|false)$/i,ID:/^(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,NEGID:/^\-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,WHITESPACE:/\s/,STRING:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,STRING_DQ:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,STRING_SQ:/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g},r.DotProto=function(e,t){var n={},r=function(e){this.source=e+"",this.index=0,this.line=1,this.stack=[],this._stringOpen=null},i=r.prototype;i._readString=function(){var e='"'===this._stringOpen?t.STRING_DQ:t.STRING_SQ;e.lastIndex=this.index-1;var n=e.exec(this.source);if(!n)throw Error("unterminated string");return this.index=e.lastIndex,this.stack.push(this._stringOpen),this._stringOpen=null,n[1]},i.next=function(){if(this.stack.length>0)return this.stack.shift();if(this.index>=this.source.length)return null;if(null!==this._stringOpen)return this._readString();var e,n,r;do{for(e=!1;t.WHITESPACE.test(r=this.source.charAt(this.index));)if("\n"===r&&++this.line,++this.index===this.source.length)return null;if("/"===this.source.charAt(this.index))if(++this.index,"/"===this.source.charAt(this.index)){for(;"\n"!==this.source.charAt(++this.index);)if(this.index==this.source.length)return null;++this.index,++this.line,e=!0}else{if("*"!==(r=this.source.charAt(this.index)))return"/";do{if("\n"===r&&++this.line,++this.index===this.source.length)return null;n=r,r=this.source.charAt(this.index)}while("*"!==n||"/"!==r);++this.index,e=!0}}while(e);if(this.index===this.source.length)return null;var i=this.index;if(t.DELIM.lastIndex=0,!t.DELIM.test(this.source.charAt(i++)))for(;i<this.source.length&&!t.DELIM.test(this.source.charAt(i));)++i;var o=this.source.substring(this.index,this.index=i);return'"'!==o&&"'"!==o||(this._stringOpen=o),o},i.peek=function(){if(0===this.stack.length){var e=this.next();if(null===e)return null;this.stack.push(e)}return this.stack[0]},i.skip=function(e){var t=this.next();if(t!==e)throw Error("illegal '"+t+"', '"+e+"' expected")},i.omit=function(e){return this.peek()===e&&(this.next(),!0)},i.toString=function(){return"Tokenizer ("+this.index+"/"+this.source.length+" at line "+this.line+")"},n.Tokenizer=r;var o=function(e){this.tn=new r(e),this.proto3=!1},a=o.prototype;function s(e,n){var r=-1,i=1;if("-"==e.charAt(0)&&(i=-1,e=e.substring(1)),t.NUMBER_DEC.test(e))r=parseInt(e);else if(t.NUMBER_HEX.test(e))r=parseInt(e.substring(2),16);else{if(!t.NUMBER_OCT.test(e))throw Error("illegal id value: "+(i<0?"-":"")+e);r=parseInt(e.substring(1),8)}if(r=i*r|0,!n&&r<0)throw Error("illegal id value: "+(i<0?"-":"")+e);return r}function l(e){var n=1;if("-"==e.charAt(0)&&(n=-1,e=e.substring(1)),t.NUMBER_DEC.test(e))return n*parseInt(e,10);if(t.NUMBER_HEX.test(e))return n*parseInt(e.substring(2),16);if(t.NUMBER_OCT.test(e))return n*parseInt(e.substring(1),8);if("inf"===e)return n*(1/0);if("nan"===e)return NaN;if(t.NUMBER_FLT.test(e))return n*parseFloat(e);throw Error("illegal number value: "+(n<0?"-":"")+e)}function u(e,t,n){"undefined"===typeof e[t]?e[t]=n:(Array.isArray(e[t])||(e[t]=[e[t]]),e[t].push(n))}return a.parse=function(){var e,n,r={name:"[ROOT]",package:null,messages:[],enums:[],imports:[],options:{},services:[]},i=!0;try{for(;e=this.tn.next();)switch(e){case"package":if(!i||null!==r.package)throw Error("unexpected 'package'");if(e=this.tn.next(),!t.TYPEREF.test(e))throw Error("illegal package name: "+e);this.tn.skip(";"),r.package=e;break;case"import":if(!i)throw Error("unexpected 'import'");("public"===(e=this.tn.peek())||(n="weak"===e))&&this.tn.next(),e=this._readString(),this.tn.skip(";"),n||r.imports.push(e);break;case"syntax":if(!i)throw Error("unexpected 'syntax'");this.tn.skip("="),"proto3"===(r.syntax=this._readString())&&(this.proto3=!0),this.tn.skip(";");break;case"message":this._parseMessage(r,null),i=!1;break;case"enum":this._parseEnum(r),i=!1;break;case"option":this._parseOption(r);break;case"service":this._parseService(r);break;case"extend":this._parseExtend(r);break;default:throw Error("unexpected '"+e+"'")}}catch(o){throw o.message="Parse error at line "+this.tn.line+": "+o.message,o}return delete r.name,r},o.parse=function(e){return new o(e).parse()},a._readString=function(){var e,t,n="";do{if("'"!==(t=this.tn.next())&&'"'!==t)throw Error("illegal string delimiter: "+t);n+=this.tn.next(),this.tn.skip(t),e=this.tn.peek()}while('"'===e||'"'===e);return n},a._readValue=function(e){var n=this.tn.peek();if('"'===n||"'"===n)return this._readString();if(this.tn.next(),t.NUMBER.test(n))return l(n);if(t.BOOL.test(n))return"true"===n.toLowerCase();if(e&&t.TYPEREF.test(n))return n;throw Error("illegal value: "+n)},a._parseOption=function(e,n){var r=this.tn.next(),i=!1;if("("===r&&(i=!0,r=this.tn.next()),!t.TYPEREF.test(r))throw Error("illegal option name: "+r);var o=r;i&&(this.tn.skip(")"),o="("+o+")",r=this.tn.peek(),t.FQTYPEREF.test(r)&&(o+=r,this.tn.next())),this.tn.skip("="),this._parseOptionValue(e,o),n||this.tn.skip(";")},a._parseOptionValue=function(e,n){var r=this.tn.peek();if("{"!==r)u(e.options,n,this._readValue(!0));else for(this.tn.skip("{");"}"!==(r=this.tn.next());){if(!t.NAME.test(r))throw Error("illegal option name: "+n+"."+r);this.tn.omit(":")?u(e.options,n+"."+r,this._readValue(!0)):this._parseOptionValue(e,n+"."+r)}},a._parseService=function(e){var n=this.tn.next();if(!t.NAME.test(n))throw Error("illegal service name at line "+this.tn.line+": "+n);var r={name:n,rpc:{},options:{}};for(this.tn.skip("{");"}"!==(n=this.tn.next());)if("option"===n)this._parseOption(r);else{if("rpc"!==n)throw Error("illegal service token: "+n);this._parseServiceRPC(r)}this.tn.omit(";"),e.services.push(r)},a._parseServiceRPC=function(e){var n=this.tn.next();if(!t.NAME.test(n))throw Error("illegal rpc service method name: "+n);var r=n,i={request:null,response:null,request_stream:!1,response_stream:!1,options:{}};if(this.tn.skip("("),"stream"===(n=this.tn.next()).toLowerCase()&&(i.request_stream=!0,n=this.tn.next()),!t.TYPEREF.test(n))throw Error("illegal rpc service request type: "+n);if(i.request=n,this.tn.skip(")"),"returns"!==(n=this.tn.next()).toLowerCase())throw Error("illegal rpc service request type delimiter: "+n);if(this.tn.skip("("),"stream"===(n=this.tn.next()).toLowerCase()&&(i.response_stream=!0,n=this.tn.next()),i.response=n,this.tn.skip(")"),"{"===(n=this.tn.peek())){for(this.tn.next();"}"!==(n=this.tn.next());){if("option"!==n)throw Error("illegal rpc service token: "+n);this._parseOption(i)}this.tn.omit(";")}else this.tn.skip(";");"undefined"===typeof e.rpc&&(e.rpc={}),e.rpc[r]=i},a._parseMessage=function(e,n){var r=!!n,i=this.tn.next(),o={name:"",fields:[],enums:[],messages:[],options:{},services:[],oneofs:{}};if(!t.NAME.test(i))throw Error("illegal "+(r?"group":"message")+" name: "+i);for(o.name=i,r&&(this.tn.skip("="),n.id=s(this.tn.next()),o.isGroup=!0),"["===(i=this.tn.peek())&&n&&this._parseFieldOptions(n),this.tn.skip("{");"}"!==(i=this.tn.next());)if(t.RULE.test(i))this._parseMessageField(o,i);else if("oneof"===i)this._parseMessageOneOf(o);else if("enum"===i)this._parseEnum(o);else if("message"===i)this._parseMessage(o);else if("option"===i)this._parseOption(o);else if("service"===i)this._parseService(o);else if("extensions"===i)o.hasOwnProperty("extensions")?o.extensions=o.extensions.concat(this._parseExtensionRanges()):o.extensions=this._parseExtensionRanges();else if("reserved"===i)this._parseIgnored();else if("extend"===i)this._parseExtend(o);else{if(!t.TYPEREF.test(i))throw Error("illegal message token: "+i);if(!this.proto3)throw Error("illegal field rule: "+i);this._parseMessageField(o,"optional",i)}return this.tn.omit(";"),e.messages.push(o),o},a._parseIgnored=function(){for(;";"!==this.tn.peek();)this.tn.next();this.tn.skip(";")},a._parseMessageField=function(e,n,r){if(!t.RULE.test(n))throw Error("illegal message field rule: "+n);var i,o={rule:n,type:"",name:"",options:{},id:0};if("map"===n){if(r)throw Error("illegal type: "+r);if(this.tn.skip("<"),i=this.tn.next(),!t.TYPE.test(i)&&!t.TYPEREF.test(i))throw Error("illegal message field type: "+i);if(o.keytype=i,this.tn.skip(","),i=this.tn.next(),!t.TYPE.test(i)&&!t.TYPEREF.test(i))throw Error("illegal message field: "+i);if(o.type=i,this.tn.skip(">"),i=this.tn.next(),!t.NAME.test(i))throw Error("illegal message field name: "+i);o.name=i,this.tn.skip("="),o.id=s(this.tn.next()),"["===(i=this.tn.peek())&&this._parseFieldOptions(o),this.tn.skip(";")}else if("group"===(r="undefined"!==typeof r?r:this.tn.next())){var a=this._parseMessage(e,o);if(!/^[A-Z]/.test(a.name))throw Error("illegal group name: "+a.name);o.type=a.name,o.name=a.name.toLowerCase(),this.tn.omit(";")}else{if(!t.TYPE.test(r)&&!t.TYPEREF.test(r))throw Error("illegal message field type: "+r);if(o.type=r,i=this.tn.next(),!t.NAME.test(i))throw Error("illegal message field name: "+i);o.name=i,this.tn.skip("="),o.id=s(this.tn.next()),"["===(i=this.tn.peek())&&this._parseFieldOptions(o),this.tn.skip(";")}return e.fields.push(o),o},a._parseMessageOneOf=function(e){var n=this.tn.next();if(!t.NAME.test(n))throw Error("illegal oneof name: "+n);var r,i=n,o=[];for(this.tn.skip("{");"}"!==(n=this.tn.next());)(r=this._parseMessageField(e,"optional",n)).oneof=i,o.push(r.id);this.tn.omit(";"),e.oneofs[i]=o},a._parseFieldOptions=function(e){this.tn.skip("[");for(var t=!0;"]"!==this.tn.peek();)t||this.tn.skip(","),this._parseOption(e,!0),t=!1;this.tn.next()},a._parseEnum=function(e){var n={name:"",values:[],options:{}},r=this.tn.next();if(!t.NAME.test(r))throw Error("illegal name: "+r);for(n.name=r,this.tn.skip("{");"}"!==(r=this.tn.next());)if("option"===r)this._parseOption(n);else{if(!t.NAME.test(r))throw Error("illegal name: "+r);this.tn.skip("=");var i={name:r,id:s(this.tn.next(),!0)};"["===(r=this.tn.peek())&&this._parseFieldOptions({options:{}}),this.tn.skip(";"),n.values.push(i)}this.tn.omit(";"),e.enums.push(n)},a._parseExtensionRanges=function(){var t,n,r,i=[];do{for(n=[];;){switch(t=this.tn.next()){case"min":r=e.ID_MIN;break;case"max":r=e.ID_MAX;break;default:r=l(t)}if(n.push(r),2===n.length)break;if("to"!==this.tn.peek()){n.push(r);break}this.tn.next()}i.push(n)}while(this.tn.omit(","));return this.tn.skip(";"),i},a._parseExtend=function(e){var n=this.tn.next();if(!t.TYPEREF.test(n))throw Error("illegal extend reference: "+n);var r={ref:n,fields:[]};for(this.tn.skip("{");"}"!==(n=this.tn.next());)if(t.RULE.test(n))this._parseMessageField(r,n);else{if(!t.TYPEREF.test(n))throw Error("illegal extend token: "+n);if(!this.proto3)throw Error("illegal field rule: "+n);this._parseMessageField(r,"optional",n)}return this.tn.omit(";"),e.messages.push(r),r},a.toString=function(){return"Parser at line "+this.tn.line},n.Parser=o,n}(r,r.Lang),r.Reflect=function(t){var n={},r=function(e,t,n){this.builder=e,this.parent=t,this.name=n,this.className},i=r.prototype;i.fqn=function(){for(var e=this.name,t=this;null!=(t=t.parent);)e=t.name+"."+e;return e},i.toString=function(e){return(e?this.className+" ":"")+this.fqn()},i.build=function(){throw Error(this.toString(!0)+" cannot be built directly")},n.T=r;var o=function(e,t,n,i,o){r.call(this,e,t,n),this.className="Namespace",this.children=[],this.options=i||{},this.syntax=o||"proto2"},a=o.prototype=Object.create(r.prototype);a.getChildren=function(e){if(null==(e=e||null))return this.children.slice();for(var t=[],n=0,r=this.children.length;n<r;++n)this.children[n]instanceof e&&t.push(this.children[n]);return t},a.addChild=function(e){var t;if(t=this.getChild(e.name))if(t instanceof c.Field&&t.name!==t.originalName&&null===this.getChild(t.originalName))t.name=t.originalName;else{if(!(e instanceof c.Field&&e.name!==e.originalName&&null===this.getChild(e.originalName)))throw Error("Duplicate name in namespace "+this.toString(!0)+": "+e.name);e.name=e.originalName}this.children.push(e)},a.getChild=function(e){for(var t="number"===typeof e?"id":"name",n=0,r=this.children.length;n<r;++n)if(this.children[n][t]===e)return this.children[n];return null},a.resolve=function(e,t){var r,i="string"===typeof e?e.split("."):e,o=this,a=0;if(""===i[a]){for(;null!==o.parent;)o=o.parent;a++}do{do{if(!(o instanceof n.Namespace)){o=null;break}if(!(r=o.getChild(i[a]))||!(r instanceof n.T)||t&&!(r instanceof n.Namespace)){o=null;break}o=r,a++}while(a<i.length);if(null!=o)break;if(null!==this.parent)return this.parent.resolve(e,t)}while(null!=o);return o},a.qn=function(e){var t=[],r=e;do{t.unshift(r.name),r=r.parent}while(null!==r);for(var i=1;i<=t.length;i++){var o=t.slice(t.length-i);if(e===this.resolve(o,e instanceof n.Namespace))return o.join(".")}return e.fqn()},a.build=function(){for(var e,t={},n=this.children,r=0,i=n.length;r<i;++r)(e=n[r])instanceof o&&(t[e.name]=e.build());return Object.defineProperty&&Object.defineProperty(t,"$options",{value:this.buildOpt()}),t},a.buildOpt=function(){for(var e={},t=Object.keys(this.options),n=0,r=t.length;n<r;++n){var i=t[n],o=this.options[t[n]];e[i]=o}return e},a.getOption=function(e){return"undefined"===typeof e?this.options:"undefined"!==typeof this.options[e]?this.options[e]:null},n.Namespace=o;var s=function(e,n,r,i,o){if(this.type=e,this.resolvedType=n,this.isMapKey=r,this.syntax=i,this.name=o,r&&t.MAP_KEY_TYPES.indexOf(e)<0)throw Error("Invalid map key type: "+e.name)},l=s.prototype;function u(e,n){if(e&&"number"===typeof e.low&&"number"===typeof e.high&&"boolean"===typeof e.unsigned&&e.low===e.low&&e.high===e.high)return new t.Long(e.low,e.high,"undefined"===typeof n?e.unsigned:n);if("string"===typeof e)return t.Long.fromString(e,n||!1,10);if("number"===typeof e)return t.Long.fromNumber(e,n||!1);throw Error("not convertible to Long")}s.defaultFieldValue=function(n){if("string"===typeof n&&(n=t.TYPES[n]),"undefined"===typeof n.defaultValue)throw Error("default value for type "+n.name+" is not supported");return n==t.TYPES.bytes?new e(0):n.defaultValue},l.toString=function(){return(this.name||"")+(this.isMapKey?"map":"value")+" element"},l.verifyValue=function(n){var r=this;function i(e,t){throw Error("Illegal value for "+r.toString(!0)+" of type "+r.type.name+": "+e+" ("+t+")")}switch(this.type){case t.TYPES.int32:case t.TYPES.sint32:case t.TYPES.sfixed32:return("number"!==typeof n||n===n&&n%1!==0)&&i(typeof n,"not an integer"),n>4294967295?0|n:n;case t.TYPES.uint32:case t.TYPES.fixed32:return("number"!==typeof n||n===n&&n%1!==0)&&i(typeof n,"not an integer"),n<0?n>>>0:n;case t.TYPES.int64:case t.TYPES.sint64:case t.TYPES.sfixed64:if(t.Long)try{return u(n,!1)}catch(l){i(typeof n,l.message)}else i(typeof n,"requires Long.js");case t.TYPES.uint64:case t.TYPES.fixed64:if(t.Long)try{return u(n,!0)}catch(l){i(typeof n,l.message)}else i(typeof n,"requires Long.js");case t.TYPES.bool:return"boolean"!==typeof n&&i(typeof n,"not a boolean"),n;case t.TYPES.float:case t.TYPES.double:return"number"!==typeof n&&i(typeof n,"not a number"),n;case t.TYPES.string:return"string"===typeof n||n&&n instanceof String||i(typeof n,"not a string"),""+n;case t.TYPES.bytes:return e.isByteBuffer(n)?n:e.wrap(n,"base64");case t.TYPES.enum:var o=this.resolvedType.getChildren(t.Reflect.Enum.Value);for(s=0;s<o.length;s++){if(o[s].name==n)return o[s].id;if(o[s].id==n)return o[s].id}if("proto3"===this.syntax)return("number"!==typeof n||n===n&&n%1!==0)&&i(typeof n,"not an integer"),(n>4294967295||n<0)&&i(typeof n,"not in range for uint32"),n;i(n,"not a valid enum value");case t.TYPES.group:case t.TYPES.message:if(n&&"object"===typeof n||i(typeof n,"object expected"),n instanceof this.resolvedType.clazz)return n;if(n instanceof t.Builder.Message){var a={};for(var s in n)n.hasOwnProperty(s)&&(a[s]=n[s]);n=a}return new this.resolvedType.clazz(n)}throw Error("[INTERNAL] Illegal value for "+this.toString(!0)+": "+n+" (undefined type "+this.type+")")},l.calculateLength=function(n,r){if(null===r)return 0;var i;switch(this.type){case t.TYPES.int32:return r<0?e.calculateVarint64(r):e.calculateVarint32(r);case t.TYPES.uint32:return e.calculateVarint32(r);case t.TYPES.sint32:return e.calculateVarint32(e.zigZagEncode32(r));case t.TYPES.fixed32:case t.TYPES.sfixed32:case t.TYPES.float:return 4;case t.TYPES.int64:case t.TYPES.uint64:return e.calculateVarint64(r);case t.TYPES.sint64:return e.calculateVarint64(e.zigZagEncode64(r));case t.TYPES.fixed64:case t.TYPES.sfixed64:return 8;case t.TYPES.bool:return 1;case t.TYPES.enum:return e.calculateVarint32(r);case t.TYPES.double:return 8;case t.TYPES.string:return i=e.calculateUTF8Bytes(r),e.calculateVarint32(i)+i;case t.TYPES.bytes:if(r.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+r.remaining()+" bytes remaining");return e.calculateVarint32(r.remaining())+r.remaining();case t.TYPES.message:return i=this.resolvedType.calculate(r),e.calculateVarint32(i)+i;case t.TYPES.group:return(i=this.resolvedType.calculate(r))+e.calculateVarint32(n<<3|t.WIRE_TYPES.ENDGROUP)}throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+r+" (unknown type)")},l.encodeValue=function(n,r,i){if(null===r)return i;switch(this.type){case t.TYPES.int32:r<0?i.writeVarint64(r):i.writeVarint32(r);break;case t.TYPES.uint32:i.writeVarint32(r);break;case t.TYPES.sint32:i.writeVarint32ZigZag(r);break;case t.TYPES.fixed32:i.writeUint32(r);break;case t.TYPES.sfixed32:i.writeInt32(r);break;case t.TYPES.int64:case t.TYPES.uint64:i.writeVarint64(r);break;case t.TYPES.sint64:i.writeVarint64ZigZag(r);break;case t.TYPES.fixed64:i.writeUint64(r);break;case t.TYPES.sfixed64:i.writeInt64(r);break;case t.TYPES.bool:"string"===typeof r?i.writeVarint32("false"===r.toLowerCase()?0:!!r):i.writeVarint32(r?1:0);break;case t.TYPES.enum:i.writeVarint32(r);break;case t.TYPES.float:i.writeFloat32(r);break;case t.TYPES.double:i.writeFloat64(r);break;case t.TYPES.string:i.writeVString(r);break;case t.TYPES.bytes:if(r.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+r.remaining()+" bytes remaining");var o=r.offset;i.writeVarint32(r.remaining()),i.append(r),r.offset=o;break;case t.TYPES.message:var a=(new e).LE();this.resolvedType.encode(r,a),i.writeVarint32(a.offset),i.append(a.flip());break;case t.TYPES.group:this.resolvedType.encode(r,i),i.writeVarint32(n<<3|t.WIRE_TYPES.ENDGROUP);break;default:throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+r+" (unknown type)")}return i},l.decode=function(e,n,r){if(n!=this.type.wireType)throw Error("Unexpected wire type for element");var i,o;switch(this.type){case t.TYPES.int32:return 0|e.readVarint32();case t.TYPES.uint32:return e.readVarint32()>>>0;case t.TYPES.sint32:return 0|e.readVarint32ZigZag();case t.TYPES.fixed32:return e.readUint32()>>>0;case t.TYPES.sfixed32:return 0|e.readInt32();case t.TYPES.int64:return e.readVarint64();case t.TYPES.uint64:return e.readVarint64().toUnsigned();case t.TYPES.sint64:return e.readVarint64ZigZag();case t.TYPES.fixed64:return e.readUint64();case t.TYPES.sfixed64:return e.readInt64();case t.TYPES.bool:return!!e.readVarint32();case t.TYPES.enum:return e.readVarint32();case t.TYPES.float:return e.readFloat();case t.TYPES.double:return e.readDouble();case t.TYPES.string:return e.readVString();case t.TYPES.bytes:if(o=e.readVarint32(),e.remaining()<o)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+o+" required but got only "+e.remaining());return(i=e.clone()).limit=i.offset+o,e.offset+=o,i;case t.TYPES.message:return o=e.readVarint32(),this.resolvedType.decode(e,o);case t.TYPES.group:return this.resolvedType.decode(e,-1,r)}throw Error("[INTERNAL] Illegal decode type")},l.valueFromString=function(n){if(!this.isMapKey)throw Error("valueFromString() called on non-map-key element");switch(this.type){case t.TYPES.int32:case t.TYPES.sint32:case t.TYPES.sfixed32:case t.TYPES.uint32:case t.TYPES.fixed32:return this.verifyValue(parseInt(n));case t.TYPES.int64:case t.TYPES.sint64:case t.TYPES.sfixed64:case t.TYPES.uint64:case t.TYPES.fixed64:return this.verifyValue(n);case t.TYPES.bool:return"true"===n;case t.TYPES.string:return this.verifyValue(n);case t.TYPES.bytes:return e.fromBinary(n)}},l.valueToString=function(e){if(!this.isMapKey)throw Error("valueToString() called on non-map-key element");return this.type===t.TYPES.bytes?e.toString("binary"):e.toString()},n.Element=s;var c=function(e,t,n,r,i,a){o.call(this,e,t,n,r,a),this.className="Message",this.extensions=void 0,this.clazz=null,this.isGroup=!!i,this._fields=null,this._fieldsById=null,this._fieldsByName=null},d=c.prototype=Object.create(o.prototype);function h(e,n){var r=n.readVarint32(),i=7&r,o=r>>>3;switch(i){case t.WIRE_TYPES.VARINT:do{r=n.readUint8()}while(128===(128&r));break;case t.WIRE_TYPES.BITS64:n.offset+=8;break;case t.WIRE_TYPES.LDELIM:r=n.readVarint32(),n.offset+=r;break;case t.WIRE_TYPES.STARTGROUP:h(o,n);break;case t.WIRE_TYPES.ENDGROUP:if(o===e)return!1;throw Error("Illegal GROUPEND after unknown group: "+o+" ("+e+" expected)");case t.WIRE_TYPES.BITS32:n.offset+=4;break;default:throw Error("Illegal wire type in unknown group "+e+": "+i)}return!0}d.build=function(n){if(this.clazz&&!n)return this.clazz;var r=function(t,n){var r=n.getChildren(t.Reflect.Message.Field),i=n.getChildren(t.Reflect.Message.OneOf),o=function(a,s){t.Builder.Message.call(this);for(var l=0,u=i.length;l<u;++l)this[i[l].name]=null;for(l=0,u=r.length;l<u;++l){var c=r[l];this[c.name]=c.repeated?[]:c.map?new t.Map(c):null,!c.required&&"proto3"!==n.syntax||null===c.defaultValue||(this[c.name]=c.defaultValue)}var d;if(arguments.length>0)if(1!==arguments.length||null===a||"object"!==typeof a||!("function"!==typeof a.encode||a instanceof o)||Array.isArray(a)||a instanceof t.Map||e.isByteBuffer(a)||a instanceof ArrayBuffer||t.Long&&a instanceof t.Long)for(l=0,u=arguments.length;l<u;++l)"undefined"!==typeof(d=arguments[l])&&this.$set(r[l].name,d);else this.$set(a)},a=o.prototype=Object.create(t.Builder.Message.prototype);a.add=function(e,r,i){var o=n._fieldsByName[e];if(!i){if(!o)throw Error(this+"#"+e+" is undefined");if(!(o instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+o.toString(!0));if(!o.repeated)throw Error(this+"#"+e+" is not a repeated field");r=o.verifyValue(r,!0)}return null===this[e]&&(this[e]=[]),this[e].push(r),this},a.$add=a.add,a.set=function(e,r,i){if(e&&"object"===typeof e){for(var o in i=r,e)e.hasOwnProperty(o)&&"undefined"!==typeof(r=e[o])&&void 0===n._oneofsByName[o]&&this.$set(o,r,i);return this}var a=n._fieldsByName[e];if(i)this[e]=r;else{if(!a)throw Error(this+"#"+e+" is not a field: undefined");if(!(a instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+a.toString(!0));this[a.name]=r=a.verifyValue(r)}if(a&&a.oneof){var s=this[a.oneof.name];null!==r?(null!==s&&s!==a.name&&(this[s]=null),this[a.oneof.name]=a.name):s===e&&(this[a.oneof.name]=null)}return this},a.$set=a.set,a.get=function(e,r){if(r)return this[e];var i=n._fieldsByName[e];if(!i||!(i instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: undefined");if(!(i instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+i.toString(!0));return this[i.name]},a.$get=a.get;for(var s=0;s<r.length;s++){var l=r[s];l instanceof t.Reflect.Message.ExtensionField||n.builder.options.populateAccessors&&function(e){var t=e.originalName.replace(/(_[a-zA-Z])/g,(function(e){return e.toUpperCase().replace("_","")}));t=t.substring(0,1).toUpperCase()+t.substring(1);var r=e.originalName.replace(/([A-Z])/g,(function(e){return"_"+e})),i=function(t,n){return this[e.name]=n?t:e.verifyValue(t),this},o=function(){return this[e.name]};null===n.getChild("set"+t)&&(a["set"+t]=i),null===n.getChild("set_"+r)&&(a["set_"+r]=i),null===n.getChild("get"+t)&&(a["get"+t]=o),null===n.getChild("get_"+r)&&(a["get_"+r]=o)}(l)}function u(n,r,i,o){if(null===n||"object"!==typeof n){if(o&&o instanceof t.Reflect.Enum){var a=t.Reflect.Enum.getName(o.object,n);if(null!==a)return a}return n}if(e.isByteBuffer(n))return r?n.toBase64():n.toBuffer();if(t.Long.isLong(n))return i?n.toString():t.Long.fromValue(n);var s;if(Array.isArray(n))return s=[],n.forEach((function(e,t){s[t]=u(e,r,i,o)})),s;if(s={},n instanceof t.Map){for(var l=n.entries(),c=l.next();!c.done;c=l.next())s[n.keyElem.valueToString(c.value[0])]=u(c.value[1],r,i,n.valueElem.resolvedType);return s}var d=n.$type,h=void 0;for(var f in n)n.hasOwnProperty(f)&&(d&&(h=d.getChild(f))?s[f]=u(n[f],r,i,h.resolvedType):s[f]=u(n[f],r,i));return s}return a.encode=function(t,r){"boolean"===typeof t&&(r=t,t=void 0);var i=!1;t||(t=new e,i=!0);var o=t.littleEndian;try{return n.encode(this,t.LE(),r),(i?t.flip():t).LE(o)}catch(a){throw t.LE(o),a}},o.encode=function(e,t,n){return new o(e).encode(t,n)},a.calculate=function(){return n.calculate(this)},a.encodeDelimited=function(t,r){var i=!1;t||(t=new e,i=!0);var o=(new e).LE();return n.encode(this,o,r).flip(),t.writeVarint32(o.remaining()),t.append(o),i?t.flip():t},a.encodeAB=function(){try{return this.encode().toArrayBuffer()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toArrayBuffer()),e}},a.toArrayBuffer=a.encodeAB,a.encodeNB=function(){try{return this.encode().toBuffer()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toBuffer()),e}},a.toBuffer=a.encodeNB,a.encode64=function(){try{return this.encode().toBase64()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toBase64()),e}},a.toBase64=a.encode64,a.encodeHex=function(){try{return this.encode().toHex()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toHex()),e}},a.toHex=a.encodeHex,a.toRaw=function(e,t){return u(this,!!e,!!t,this.$type)},a.encodeJSON=function(){return JSON.stringify(u(this,!0,!0,this.$type))},o.decode=function(t,r,i){"string"===typeof r&&(i=r,r=-1),"string"===typeof t?t=e.wrap(t,i||"base64"):e.isByteBuffer(t)||(t=e.wrap(t));var o=t.littleEndian;try{var a=n.decode(t.LE(),r);return t.LE(o),a}catch(s){throw t.LE(o),s}},o.decodeDelimited=function(t,r){if("string"===typeof t?t=e.wrap(t,r||"base64"):e.isByteBuffer(t)||(t=e.wrap(t)),t.remaining()<1)return null;var i=t.offset,o=t.readVarint32();if(t.remaining()<o)return t.offset=i,null;try{var a=n.decode(t.slice(t.offset,t.offset+o).LE());return t.offset+=o,a}catch(s){throw t.offset+=o,s}},o.decode64=function(e){return o.decode(e,"base64")},o.decodeHex=function(e){return o.decode(e,"hex")},o.decodeJSON=function(e){return new o(JSON.parse(e))},a.toString=function(){return n.toString()},Object.defineProperty&&(Object.defineProperty(o,"$options",{value:n.buildOpt()}),Object.defineProperty(a,"$options",{value:o.$options}),Object.defineProperty(o,"$type",{value:n}),Object.defineProperty(a,"$type",{value:n})),o}(t,this);this._fields=[],this._fieldsById={},this._fieldsByName={},this._oneofsByName={};for(var i,o=0,a=this.children.length;o<a;o++)if((i=this.children[o])instanceof y||i instanceof c||i instanceof b){if(r.hasOwnProperty(i.name))throw Error("Illegal reflect child of "+this.toString(!0)+": "+i.toString(!0)+" cannot override static property '"+i.name+"'");r[i.name]=i.build()}else if(i instanceof c.Field)i.build(),this._fields.push(i),this._fieldsById[i.id]=i,this._fieldsByName[i.name]=i;else if(i instanceof c.OneOf)this._oneofsByName[i.name]=i;else if(!(i instanceof c.OneOf)&&!(i instanceof m))throw Error("Illegal reflect child of "+this.toString(!0)+": "+this.children[o].toString(!0));return this.clazz=r},d.encode=function(e,t,n){for(var r,i,o=null,a=0,s=this._fields.length;a<s;++a)i=e[(r=this._fields[a]).name],r.required&&null===i?null===o&&(o=r):r.encode(n?i:r.verifyValue(i),t,e);if(null!==o){var l=Error("Missing at least one required field for "+this.toString(!0)+": "+o);throw l.encoded=t,l}return t},d.calculate=function(e){for(var t,n,r=0,i=0,o=this._fields.length;i<o;++i){if(n=e[(t=this._fields[i]).name],t.required&&null===n)throw Error("Missing at least one required field for "+this.toString(!0)+": "+t);r+=t.calculate(n,e)}return r},d.decode=function(e,n,r){"number"!==typeof n&&(n=-1);for(var i,o,a,s,l=e.offset,u=new this.clazz;e.offset<l+n||-1===n&&e.remaining()>0;){if(a=(i=e.readVarint32())>>>3,(o=7&i)===t.WIRE_TYPES.ENDGROUP){if(a!==r)throw Error("Illegal group end indicator for "+this.toString(!0)+": "+a+" ("+(r?r+" expected":"not a group")+")");break}if(s=this._fieldsById[a]){if(s.repeated&&!s.options.packed)u[s.name].push(s.decode(o,e));else if(s.map){var c=s.decode(o,e);u[s.name].set(c[0],c[1])}else if(u[s.name]=s.decode(o,e),s.oneof){var d=u[s.oneof.name];null!==d&&d!==s.name&&(u[d]=null),u[s.oneof.name]=s.name}}else switch(o){case t.WIRE_TYPES.VARINT:e.readVarint32();break;case t.WIRE_TYPES.BITS32:e.offset+=4;break;case t.WIRE_TYPES.BITS64:e.offset+=8;break;case t.WIRE_TYPES.LDELIM:var f=e.readVarint32();e.offset+=f;break;case t.WIRE_TYPES.STARTGROUP:for(;h(a,e););break;default:throw Error("Illegal wire type for unknown field "+a+" in "+this.toString(!0)+"#decode: "+o)}}for(var p=0,g=this._fields.length;p<g;++p)if(null===u[(s=this._fields[p]).name])if("proto3"===this.syntax)u[s.name]=s.defaultValue;else{if(s.required){var y=Error("Missing at least one required field for "+this.toString(!0)+": "+s.name);throw y.decoded=u,y}t.populateDefaults&&null!==s.defaultValue&&(u[s.name]=s.defaultValue)}return u},n.Message=c;var f=function(e,n,i,o,a,s,l,u,d,h){r.call(this,e,n,s),this.className="Message.Field",this.required="required"===i,this.repeated="repeated"===i,this.map="map"===i,this.keyType=o||null,this.type=a,this.resolvedType=null,this.id=l,this.options=u||{},this.defaultValue=null,this.oneof=d||null,this.syntax=h||"proto2",this.originalName=this.name,this.element=null,this.keyElement=null,!this.builder.options.convertFieldsToCamelCase||this instanceof c.ExtensionField||(this.name=t.Util.toCamelCase(this.name))},p=f.prototype=Object.create(r.prototype);p.build=function(){this.element=new s(this.type,this.resolvedType,!1,this.syntax,this.name),this.map&&(this.keyElement=new s(this.keyType,void 0,!0,this.syntax,this.name)),"proto3"!==this.syntax||this.repeated||this.map?"undefined"!==typeof this.options.default&&(this.defaultValue=this.verifyValue(this.options.default)):this.defaultValue=s.defaultFieldValue(this.type)},p.verifyValue=function(e,n){n=n||!1;var r,i=this;function o(e,t){throw Error("Illegal value for "+i.toString(!0)+" of type "+i.type.name+": "+e+" ("+t+")")}if(null===e)return this.required&&o(typeof e,"required"),"proto3"===this.syntax&&this.type!==t.TYPES.message&&o(typeof e,"proto3 field without field presence cannot be null"),null;if(this.repeated&&!n){Array.isArray(e)||(e=[e]);var a=[];for(r=0;r<e.length;r++)a.push(this.element.verifyValue(e[r]));return a}return this.map&&!n?e instanceof t.Map?e:(e instanceof Object||o(typeof e,"expected ProtoBuf.Map or raw object for map field"),new t.Map(this,e)):(!this.repeated&&Array.isArray(e)&&o(typeof e,"no array expected"),this.element.verifyValue(e))},p.hasWirePresence=function(e,n){if("proto3"!==this.syntax)return null!==e;if(this.oneof&&n[this.oneof.name]===this.name)return!0;switch(this.type){case t.TYPES.int32:case t.TYPES.sint32:case t.TYPES.sfixed32:case t.TYPES.uint32:case t.TYPES.fixed32:return 0!==e;case t.TYPES.int64:case t.TYPES.sint64:case t.TYPES.sfixed64:case t.TYPES.uint64:case t.TYPES.fixed64:return 0!==e.low||0!==e.high;case t.TYPES.bool:return e;case t.TYPES.float:case t.TYPES.double:return 0!==e;case t.TYPES.string:return e.length>0;case t.TYPES.bytes:return e.remaining()>0;case t.TYPES.enum:return 0!==e;case t.TYPES.message:return null!==e;default:return!0}},p.encode=function(n,r,i){if(null===this.type||"object"!==typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===n||this.repeated&&0==n.length)return r;try{var o;if(this.repeated)if(this.options.packed&&t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){r.writeVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),r.ensureCapacity(r.offset+=1);var a=r.offset;for(o=0;o<n.length;o++)this.element.encodeValue(this.id,n[o],r);var s=r.offset-a,l=e.calculateVarint32(s);if(l>1){var u=r.slice(a,r.offset);a+=l-1,r.offset=a,r.append(u)}r.writeVarint32(s,a-l)}else for(o=0;o<n.length;o++)r.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,n[o],r);else this.map?n.forEach((function(n,i,o){var a=e.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,i)+e.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,n);r.writeVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),r.writeVarint32(a),r.writeVarint32(8|this.keyType.wireType),this.keyElement.encodeValue(1,i,r),r.writeVarint32(16|this.type.wireType),this.element.encodeValue(2,n,r)}),this):this.hasWirePresence(n,i)&&(r.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,n,r))}catch(c){throw Error("Illegal value for "+this.toString(!0)+": "+n+" ("+c+")")}return r},p.calculate=function(n,r){if(n=this.verifyValue(n),null===this.type||"object"!==typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===n||this.repeated&&0==n.length)return 0;var i=0;try{var o,a;if(this.repeated)if(this.options.packed&&t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){for(i+=e.calculateVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),a=0,o=0;o<n.length;o++)a+=this.element.calculateLength(this.id,n[o]);i+=e.calculateVarint32(a),i+=a}else for(o=0;o<n.length;o++)i+=e.calculateVarint32(this.id<<3|this.type.wireType),i+=this.element.calculateLength(this.id,n[o]);else this.map?n.forEach((function(n,r,o){var a=e.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,r)+e.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,n);i+=e.calculateVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),i+=e.calculateVarint32(a),i+=a}),this):this.hasWirePresence(n,r)&&(i+=e.calculateVarint32(this.id<<3|this.type.wireType),i+=this.element.calculateLength(this.id,n))}catch(s){throw Error("Illegal value for "+this.toString(!0)+": "+n+" ("+s+")")}return i},p.decode=function(e,n,r){var i,o;if(!(!this.map&&e==this.type.wireType||!r&&this.repeated&&this.options.packed&&e==t.WIRE_TYPES.LDELIM||this.map&&e==t.WIRE_TYPES.LDELIM))throw Error("Illegal wire type for field "+this.toString(!0)+": "+e+" ("+this.type.wireType+" expected)");if(e==t.WIRE_TYPES.LDELIM&&this.repeated&&this.options.packed&&t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0&&!r){o=n.readVarint32(),o=n.offset+o;for(var a=[];n.offset<o;)a.push(this.decode(this.type.wireType,n,!0));return a}if(this.map){var l=s.defaultFieldValue(this.keyType);if(i=s.defaultFieldValue(this.type),o=n.readVarint32(),n.remaining()<o)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+o+" required but got only "+n.remaining());var u=n.clone();for(u.limit=u.offset+o,n.offset+=o;u.remaining()>0;){var c=u.readVarint32();e=7&c;var d=c>>>3;if(1===d)l=this.keyElement.decode(u,e,d);else{if(2!==d)throw Error("Unexpected tag in map field key/value submessage");i=this.element.decode(u,e,d)}}return[l,i]}return this.element.decode(n,e,this.id)},n.Message.Field=f;var g=function(e,t,n,r,i,o,a){f.call(this,e,t,n,null,r,i,o,a),this.extension};g.prototype=Object.create(f.prototype),n.Message.ExtensionField=g,n.Message.OneOf=function(e,t,n){r.call(this,e,t,n),this.fields=[]};var y=function(e,t,n,r,i){o.call(this,e,t,n,r,i),this.className="Enum",this.object=null};y.getName=function(e,t){for(var n,r=Object.keys(e),i=0;i<r.length;++i)if(e[n=r[i]]===t)return n;return null},(y.prototype=Object.create(o.prototype)).build=function(e){if(this.object&&!e)return this.object;for(var n=new t.Builder.Enum,r=this.getChildren(y.Value),i=0,o=r.length;i<o;++i)n[r[i].name]=r[i].id;return Object.defineProperty&&Object.defineProperty(n,"$options",{value:this.buildOpt(),enumerable:!1}),this.object=n},n.Enum=y;var v=function(e,t,n,i){r.call(this,e,t,n),this.className="Enum.Value",this.id=i};v.prototype=Object.create(r.prototype),n.Enum.Value=v;var m=function(e,t,n,i){r.call(this,e,t,n),this.field=i};m.prototype=Object.create(r.prototype),n.Extension=m;var b=function(e,t,n,r){o.call(this,e,t,n,r),this.className="Service",this.clazz=null};(b.prototype=Object.create(o.prototype)).build=function(n){return this.clazz&&!n?this.clazz:this.clazz=function(t,n){for(var r=function(e){t.Builder.Service.call(this),this.rpcImpl=e||function(e,t,n){setTimeout(n.bind(this,Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")),0)}},i=r.prototype=Object.create(t.Builder.Service.prototype),o=n.getChildren(t.Reflect.Service.RPCMethod),a=0;a<o.length;a++)!function(t){i[t.name]=function(r,i){try{try{r=t.resolvedRequestType.clazz.decode(e.wrap(r))}catch(o){if(!(o instanceof TypeError))throw o}if(null===r||"object"!==typeof r)throw Error("Illegal arguments");r instanceof t.resolvedRequestType.clazz||(r=new t.resolvedRequestType.clazz(r)),this.rpcImpl(t.fqn(),r,(function(e,r){if(e)i(e);else{null===r&&(r="");try{r=t.resolvedResponseType.clazz.decode(r)}catch(o){}r&&r instanceof t.resolvedResponseType.clazz?i(null,r):i(Error("Illegal response type received in service method "+n.name+"#"+t.name))}}))}catch(o){setTimeout(i.bind(this,o),0)}},r[t.name]=function(e,n,i){new r(e)[t.name](n,i)},Object.defineProperty&&(Object.defineProperty(r[t.name],"$options",{value:t.buildOpt()}),Object.defineProperty(i[t.name],"$options",{value:r[t.name].$options}))}(o[a]);return Object.defineProperty&&(Object.defineProperty(r,"$options",{value:n.buildOpt()}),Object.defineProperty(i,"$options",{value:r.$options}),Object.defineProperty(r,"$type",{value:n}),Object.defineProperty(i,"$type",{value:n})),r}(t,this)},n.Service=b;var _=function(e,t,n,i){r.call(this,e,t,n),this.className="Service.Method",this.options=i||{}};(_.prototype=Object.create(r.prototype)).buildOpt=a.buildOpt,n.Service.Method=_;var C=function(e,t,n,r,i,o,a,s){_.call(this,e,t,n,s),this.className="Service.RPCMethod",this.requestName=r,this.responseName=i,this.requestStream=o,this.responseStream=a,this.resolvedRequestType=null,this.resolvedResponseType=null};return C.prototype=Object.create(_.prototype),n.Service.RPCMethod=C,n}(r),r.Builder=function(e,t,r){var i=function(e){this.ns=new r.Namespace(this,null,""),this.ptr=this.ns,this.resolved=!1,this.result=null,this.files={},this.importRoot=null,this.options=e||{}},o=i.prototype;return i.isMessage=function(e){return"string"===typeof e.name&&"undefined"===typeof e.values&&"undefined"===typeof e.rpc},i.isMessageField=function(e){return"string"===typeof e.rule&&"string"===typeof e.name&&"string"===typeof e.type&&"undefined"!==typeof e.id},i.isEnum=function(e){return"string"===typeof e.name&&!("undefined"===typeof e.values||!Array.isArray(e.values)||0===e.values.length)},i.isService=function(e){return!("string"!==typeof e.name||"object"!==typeof e.rpc||!e.rpc)},i.isExtend=function(e){return"string"===typeof e.ref},o.reset=function(){return this.ptr=this.ns,this},o.define=function(e){if("string"!==typeof e||!t.TYPEREF.test(e))throw Error("illegal namespace: "+e);return e.split(".").forEach((function(e){var t=this.ptr.getChild(e);null===t&&this.ptr.addChild(t=new r.Namespace(this,this.ptr,e)),this.ptr=t}),this),this},o.create=function(t){if(!t)return this;if(Array.isArray(t)){if(0===t.length)return this;t=t.slice()}else t=[t];for(var n=[t];n.length>0;){if(t=n.pop(),!Array.isArray(t))throw Error("not a valid namespace: "+JSON.stringify(t));for(;t.length>0;){var o=t.shift();if(i.isMessage(o)){var a=new r.Message(this,this.ptr,o.name,o.options,o.isGroup,o.syntax),s={};o.oneofs&&Object.keys(o.oneofs).forEach((function(e){a.addChild(s[e]=new r.Message.OneOf(this,a,e))}),this),o.fields&&o.fields.forEach((function(e){if(null!==a.getChild(0|e.id))throw Error("duplicate or invalid field id in "+a.name+": "+e.id);if(e.options&&"object"!==typeof e.options)throw Error("illegal field options in "+a.name+"#"+e.name);var t=null;if("string"===typeof e.oneof&&!(t=s[e.oneof]))throw Error("illegal oneof in "+a.name+"#"+e.name+": "+e.oneof);e=new r.Message.Field(this,a,e.rule,e.keytype,e.type,e.name,e.id,e.options,t,o.syntax),t&&t.fields.push(e),a.addChild(e)}),this);var l=[];if(o.enums&&o.enums.forEach((function(e){l.push(e)})),o.messages&&o.messages.forEach((function(e){l.push(e)})),o.services&&o.services.forEach((function(e){l.push(e)})),o.extensions&&("number"===typeof o.extensions[0]?a.extensions=[o.extensions]:a.extensions=o.extensions),this.ptr.addChild(a),l.length>0){n.push(t),t=l,l=null,this.ptr=a,a=null;continue}l=null}else if(i.isEnum(o))a=new r.Enum(this,this.ptr,o.name,o.options,o.syntax),o.values.forEach((function(e){a.addChild(new r.Enum.Value(this,a,e.name,e.id))}),this),this.ptr.addChild(a);else if(i.isService(o))a=new r.Service(this,this.ptr,o.name,o.options),Object.keys(o.rpc).forEach((function(e){var t=o.rpc[e];a.addChild(new r.Service.RPCMethod(this,a,e,t.request,t.response,!!t.request_stream,!!t.response_stream,t.options))}),this),this.ptr.addChild(a);else{if(!i.isExtend(o))throw Error("not a valid definition: "+JSON.stringify(o));if(a=this.ptr.resolve(o.ref,!0))o.fields.forEach((function(t){if(null!==a.getChild(0|t.id))throw Error("duplicate extended field id in "+a.name+": "+t.id);if(a.extensions){var n=!1;if(a.extensions.forEach((function(e){t.id>=e[0]&&t.id<=e[1]&&(n=!0)})),!n)throw Error("illegal extended field id in "+a.name+": "+t.id+" (not within valid ranges)")}var i=t.name;this.options.convertFieldsToCamelCase&&(i=e.Util.toCamelCase(i));var o=new r.Message.ExtensionField(this,a,t.rule,t.type,this.ptr.fqn()+"."+i,t.id,t.options),s=new r.Extension(this,this.ptr,t.name,o);o.extension=s,this.ptr.addChild(s),a.addChild(o)}),this);else if(!/\.?google\.protobuf\./.test(o.ref))throw Error("extended message "+o.ref+" is not defined")}o=null,a=null}t=null,this.ptr=this.ptr.parent}return this.resolved=!1,this.result=null,this},o.import=function(t,r){var i="/";if("string"===typeof r){if(e.Util.IS_NODE&&(r=n(1787).resolve(r)),!0===this.files[r])return this.reset();this.files[r]=!0}else if("object"===typeof r){var o,a=r.root;if(e.Util.IS_NODE&&(a=n(1787).resolve(a)),(a.indexOf("\\")>=0||r.file.indexOf("\\")>=0)&&(i="\\"),o=e.Util.IS_NODE?n(1787).join(a,r.file):a+i+r.file,!0===this.files[o])return this.reset();this.files[o]=!0}if(t.imports&&t.imports.length>0){var s,l=!1;"object"===typeof r?(this.importRoot=r.root,l=!0,s=this.importRoot,r=r.file,(s.indexOf("\\")>=0||r.indexOf("\\")>=0)&&(i="\\")):"string"===typeof r?this.importRoot?s=this.importRoot:r.indexOf("/")>=0?""===(s=r.replace(/\/[^\/]*$/,""))&&(s="/"):r.indexOf("\\")>=0?(s=r.replace(/\\[^\\]*$/,""),i="\\"):s=".":s=null;for(var u=0;u<t.imports.length;u++)if("string"===typeof t.imports[u]){if(!s)throw Error("cannot determine import root");var c=t.imports[u];if("google/protobuf/descriptor.proto"===c)continue;if(c=e.Util.IS_NODE?n(1787).join(s,c):s+i+c,!0===this.files[c])continue;/\.proto$/i.test(c)&&!e.DotProto&&(c=c.replace(/\.proto$/,".json"));var d=e.Util.fetch(c);if(null===d)throw Error("failed to import '"+c+"' in '"+r+"': file not found");/\.json$/i.test(c)?this.import(JSON.parse(d+""),c):this.import(e.DotProto.Parser.parse(d),c)}else r?/\.(\w+)$/.test(r)?this.import(t.imports[u],r.replace(/^(.+)\.(\w+)$/,(function(e,t,n){return t+"_import"+u+"."+n}))):this.import(t.imports[u],r+"_import"+u):this.import(t.imports[u]);l&&(this.importRoot=null)}t.package&&this.define(t.package),t.syntax&&function e(t){t.messages&&t.messages.forEach((function(n){n.syntax=t.syntax,e(n)})),t.enums&&t.enums.forEach((function(e){e.syntax=t.syntax}))}(t);var h=this.ptr;return t.options&&Object.keys(t.options).forEach((function(e){h.options[e]=t.options[e]})),t.messages&&(this.create(t.messages),this.ptr=h),t.enums&&(this.create(t.enums),this.ptr=h),t.services&&(this.create(t.services),this.ptr=h),t.extends&&this.create(t.extends),this.reset()},o.resolveAll=function(){var n;if(null==this.ptr||"object"===typeof this.ptr.type)return this;if(this.ptr instanceof r.Namespace)this.ptr.children.forEach((function(e){this.ptr=e,this.resolveAll()}),this);else if(this.ptr instanceof r.Message.Field){if(t.TYPE.test(this.ptr.type))this.ptr.type=e.TYPES[this.ptr.type];else{if(!t.TYPEREF.test(this.ptr.type))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(!(n=(this.ptr instanceof r.Message.ExtensionField?this.ptr.extension.parent:this.ptr.parent).resolve(this.ptr.type,!0)))throw Error("unresolvable type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(this.ptr.resolvedType=n,n instanceof r.Enum){if(this.ptr.type=e.TYPES.enum,"proto3"===this.ptr.syntax&&"proto3"!==n.syntax)throw Error("proto3 message cannot reference proto2 enum")}else{if(!(n instanceof r.Message))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);this.ptr.type=n.isGroup?e.TYPES.group:e.TYPES.message}}if(this.ptr.map){if(!t.TYPE.test(this.ptr.keyType))throw Error("illegal key type for map field in "+this.ptr.toString(!0)+": "+this.ptr.keyType);this.ptr.keyType=e.TYPES[this.ptr.keyType]}"proto3"===this.ptr.syntax&&this.ptr.repeated&&void 0===this.ptr.options.packed&&-1!==e.PACKABLE_WIRE_TYPES.indexOf(this.ptr.type.wireType)&&(this.ptr.options.packed=!0)}else if(this.ptr instanceof e.Reflect.Service.Method){if(!(this.ptr instanceof e.Reflect.Service.RPCMethod))throw Error("illegal service type in "+this.ptr.toString(!0));if(!(n=this.ptr.parent.resolve(this.ptr.requestName,!0))||!(n instanceof e.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.requestName);if(this.ptr.resolvedRequestType=n,!(n=this.ptr.parent.resolve(this.ptr.responseName,!0))||!(n instanceof e.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.responseName);this.ptr.resolvedResponseType=n}else if(!(this.ptr instanceof e.Reflect.Message.OneOf)&&!(this.ptr instanceof e.Reflect.Extension)&&!(this.ptr instanceof e.Reflect.Enum.Value))throw Error("illegal object in namespace: "+typeof this.ptr+": "+this.ptr);return this.reset()},o.build=function(e){if(this.reset(),this.resolved||(this.resolveAll(),this.resolved=!0,this.result=null),null===this.result&&(this.result=this.ns.build()),!e)return this.result;for(var t="string"===typeof e?e.split("."):e,n=this.result,r=0;r<t.length;r++){if(!n[t[r]]){n=null;break}n=n[t[r]]}return n},o.lookup=function(e,t){return e?this.ns.resolve(e,t):this.ns},o.toString=function(){return"Builder"},i.Message=function(){},i.Enum=function(){},i.Service=function(){},i}(r,r.Lang,r.Reflect),r.Map=function(e,t){var n=function(e,n){if(!e.map)throw Error("field is not a map");if(this.field=e,this.keyElem=new t.Element(e.keyType,null,!0,e.syntax),this.valueElem=new t.Element(e.type,e.resolvedType,!1,e.syntax),this.map={},Object.defineProperty(this,"size",{get:function(){return Object.keys(this.map).length}}),n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=this.keyElem.valueFromString(r[i]),a=this.valueElem.verifyValue(n[r[i]]);this.map[this.keyElem.valueToString(o)]={key:o,value:a}}},r=n.prototype;function i(e){var t=0;return{next:function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}}return r.clear=function(){this.map={}},r.delete=function(e){var t=this.keyElem.valueToString(this.keyElem.verifyValue(e)),n=t in this.map;return delete this.map[t],n},r.entries=function(){for(var e,t=[],n=Object.keys(this.map),r=0;r<n.length;r++)t.push([(e=this.map[n[r]]).key,e.value]);return i(t)},r.keys=function(){for(var e=[],t=Object.keys(this.map),n=0;n<t.length;n++)e.push(this.map[t[n]].key);return i(e)},r.values=function(){for(var e=[],t=Object.keys(this.map),n=0;n<t.length;n++)e.push(this.map[t[n]].value);return i(e)},r.forEach=function(e,t){for(var n,r=Object.keys(this.map),i=0;i<r.length;i++)e.call(t,(n=this.map[r[i]]).value,n.key,this)},r.set=function(e,t){var n=this.keyElem.verifyValue(e),r=this.valueElem.verifyValue(t);return this.map[this.keyElem.valueToString(n)]={key:n,value:r},this},r.get=function(e){var t=this.keyElem.valueToString(this.keyElem.verifyValue(e));if(t in this.map)return this.map[t].value},r.has=function(e){return this.keyElem.valueToString(this.keyElem.verifyValue(e))in this.map},n}(0,r.Reflect),r.loadProto=function(e,t,n){return("string"===typeof t||t&&"string"===typeof t.file&&"string"===typeof t.root)&&(n=t,t=void 0),r.loadJson(r.DotProto.Parser.parse(e),t,n)},r.protoFromString=r.loadProto,r.loadProtoFile=function(e,t,n){if(t&&"object"===typeof t?(n=t,t=null):t&&"function"===typeof t||(t=null),t)return r.Util.fetch("string"===typeof e?e:e.root+"/"+e.file,(function(i){if(null!==i)try{t(null,r.loadProto(i,n,e))}catch(o){t(o)}else t(Error("Failed to fetch file"))}));var i=r.Util.fetch("object"===typeof e?e.root+"/"+e.file:e);return null===i?null:r.loadProto(i,n,e)},r.protoFromFile=r.loadProtoFile,r.newBuilder=function(e){return"undefined"===typeof(e=e||{}).convertFieldsToCamelCase&&(e.convertFieldsToCamelCase=r.convertFieldsToCamelCase),"undefined"===typeof e.populateAccessors&&(e.populateAccessors=r.populateAccessors),new r.Builder(e)},r.loadJson=function(e,t,n){return("string"===typeof t||t&&"string"===typeof t.file&&"string"===typeof t.root)&&(n=t,t=null),t&&"object"===typeof t||(t=r.newBuilder()),"string"===typeof e&&(e=JSON.parse(e)),t.import(e,n),t.resolveAll(),t},r.loadJsonFile=function(e,t,n){if(t&&"object"===typeof t?(n=t,t=null):t&&"function"===typeof t||(t=null),t)return r.Util.fetch("string"===typeof e?e:e.root+"/"+e.file,(function(i){if(null!==i)try{t(null,r.loadJson(JSON.parse(i),n,e))}catch(o){t(o)}else t(Error("Failed to fetch file"))}));var i=r.Util.fetch("object"===typeof e?e.root+"/"+e.file:e);return null===i?null:r.loadJson(JSON.parse(i),n,e)},r})?r.apply(t,i):r)||(e.exports=o)},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CRCoderUnarchiver=t.CRCoderUnarchiverCompletionHandler=void 0;var r=n(1541),i=n(1542),o=n(1768),a=n(1556),s=n(1782),l=n(1779),u=n(1772),c=n(1775),d=n(1773),h=n(1780),f=n(1558),p=n(1789),g=n(1790),y=n(1791),v=function(e,t,n){this.callback=e,this.dependency=t,this.value=n};t.CRCoderUnarchiverCompletionHandler=v;var m=function(){function e(){this.replica=null,this._document=null,this.uuidArray=[],this.keySet=[],this.typeSetForDecoding=[],this.currentDocument=null,this.allocedDocObjects=[],this.completionHandlers=[],o.CRCoder.registerCRClasses(),r.CRTable.registerWithCRCoder(),r.ICTable.registerWithCRCoder()}return Object.defineProperty(e.prototype,"document",{get:function(){return this._document},set:function(e){this._document=e},enumerable:!1,configurable:!0}),e.decodedDocumentFromData=function(t,n){return(new e).decodeDocumentFromData(t,n)},e.prototype.allocedObjectAtIndex=function(e){var t=this.currentDocument;if(!t||!t.object)return null;if(e>=(t.object||[]).length)return null;var n=this.allocedDocObjects[e];if(n)return n;var r=t.object[e];return(n=this.decodeDocObject(this,r))&&(this.allocedDocObjects[e]=n),n},e.prototype.decodeDocumentFromData=function(e,t){var n=this;this.replica=t,this.currentDocument={},this.completionHandlers=[];var i=null;if(this.currentDocument=r.decodeCRDocument(e),this.currentDocument&&this.currentDocument.object){this.uuidArray=[];for(var o=0,a=this.currentDocument.uuidItem||[];o<a.length;o++){var l=a[o],u=f.CRUUID.alloc().initWithUUIDBytes(new Uint8Array(l.toArrayBuffer())).autorelease();this.uuidArray.push(u)}var c=this.currentDocument.version?p.CRVectorTimestamp.decodeWithProtobufTimestamp(this,this.currentDocument.version):null,d=this.currentDocument.startVersion?p.CRVectorTimestamp.decodeWithProtobufTimestamp(this,this.currentDocument.startVersion):null;if(this.currentDocument.ttTimestamp){var g=y.TTCRVectorMultiTimestamp.decode(this.currentDocument.ttTimestamp,2);this._document=h.CRTTCompatibleDocument.alloc().initWithVersion_startVersion_rootObject_replica_topoTimestamp(c,d,null,t,g).autorelease()}else this._document=s.CRDocument.alloc().initWithVersion_startVersion_rootObject_replica(c,d,null,t).autorelease();this.typeSetForDecoding.length=0;for(var v=0,m=this.currentDocument.typeItem||[];v<m.length;v++){var b=m[v];this.typeSetForDecoding.push(b)}this.keySet.length=0;for(var _=0,C=this.currentDocument.keyItem||[];_<C.length;_++){var I=C[_];this.keySet.push(I)}this.allocedDocObjects=[],(this.currentDocument.object||[]).forEach((function(e,t){n.allocedObjectAtIndex(t)})),this.sortCompletionHandlers();for(var T=0,P=this.completionHandlers;T<P.length;T++)P[T].callback(this);i=this.allocedDocObjects[0],this.typeSetForDecoding.length=0,this.keySet.length=0,this.allocedDocObjects.length=0}return this.completionHandlers.length=0,this.currentDocument=null,this.document.rootObject=i,this.document},e.prototype.currentObjectIDForKey=function(e,t){var n=this.indexForKey(e);if(-1===n)return null;for(var r=0;r<(t.mapEntry||[]).length;r++){var i=(t.mapEntry||[])[r];if("number"===typeof i.key&&i.key===n&&i.value)return i.value}return null},e.prototype.decodeObjectForKey=function(e,t){var n=this.currentObjectIDForKey(e,t);return n?this.decodeObjectForProtobufObjectID(n):null},e.prototype.decodeObjectForProtobufObjectID=function(e){return"number"===typeof e.objectIndex?this.allocedObjectAtIndex(e.objectIndex):null},e.prototype.decodeStringForKey=function(e,t){var n=this.currentObjectIDForKey(e,t);if(n&&"string"===typeof n.stringValue)return n.stringValue;throw new Error("Unable to find string for key: "+e)},e.prototype.decodeUUIDForKey=function(e,t){var n=this.decodeStringForKey(e,t);return f.CRUUID.alloc().initWithUUIDString(n).autorelease()},e.prototype.decodeDoubleForKey=function(e,t){var n=this.currentObjectIDForKey(e,t);if(n&&"number"===typeof n.doubleValue)return n.doubleValue;throw new Error("Unable to find double for key: "+e)},e.prototype.decodeLong=function(e){return e.toNumber()},e.prototype.decodeInt32ForKey=function(e,t){var n=this.currentObjectIDForKey(e,t);if(n&&n.integerValue)return this.decodeLong(n.integerValue);throw new Error("Unable to find integer for key: "+e)},e.prototype.decodeInt64ForKey=function(e,t){var n=this.currentObjectIDForKey(e,t);if(n&&n.integerValue)return this.decodeLong(n.integerValue);throw new Error("Unable to find integer for key: "+e)},e.prototype.decodeUInt32ForKey=function(e,t){var n=this.currentObjectIDForKey(e,t);if(n&&n.unsignedIntegerValue)return this.decodeLong(n.unsignedIntegerValue);throw new Error("Unable to find integer for key: "+e)},e.prototype.decodeUInt64ForKey=function(e,t){var n=this.currentObjectIDForKey(e,t);if(n&&n.unsignedIntegerValue)return n.unsignedIntegerValue;throw new Error("Unable to find integer for key: "+e)},e.prototype.decodeUUIDFromUUIDIndex=function(e){var t=this.decodeLong(e);if(t>=this.uuidArray.length)throw new Error("Index "+e+" out of bounds");return this.uuidArray[t]},e.prototype.decodeReplica=function(e){return this.decodeUUIDFromUUIDIndex(e)},e.prototype.hasDecodableValueForKey=function(e,t){return null!==this.currentObjectIDForKey(e,t)},e.prototype.addDecoderCompletionHandler=function(e,t,n){this.completionHandlers.push(new v(e,t,n))},e.prototype.sortCompletionHandlers=function(){for(var e=[];this.completionHandlers.length>0;){for(var t=null,n=0,r=this.completionHandlers;n<r.length;n++)if(null===(s=r[n]).dependency){t=s;break}if(!t)throw new Error("No topological sort of completion handlers.");e.push(t);var i=this.completionHandlers.indexOf(t);this.completionHandlers.splice(i,1);for(var o=0,a=this.completionHandlers;o<a.length;o++){var s;(s=a[o]).dependency===t.value&&(s.dependency=null)}}this.completionHandlers=e},e.prototype.indexForKey=function(e){if(!this.keySet)throw new Error("KeySet should have been allocated");return this.keySet.indexOf(e)},e.prototype.decodeDocObject=function(e,t){function n(t,n){if(!t)throw new Error("contents are invalid");return n(e,t)}switch(t.contents){case"registerLatest":return n(t.registerLatest,u.CRRegisterLatest.decodeWithProtobufRegisterLatest);case"timestamp":return n(t.timestamp,d.CRTimestamp.decodeWithProtobufTimestamp);case"set":return n(t.set,c.CRSet.decodeWithSet);case"dictionary":return n(t.dictionary,a.CRDictionary.decodeWithDictionary);case"vectorTimestamp":return n(t.vectorTimestamp,p.CRVectorTimestamp.decodeWithProtobufTimestamp);case"stringArray":return n(t.stringArray,g.TTArray.decodeWithStringArray);case"array":return n(t.array,i.CRArray.decodeWithArray);case"tsOrderedSet":return n(t.tsOrderedSet,r.CRTombstoneOrderedSet.decodeWithTombstoneOrderedSet);case"string":return n(t.string,l.CRMergeableAttributedString.decodeWithProtobufString);case"custom":if(!t.custom)throw new Error("contents are invalid");var s=t.custom.type;if("number"!==typeof s)throw new Error("Type index not set");var h=this.typeSetForDecoding[s];if(!h)throw new Error("type not found");var f=o.CRCoder.typeToClassDict.get(h);if(!f)throw new Error("Did not find class decoder for type: "+h);return f(this,t.custom);default:throw new Error("Unsupported object type: "+t.contents)}},e}();t.CRCoderUnarchiver=m},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CRVectorTimestamp=t.CRVectorTimestampComparison=void 0;var i,o=n(1543),a=n(1773),s=n(1558);!function(e){e[e.Same=0]="Same",e[e.Ascending=1]="Ascending",e[e.Descending=2]="Descending"}(i=t.CRVectorTimestampComparison||(t.CRVectorTimestampComparison={}));var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._clock=new Map,t}return r(t,e),t.prototype.init=function(){return this},t.prototype.free=function(){this._clock.forEach((function(e){return e[0].release()})),this._clock.clear(),e.prototype.free.call(this)},t.prototype.encode=function(e){return{contents:"vectorTimestamp",vectorTimestamp:this.encodeIntoProtobufTimestamp(e)}},t.prototype.encodeIntoProtobufTimestamp=function(e){var t=[];return this._clock.forEach((function(n){var r=n[0],i=n[1],o=n[2],a={replicaIndex:e.encodeReplica(r),clock:e.encodeLong(i),subclock:e.encodeLong(o)};t.push(a)})),{element:t}},t.decodeWithProtobufTimestamp=function(e,n){for(var r=t.alloc().init().autorelease(),i=0,o=n.element||[];i<o.length;i++){var a=o[i];if(a.replicaIndex){var s=a.replicaIndex,l=e.decodeReplica(s),u=[l.retain(),0,0];if(a.clock){var c=a.clock;u[1]=e.decodeLong(c)}if(a.subclock){var d=a.subclock;u[2]=e.decodeLong(d)}r._clock.set(l.UUIDString,u)}}return r},t.prototype.copy=function(){var e=t.alloc().init().autorelease();return e.mergeWith(this),e},t.prototype.isEqual=function(e){return e instanceof t&&this.compare(e)===i.Same},Object.defineProperty(t.prototype,"length",{get:function(){return this._clock.size},enumerable:!1,configurable:!0}),t.prototype.timestampForReplica=function(e){return a.CRTimestamp.alloc().initWithReplica_andCounter(e,this.clockForReplica(e)).autorelease()},t.prototype.clockForReplica=function(e){if(!e)return 0;var t=this._clock.get(e.UUIDString);return t?t[1]:0},t.prototype.subclockForReplica=function(e){var t=this._clock.get(e.UUIDString);return t?t[2]:0},t.prototype.clockElementForReplica=function(e){var t=this._clock.get(e.UUIDString);return t?[t[1],t[2]]:null},t.prototype.setClockForReplica=function(e,t){var n=this._clock.get(t.UUIDString);n||(n=[t.retain(),0,0]),n[1]=e,this._clock.set(t.UUIDString,n)},t.prototype.setClockAndSubclockForReplica=function(e,t,n){var r=this._clock.get(n.UUIDString);r?(r[1]=e,r[2]=t):r=[n.retain(),e,t],this._clock.set(n.UUIDString,r)},t.prototype.incrementClockForReplica=function(e){this.setClockForReplica(this.clockForReplica(e)+1,e)},t.prototype.maxClockForReplica=function(e,t){var n=this._clock.get(t.UUIDString);n||(n=[t.retain(),0,0]),n[1]=Math.max(n[1],e),this._clock.set(t.UUIDString,n)},t.prototype.removeReplica=function(e){var t=e.UUIDString,n=this._clock.get(t);n&&n[0].release(),this._clock.delete(t)},t.prototype.allUUIDs=function(){var e=[];return this._clock.forEach((function(t){var n=t[0];return e.push(n)})),e},t.prototype.sortedUUIDs=function(){var e=[];return this._clock.forEach((function(t){var n=t[0];return e.push(n)})),e.sort((function(e,t){return s.CRUUID.compare(e,t)}))},t.prototype.compare=function(e){for(var t=!1,n=!1,r=new Set,o=0,a=this.allUUIDs();o<a.length;o++){var s=a[o];r.add(s)}for(var l=0,u=e.allUUIDs();l<u.length;l++)s=u[l],r.add(s);var c=[];r.forEach((function(e){return c.push(e)}));for(var d=0,h=c;d<h.length;d++){s=h[d];var f=this.clockElementForReplica(s)||[0,0],p=e.clockElementForReplica(s)||[0,0];if(f[0]<p[0]?t=!0:f[0]>p[0]?n=!0:f[1]<p[1]?t=!0:f[1]>p[1]&&(n=!0),t&&n)break}return(t?i.Ascending:0)|(n?i.Descending:0)},t.prototype.minus=function(e){for(var t=0,n=e.allUUIDs();t<n.length;t++){var r=n[t],i=this.clockElementForReplica(r)||[0,0],o=e.clockElementForReplica(r)||[0,0];if(i[0]<o[0]||i[0]===o[0]&&i[1]<o[1]){var a=r.UUIDString,s=this._clock.get(a);s&&s[0].release(),this._clock.delete(a)}}},t.prototype.mergeWith=function(e){if(!(e instanceof t))throw new TypeError("CRVectorTimestamp cannot merge with non-CRVectorTimestamp type.");for(var n=0,r=e.allUUIDs();n<r.length;n++){var i=r[n],o=this.clockElementForReplica(i)||[0,0],a=e.clockElementForReplica(i)||[0,0];o[0]>a[0]||o[0]===a[0]&&o[1]>a[1]?this.setClockAndSubclockForReplica(o[0],o[1],i):this.setClockAndSubclockForReplica(a[0],a[1],i)}},t.prototype.deltaSince=function(e,t){throw new Error("Cannot calculate deltas for CRVectorTimestamp instances.")},t.prototype.realizeLocalChanges=function(e){},Object.defineProperty(t.prototype,"tombstone",{get:function(){throw new Error("Cannot tombstone a non-value / non-identified object.")},enumerable:!1,configurable:!0}),t.prototype.walkGraph=function(e){},t.prototype.setDocument=function(e){},t.prototype.toString=function(){for(var e="[\n",t=0,n=this.sortedUUIDs();t<n.length;t++){var r=n[t],i=this._clock.get(r.UUIDString)||[r,0,0];e+="    "+r+" "+i[1]+" "+i[2]+"\n"}return e+"]\n"},t}(o.Refcounted);t.CRVectorTimestamp=l,l.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TTArray=void 0;var o=n(1559),a=n(1543),s=i(n(1539)),l=n(1779),u=n(1780),c=n(1558),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.self=null,t.stringCmd=null,t}return r(t,e),t.create=function(e,t){var n=this.alloc();return n.self=e.retain(),n.stringCmd=t.retain(),n.autorelease()},t.prototype.free=function(){this.self.release(),this.stringCmd.release(),this.self=null,this.stringCmd=null,e.prototype.free.call(this)},t.prototype.apply=function(){this.stringCmd.applyToString(this.self.contents)},t}(a.Refcounted);d.initializeRefcounted();var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._contents=null,t._document=null,t._delegate=null,t}return r(t,e),Object.defineProperty(t.prototype,"delegate",{get:function(){return this._delegate},set:function(e){this._delegate=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"document",{get:function(){return this._document},set:function(e){this._document=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contents",{get:function(){return this._contents},set:function(e){this._contents!==e&&(this._contents&&this._contents.release(),this._contents=e.retain())},enumerable:!1,configurable:!0}),t.prototype.init=function(){return this.initWithContents(l.CRMergeableAttributedString.alloc().init().autorelease())},t.prototype.initWithDocument=function(e){var t=this.initWithContents(l.CRMergeableAttributedString.alloc().initWithReplicaID(e.replica).autorelease());return t&&(t.document=e),t},t.prototype.initWithContents=function(e){return e.delegate=this,this.contents=e,this},t.prototype.free=function(){this._contents&&this._contents.release(),this._document=null,this._delegate=null,this._contents=null,e.prototype.free.call(this)},t.prototype.encode=function(e){return{contents:"stringArray",stringArray:this.encodeAsStringArray(e)}},t.prototype.encodeAsStringArray=function(e){var t=this;return{contents:this.contents.encodeAsProtobufString(e),attachments:function(){for(var n=[],r=0,i=t.length;r<i;++r){var o=t.get(r);o&&n.push({attachmentIndex:e.encodeLong(r),contents:s.default.wrap(o.bytes())})}return n}()}},t.decodeWithStringArray=function(e,n){if(n.contents){for(var r=l.CRMergeableAttributedString.decodeWithProtobufString(e,n.contents),i=0,a=n.attachments||[];i<a.length;i++){var s=a[i];if(s.attachmentIndex&&s.contents){var d=e.decodeLong(s.attachmentIndex),h=s.contents.toArrayBuffer(),f=c.CRUUID.alloc().initWithUUIDBytes(new Uint8Array(h)).autorelease();r.attributedString.setAttributes_range(o.TTAttrDict.create().setTTArrayAttachment(f.UUIDString),o.NSMakeRange(d,1))}}return t.alloc().initWithContents(r).autorelease()}return r=l.CRMergeableAttributedString.alloc().initWithReplicaID(e.document.replica).autorelease(),e.document instanceof u.CRTTCompatibleDocument&&r.setDocument(e.document),t.alloc().initWithContents(r).autorelease()},Object.defineProperty(t.prototype,"length",{get:function(){return this.contents.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"replicaUUID",{get:function(){return this.contents.replicaUUID},enumerable:!1,configurable:!0}),t.prototype.getAttachmentAtIndex=function(e){var t=this.contents.attributesAtIndex_effectiveRange(e,null);return t&&null!==t.TTArrayAttachment?c.CRUUID.alloc().initWithUUIDString(t.TTArrayAttachment).autorelease():null},t.prototype.get=function(e){return this.getAttachmentAtIndex(e)},t.prototype.push=function(e){this.insert(e,this.length)},t.prototype.indexOf=function(e){for(var t=0;t<this.length;++t){var n=this.get(t);if(n&&0===c.CRUUID.compare(n,e))return t}return-1},t.prototype.insert=function(e,t){var n=o.NSAttributedString.alloc().initWithString_attributes("\ufffc",o.TTAttrDict.create().setTTArrayAttachment(e.UUIDString)).autorelease();this.contents.insertAttributedString_atIndex(n,t)},t.prototype.pop=function(){var e=this.length;e>0&&this.delete(e-1)},t.prototype.delete=function(e){this.contents.deleteCharactersInRange(o.NSMakeRange(e,1))},t.prototype.set=function(e,t){this.delete(e),this.insert(t,e)},t.prototype.mergeWith=function(e){if(!(e instanceof t))throw new TypeError("TTArray cannot merge with non-TTArray type.");this.contents.mergeWith(e.contents)},t.prototype.deltaSince=function(e,t){return this},t.prototype.realizeLocalChanges=function(e){this.contents.realizeLocalChanges(e)},Object.defineProperty(t.prototype,"tombstone",{get:function(){return t.alloc().initWithContents(this.contents).autorelease()},enumerable:!1,configurable:!0}),t.prototype.walkGraph=function(e){this.contents.walkGraph(e)},t.prototype.setDocument=function(e){this._document=e,this.contents.setDocument(e)},t.prototype.forEach=function(e){for(var t=0,n=this.length;t<n;++t)e(this.get(t),t)},t.prototype.beginEditing=function(){},t.prototype.endEditing=function(){},t.prototype.edited_range_changeInLength=function(e,t,n){},t.prototype.addUndoCommand=function(e){this._delegate&&this._delegate.addUndoCommand(d.create(this,e))},Object.defineProperty(t.prototype,"wantsUndoCommands",{get:function(){return!!this._delegate&&this._delegate.wantsUndoCommands},enumerable:!1,configurable:!0}),t}(a.Refcounted);t.TTArray=h,h.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.TTCRVectorMultiTimestamp=t.TTCRVectorTimestamp=void 0;var i=n(1559),o=n(1558),a=n(1789),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._crTimestamp=null,t}return r(t,e),Object.defineProperty(t.prototype,"crTimestamp",{get:function(){return this._crTimestamp},set:function(e){this._crTimestamp!==e&&(this._crTimestamp&&this._crTimestamp.release(),this._crTimestamp=e?e.retain():e)},enumerable:!1,configurable:!0}),t.prototype.init=function(){var t=e.prototype.init.call(this);return t.crTimestamp=a.CRVectorTimestamp.alloc().init().autorelease(),t},t.prototype.free=function(){this.crTimestamp.release(),this.crTimestamp=null,e.prototype.free.call(this)},t.prototype.copy=function(){var e=t.alloc().init();return e.mergeWithTimestamp(this),e},t.prototype.clockElementForUUID=function(e){var t=this.crTimestamp.clockElementForReplica(e);return t?i.TTVectorTimestampElement.create(t[0],t[1]):null},t.prototype.clockForUUID=function(e){var t=this.clockElementForUUID(e);return t?t.clock:0},t.prototype.subclockForUUID=function(e){var t=this.clockElementForUUID(e);return t?t.subclock:0},t.prototype.setClock_forUUID=function(e,t){this.crTimestamp.setClockForReplica(e,t)},t.prototype.setClock_subclock_forUUID=function(e,t,n){this.crTimestamp.setClockAndSubclockForReplica(e,t,n)},t.prototype.allUUIDs=function(){return this.crTimestamp.allUUIDs()},t.prototype.sortedUUIDs=function(){return this.crTimestamp.sortedUUIDs()},t}(i.TTVectorTimestamp);t.TTCRVectorTimestamp=s,s.initializeRefcounted();var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.initWithCapacity=function(t){for(var n=[],r=0;r<t;++r)n.push(s.alloc().init().autorelease());return e.prototype.initWithTimestamps.call(this,n)},t.prototype.copy=function(){var e=t.alloc().init();return e.mergeWithTimestamp(this),e},t.prototype.isDocumentShared=function(){return!0},t.decode=function(e,n){for(var r=t.alloc().initWithCapacity(n).autorelease(),i=0,a=e.clock.length;i<a;++i){var s=e.clock[i],l=s.replicaUUID;if(!l)throw new Error("TTVectorMultiTimestamp clock requires uuids.");var u=o.CRUUID.alloc().initWithUUIDBytes(new Uint8Array(l.toArrayBuffer())).autorelease(),c=s.replicaClock.length;if(c!==n)throw new Error("TTVectorMultiTimestamp requires the same number of clocks as\n                    capacity "+c+" !== "+n);for(var d=0;d<c;++d){var h=s.replicaClock[d].clock||0,f=s.replicaClock[d].subclock||0;r.setClock_subclock_forUUID_atIndex(h,f,u,d)}}return r},t.prototype.encode=function(){for(var e=[],t=0,n=this.sortedUUIDs();t<n.length;t++){for(var r=n[t],i=[],o=0,a=this.timestamps.length;o<a;++o){var s=this.clockElementForUUID_atIndex(r,o);i.push({clock:s&&s.clock>0?s.clock:void 0,subclock:s&&s.subclock>0?s.subclock:void 0})}e.push({replicaUUID:r.bytes(),replicaClock:i})}return{clock:e}},t}(i.TTVectorMultiTimestamp);t.TTCRVectorMultiTimestamp=l,l.initializeRefcounted()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CRDTManager=void 0;var r=n(1543),i=function(){function e(){this.lastRev=0,this.retains=new Map,this.data=new Map,this.revs=new Map,this.lru=new Array,this.destroyListeners=new Map,this.mergeTraces=[],this.maxMergeTraceCount=3,this.lruMaxSize=10}return e.prototype.load=function(e,t){e||r.fatalError("CRDTManager#load: no id given",t);var n=this.data.get(e);if(!n||n instanceof Error)this.data.set(e,t instanceof Error?t:t.retain()),this.revs.set(e,0);else if(!(t instanceof Error)){var i={oursBefore:this.snapshot(n),theirsBefore:this.snapshot(t)};this.mergeTraces.unshift(i),this.mergeTraces.length=this.maxMergeTraceCount,this.merge(n,t),i.oursAfter=this.snapshot(n)}return this.rev(e)},e.prototype.retain=function(e){this.retains.has(e)||this.retains.set(e,0),this.retains.set(e,this.retains.get(e)+1)},e.prototype.release=function(e){if(!this.retains.has(e))throw new Error("CRDTManager#release: overrelease");var t=this.retains.get(e)-1;0===t?(this.retains.delete(e),this.trimLRU()):this.retains.set(e,t)},e.prototype.addDestroyListener=function(e,t){this.destroyListeners.has(e)||this.destroyListeners.set(e,[]),this.destroyListeners.get(e).push(t)},e.prototype.use=function(e){if(this.data.has(e)){var t=this.lru.indexOf(e);t>=0&&this.lru.splice(t,1),this.lru.unshift(e),this.trimLRU()}},e.prototype.find=function(e){return this.use(e),this.data.get(e)||null},e.prototype.rev=function(e){return this.use(e),this.revs.set(e,++this.lastRev),this.revs.get(e)},e.prototype.trimLRU=function(){for(var e=this.lru.length-1;e>=this.lruMaxSize;){var t=this.lru[e],n=this.data.get(t);if(n){if(n instanceof Error){e--;continue}1===n.refCount+(this.retains.get(t)||0)&&(this.data.delete(t),this.revs.delete(t),n.release(),this.lru.splice(e,1),this.didRelease(t)),e--}else this.lru.splice(e,1),e--}},e.prototype.destroy=function(e){var t=this.data.get(e);if(!t)return!1;t instanceof Error||t.release(),this.data.delete(e),this.revs.delete(e);var n=this.lru.indexOf(e);return n>=0&&this.lru.splice(n,1),this.didRelease(e),!0},e.prototype.didRelease=function(e){var t=this.destroyListeners.get(e);if(t){for(var n=0,r=t;n<r.length;n++)(0,r[n])(e);this.destroyListeners.delete(e)}},e}();t.CRDTManager=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ICTableVersionedDocument=void 0;var o=i(n(1539)),a=n(1783),s=n(1788),l=n(1781),u=n(1780),c=n(1558),d=n(1789),h=n(1778),f=n(1797),p=function(e){function t(){var t=e.call(this)||this;return t._table=null,t._innerTableDocument=null,t._replica=null,t}return r(t,e),t.prototype.getSerializationVersion=function(){return 0},t.prototype.getMinimumSupportedVersion=function(){return 0},Object.defineProperty(t.prototype,"innerTableDocument",{get:function(){return this._innerTableDocument},set:function(e){e!==this._innerTableDocument&&(this._innerTableDocument&&this._innerTableDocument.release(),this._innerTableDocument=e?e.retain():e)},enumerable:!1,configurable:!0}),t.prototype.free=function(){this._table&&this._table.release(),this._table=null,this._innerTableDocument&&this._innerTableDocument.release(),this._innerTableDocument=null,this._replica&&this._replica.release(),this._replica=null,e.prototype.free.call(this)},t.tableDoc=function(e,n){void 0===e&&(e=0),void 0===n&&(n=0);var r=t.alloc().init().autorelease();r.replica=c.CRUUID.UUID();for(var i=r.table,o=0;o<e;++o)i.insertColumn(o);for(o=0;o<n;++o)i.insertRow(o);return r},t.prototype.mergeWithTableVersionedDocument=function(e){switch(this.table.document.mergeWithDocument(e.table.document)){case l.CRMergeResult.Updated:return f.TTMergingResult.Updated;case l.CRMergeResult.NoChange:return f.TTMergingResult.NoChange;case l.CRMergeResult.Fail:return f.TTMergingResult.Fail}},t.serializationVersion=function(){return 0},t.minimumSupportedVersion=function(){return 0},Object.defineProperty(t.prototype,"replica",{get:function(){return this._replica||c.CRUUID.UUID()},set:function(e){this._replica!==e&&(this._replica&&this._replica.release(),this._replica=e.retain())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"table",{get:function(){if(this._table)return this._table;this.innerTableDocument=u.CRTTCompatibleDocument.alloc().initWithVersion_startVersion_rootObject_replica(d.CRVectorTimestamp.alloc().init().autorelease(),null,null,this.replica).autorelease();var e=h.ICTable.alloc().initWithDocument(this.innerTableDocument).autorelease();return this.table=e,this.innerTableDocument.rootObject=this._table,e},set:function(e){this._table!==e&&(this._table&&this._table.release(),this._table=e.retain())},enumerable:!1,configurable:!0}),t.prototype.mergeVersion=function(e,t){var n=s.CRCoderUnarchiver.decodedDocumentFromData(t,c.CRUUID.UUID());this.innerTableDocument?this.innerTableDocument.mergeWithDocument(n):(this.innerTableDocument=n,this.table=this.innerTableDocument.rootObject)},t.prototype.serializeCurrentVersion=function(){return this._innerTableDocument?(this._innerTableDocument.realizeLocalChanges(),[this.getSerializationVersion(),a.CRCoderArchiver.encodedDataWithDocument(this._innerTableDocument)]):[this.getSerializationVersion(),new o.default(0)]},t}(f.TTVersionedDocument);t.ICTableVersionedDocument=p,p.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TTVersionedDocument=t.versionedDocumentSerializationVersion=t.TTMergingResult=void 0;var a,s=n(1543),l=o(n(1539)),u=n(1784);!function(e){e[e.Fail=0]="Fail",e[e.NoChange=1]="NoChange",e[e.Updated=2]="Updated"}(a=t.TTMergingResult||(t.TTMergingResult={})),t.versionedDocumentSerializationVersion=0;var c=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t._documentArchive=null,t}return r(n,e),Object.defineProperty(n.prototype,"futureVersionCount",{get:function(){return this._documentArchive.version?this._documentArchive.version.length:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxDocumentVersion",{get:function(){if(this._documentArchive.version&&this._documentArchive.version.length>0){var e=this._documentArchive.version[0].serializationVersion;return"number"===typeof e?e:this.getSerializationVersion()}return this.getSerializationVersion()},enumerable:!1,configurable:!0}),n.prototype.init=function(){return this._documentArchive={serializationVersion:t.versionedDocumentSerializationVersion,version:[]},this},n.prototype.initWithBase64=function(e){return this._documentArchive=u.decodeVersionedDocument(e),this.loadData(this._documentArchive),this},n.prototype.initWithData=function(e){return this._documentArchive=u.decodeVersionedDocument(e),this.loadData(this._documentArchive),this},n.prototype.initWithArchive=function(e){return this.loadArchive(e),this},n.prototype.free=function(){this._documentArchive=null,e.prototype.free.call(this)},n.prototype.loadData=function(e){if(e){if("number"!==typeof e.serializationVersion||e.serializationVersion!==t.versionedDocumentSerializationVersion)throw new Error("TTVersionedDocument is wrong versionedDocumentSerializationVersion\n                "+e.serializationVersion+" != "+t.versionedDocumentSerializationVersion);this.loadArchive(e)}},n.prototype.loadArchive=function(e){for(var t=this.getSerializationVersion(),n=-1,r=-1,i=e.version?e.version.length:0,o=0;o<i;++o){var a=(u=e.version[o]).serializationVersion||0,s=u.minimumSupportedVersion||0;if(a<=t&&r<0&&(r=o),a>=t&&s<=t)n=o;else if(a<t){n<0&&(n=o);break}}if(!(n>=0))throw new Error("TTVersionedDocument did not load any compatible version.");for(o=n;o<i;++o){a=(u=e.version[o]).serializationVersion||0,s=u.minimumSupportedVersion||0;var u,c=u.data||new l.default(0);if(a<t)this.mergeVersion(a,c);else if(a===t)this.mergeVersion(a,c);else{if(!(s<=t))throw new Error("Should not attempt to load invalid version.");this.mergeVersion(a,c)}}r>=0&&e.version&&(e.version=e.version.slice(r))},n.prototype.saveToArchive=function(){var e=t.versionedDocumentSerializationVersion,n=this._documentArchive.version?i(this._documentArchive.version):[];return n.push(this.saveCurrentVersion()),u.encodeVersionedDocument({serializationVersion:e,version:n})},n.prototype.saveCurrentVersion=function(){var e=this.getMinimumSupportedVersion(),t=this.serializeCurrentVersion(),n=t[0],r=t[1];if(e>n)throw new Error("Cannot have a min supported version greater than the serialized version.");return{minimumSupportedVersion:e,serializationVersion:n,data:r}},n.prototype.mergeWithVersionedDocument=function(e){return e._documentArchive.version?this._documentArchive.version=i(e._documentArchive.version):this._documentArchive.version=void 0,a.NoChange},n}(s.Refcounted);t.TTVersionedDocument=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.TTMergeableStringVersionedDocument=void 0;var i=n(1559),o=n(1784),a=n(1797),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._mergeableString=null,t}return r(t,e),t.prototype.getSerializationVersion=function(){return 0},t.prototype.getMinimumSupportedVersion=function(){return 0},Object.defineProperty(t.prototype,"mergeableString",{get:function(){return this._mergeableString},set:function(e){e!==this._mergeableString&&(this._mergeableString&&this._mergeableString.release(),this._mergeableString=e?e.retain():e)},enumerable:!1,configurable:!0}),t.prototype.free=function(){this._mergeableString&&this._mergeableString.release(),this._mergeableString=null,e.prototype.free.call(this)},t.prototype.initWithData_andReplicaID=function(e,t){var n=this.init();return n&&(this.mergeableString=i.TTMergeableAttributedString.alloc().initWithReplicaID(t).autorelease(),n.loadData(o.decodeVersionedDocument(e))),n},t.prototype.initWithMergeableString=function(e){var t=this.init();return t&&(this.mergeableString=e,t.loadData(null)),t},t.prototype.initWithArchive_andReplicaID=function(e,t){var n=this.init();return n&&(this.mergeableString=i.TTMergeableAttributedString.alloc().initWithReplicaID(t).autorelease(),n.loadArchive(e)),n},t.prototype.mergeWithStringVersionedDocument=function(t){var n=this.mergeableString.mergeWithString(t.mergeableString);return n!==a.TTMergingResult.Fail&&e.prototype.mergeWithVersionedDocument.call(this,t),n},t.prototype.mergeVersion=function(e,t){var n=o.decodeTTString(t),r=i.TTMergeableAttributedString.alloc().initWithArchive_andReplicaID(n,null).autorelease();r&&this.mergeableString.mergeWithString(r)},t.prototype.serializeCurrentVersion=function(){var e=this.getSerializationVersion(),t=this.mergeableString.saveToArchive();return[e,o.encodeTTString(t)]},t}(a.TTVersionedDocument);t.TTMergeableStringVersionedDocument=s,s.initializeRefcounted()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.TopoTextManager=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.snapshot=function(e){return e.mergeableString.saveToArchive()},t.prototype.merge=function(e,t){e.mergeableString.mergeWithString(t.mergeableString)},t}(n(1793).CRDTManager);t.TopoTextManager=i},,function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.swatches=void 0,o(n(1802),t),t.swatches=a(n(1803)),o(n(1804),t),o(n(1805),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Color=t.ColorSwatch=void 0;var r=function(){function e(e,t,n,r,i){this.r=e,this.g=t,this.b=n,this.a=r,this.alpha=i}return Object.defineProperty(e.prototype,"rFloat",{get:function(){return this.r/255},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gFloat",{get:function(){return this.g/255},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bFloat",{get:function(){return this.b/255},enumerable:!1,configurable:!0}),e.prototype.rgbaFloats=function(){var e;return[this.rFloat,this.gFloat,this.bFloat,null!==(e=this.a)&&void 0!==e?e:1]},e.prototype.rgba=function(){var e=this.r,t=this.g,n=this.b,r=this.a,i=void 0===r?1:r;return"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(i,")")},e.prototype.hex=function(){return this.rrggbb().replace(/^(#?)([0-9a-f])\2([0-9a-f])\3([0-9a-f])\4$/i,"$1$2$3$4")},e.prototype.rrggbb=function(){return"#"+[this.r,this.g,this.b].map(i).join("").toUpperCase()},Object.defineProperty(e.prototype,"h",{get:function(){return void 0===this._h&&this.setHSL(),this._h},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"s",{get:function(){return void 0===this._s&&this.setHSL(),this._s},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"l",{get:function(){return void 0===this._l&&this.setHSL(),this._l},enumerable:!1,configurable:!0}),e.prototype.hsl=function(e,t){void 0===e&&(e=4),void 0===t&&(t=2);var n=[this.h,this.s,this.l].map((function(t){return t.toFixed(e)})),r=n[0],i=n[1],o=n[2],a=void 0===this.a?"":", ".concat(this.a.toFixed(t));return"hsl".concat(a?"a":"","(").concat(r,", ").concat(i,"%, ").concat(o,"%").concat(a,")")},e.prototype.setHSL=function(){var e=this.r/255,t=this.g/255,n=this.b/255,r=Math.max(e,t,n),i=Math.min(e,t,n),o=r-i,a=r+i,s=0,l=0,u=a/2;if(o){switch(l=u>.5?o/(2-a):o/a,r){case e:s=(t-n)/o+(t<n?6:0);break;case t:s=(n-e)/o+2;break;case n:s=(e-t)/o+4}s/=6}this._h=s,this._s=l,this._l=u},e}();function i(e){return"0".concat(e.toString(16)).slice(-2)}t.ColorSwatch=r,t.Color=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dark=t.light=void 0;var r=n(1802);t.light={fill:new r.Color(255,255,255),"fill-blue":new r.Color(190,229,250),"fill-blue-secondary":new r.Color(232,246,254),"fill-gray":new r.Color(127,127,129),"fill-gray-quaternary":new r.Color(216,216,218),"fill-gray-quinary":new r.Color(228,228,230,void 0,new r.Color(0,0,2,.1)),"fill-gray-secondary":new r.Color(170,170,174,void 0,new r.Color(142,142,147,.75)),"fill-gray-senary":new r.Color(237,237,238),"fill-gray-tertiary":new r.Color(198,198,200,void 0,new r.Color(0,0,2,.22)),"fill-secondary":new r.Color(248,248,252),"fill-tertiary":new r.Color(242,242,247),glyph:new r.Color(0,0,0,.88),"glyph-blue":new r.Color(0,113,235),"glyph-brown":new r.Color(140,113,74),"glyph-cyan":new r.Color(0,173,204),"glyph-green":new r.Color(18,192,15),"glyph-orange":new r.Color(255,149,56),"glyph-purple":new r.Color(88,86,214),"glyph-red":new r.Color(235,12,0),"glyph-secondary":new r.Color(0,0,0,.56),"glyph-tertiary":new r.Color(0,0,0,.48),"glyph-yellow":new r.Color(247,206,70),"notes-yellow":new r.Color(237,187,0),"notes-yellow-secondary":new r.Color(255,246,179,void 0,new r.Color(255,223,13,.3)),"reminders-selection":new r.Color(207,220,235),"reminders-selection-grabber":new r.Color(52,109,217),"reminders-user-blue":new r.Color(0,122,255),"reminders-user-brown":new r.Color(157,133,99),"reminders-user-gray":new r.Color(91,103,112),"reminders-user-green":new r.Color(25,199,89),"reminders-user-indigo":new r.Color(88,86,214),"reminders-user-light-blue":new r.Color(81,170,242),"reminders-user-orange":new r.Color(255,149,0),"reminders-user-pink":new r.Color(234,66,106),"reminders-user-purple":new r.Color(192,119,219),"reminders-user-red":new r.Color(255,59,48),"reminders-user-rose":new r.Color(217,166,159),"reminders-user-yellow":new r.Color(255,204,0)},t.dark={fill:new r.Color(0,0,0),glyph:new r.Color(255,255,255)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.themeColors=void 0,t.themeColors={labelPrimary:"var(--theme-color-labelPrimary)",labelSecondary:"var(--theme-color-labelSecondary)",labelTertiary:"var(--theme-color-labelTertiary)",labelQuaternary:"var(--theme-color-labelQuaternary)",fillPrimary:"var(--theme-color-fillPrimary)",fillSecondary:"var(--theme-color-fillSecondary)",fillTertiary:"var(--theme-color-fillTertiary)",fillQuaternary:"var(--theme-color-fillQuaternary)",gray1:"var(--theme-color-gray1)",gray2:"var(--theme-color-gray2)",gray3:"var(--theme-color-gray3)",gray4:"var(--theme-color-gray4)",gray5:"var(--theme-color-gray5)",gray6:"var(--theme-color-gray6)",systemPink:"var(--theme-color-systemPink)",systemRed:"var(--theme-color-systemRed)",systemOrange:"var(--theme-color-systemOrange)",systemYellow:"var(--theme-color-systemYellow)",systemGreen:"var(--theme-color-systemGreen)",systemMint:"var(--theme-color-systemMint)",systemTeal:"var(--theme-color-systemTeal)",systemCyan:"var(--theme-color-systemCyan)",systemBlue:"var(--theme-color-systemBlue)",systemIndio:"var(--theme-color-systemIndio)",systemPurple:"var(--theme-color-systemPurple)",systemBrown:"var(--theme-color-systemBrown)",systemBlack:"var(--theme-color-systemBlack)",systemWhite:"var(--theme-color-systemWhite)",tintNotes:"var(--theme-color-tintNotes)",tintFindMy:"var(--theme-color-tintFindMy)",tintCyan:"var(--theme-color-tintCyan)",tintCyanOpaque:"var(--theme-color-tintCyanOpaque)",tintBlue:"var(--theme-color-tintBlue)",tintBlueOpaque:"var(--theme-color-tintBlueOpaque)",tintRed:"var(--theme-color-tintRed)",tintRedOpaque:"var(--theme-color-tintRedOpaque)",tintBlueSecondary:"var(--theme-color-tintBlueSecondary)",tintBlueSecondaryOpaque:"var(--theme-color-tintBlueSecondaryOpaque)",tintBlueTertiary:"var(--theme-color-tintBlueTertiary)",tintBlueTertiaryOpaque:"var(--theme-color-tintBlueTertiaryOpaque)",backgroundPrimary:"var(--theme-color-backgroundPrimary)",backgroundLayer1:"var(--theme-color-backgroundLayer1)",backgroundLayer2:"var(--theme-color-backgroundLayer2)",sidebar:"var(--theme-color-sidebar)",divider:"var(--theme-color-divider)",separator:"var(--theme-color-separator)",backdrop:"var(--theme-color-backdrop)",boxShadow:"var(--theme-color-boxShadow)"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transformColor=void 0,t.transformColor=function(e){var t=e.colorName,n=e.alpha,r=e.darken;if(!n&&!r&&0!==n)return"hsl(var(".concat(t,"-h),var(").concat(t,"-s),var(").concat(t,"-l))");var i,o="string"===typeof n?"var(".concat(n,")"):n,a=(null===(i=r)||void 0===i?void 0:i.startsWith("--theme-"))?"var(".concat(r,")"):r;return r?n||0===n?"hsla(var(".concat(t,"-h),var(").concat(t,"-s),calc(var(").concat(t,"-l) - ").concat(a,"),").concat(o,")"):"hsl(var(".concat(t,"-h),var(").concat(t,"-s),calc(var(").concat(t,"-l) - ").concat(a,"))"):"hsla(var(".concat(t,"-h),var(").concat(t,"-s),var(").concat(t,"-l),").concat(o,")")}},,function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"tray.circle.fill",svgPath:"M58.5449 14.5996C85.791 14.5996 108.35-7.95898 108.35-35.2051C108.35-62.4023 85.7422-85.0098 58.4961-85.0098C31.2988-85.0098 8.74023-62.4023 8.74023-35.2051C8.74023-7.95898 31.3477 14.5996 58.5449 14.5996ZM36.9629-14.7949C31.7383-14.7949 29.1016-17.4316 29.1016-22.5098L29.1016-36.3281C29.1016-38.6719 29.4922-39.6484 30.5664-41.1133L39.4043-53.0762C42.2852-57.0801 44.043-58.0078 48.4375-58.0078L68.75-58.0078C73.1445-58.0078 74.8535-57.0801 77.7832-53.0762L86.6211-41.1133C87.6953-39.6484 88.0859-38.6719 88.0859-36.3281L88.0859-22.5098C88.0859-17.4316 85.498-14.7949 80.2246-14.7949ZM36.1816-37.9883L50.6348-37.9883C51.9531-37.9883 52.6855-36.9629 52.6855-35.9375L52.6855-35.3027C52.6855-31.8359 54.9316-29.6387 58.5938-29.6387C62.2559-29.6387 64.6484-31.8359 64.6484-35.3027L64.6484-35.9375C64.6484-36.9629 65.2344-37.9883 66.5527-37.9883L81.0059-37.9883C81.7871-37.9883 81.9824-38.7207 81.6406-39.1602L72.9004-51.0254C71.9238-52.3926 70.8496-52.9785 69.0918-52.9785L48.1445-52.9785C46.3867-52.9785 45.3125-52.4414 44.2871-51.0254L35.5957-39.1602C35.2539-38.623 35.4004-37.9883 36.1816-37.9883Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.46503906249995,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 99.6099853515625 99.6591796875",width:99.6099853515625,height:99.6591796875,translateX:-8.740039062500045,translateY:85.0595703125,baseline:85.0595703125,capline:14.599609375}}})}},,,,function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"circle.inset.filled",svgPath:"M58.5449 14.5508C85.791 14.5508 108.35-8.05664 108.35-35.2539C108.35-62.5 85.7422-85.0586 58.4961-85.0586C31.2988-85.0586 8.74023-62.5 8.74023-35.2539C8.74023-8.05664 31.3477 14.5508 58.5449 14.5508ZM58.5449 6.25C35.498 6.25 17.0898-12.207 17.0898-35.2539C17.0898-58.3008 35.4492-76.7578 58.4961-76.7578C81.543-76.7578 100-58.3008 100.049-35.2539C100.098-12.207 81.5918 6.25 58.5449 6.25ZM58.4473-1.17188C77.4414-1.17188 92.5781-16.3574 92.5293-35.3027C92.4805-54.1992 77.3438-69.3848 58.3984-69.3848C39.4531-69.3848 24.4141-54.248 24.4141-35.3027C24.4141-16.3086 39.502-1.17188 58.4473-1.17188Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.46503906249995,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 99.6099853515625 99.6572265625",width:99.6099853515625,height:99.6572265625,translateX:-8.740039062500045,translateY:85.05859375,baseline:85.05859375,capline:14.5986328125}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"list.bullet",svgPath:"M18.6035-58.5938C22.0215-58.5938 24.7559-61.3281 24.7559-64.6973C24.7559-68.1152 22.0215-70.8496 18.6035-70.8496C15.1855-70.8496 12.4512-68.1152 12.4512-64.6973C12.4512-61.3281 15.1855-58.5938 18.6035-58.5938ZM40.1855-60.791L106.885-60.791C109.082-60.791 110.84-62.5 110.84-64.6973C110.84-66.9434 109.082-68.6523 106.885-68.6523L40.1855-68.6523C37.9395-68.6523 36.2305-66.9434 36.2305-64.6973C36.2305-62.5 37.9395-60.791 40.1855-60.791ZM18.6035-29.0527C22.0215-29.0527 24.7559-31.7871 24.7559-35.2051C24.7559-38.623 22.0215-41.3574 18.6035-41.3574C15.1855-41.3574 12.4512-38.623 12.4512-35.2051C12.4512-31.7871 15.1855-29.0527 18.6035-29.0527ZM40.1855-31.25L106.885-31.25C109.082-31.25 110.84-33.0078 110.84-35.2051C110.84-37.4023 109.082-39.1113 106.885-39.1113L40.1855-39.1113C37.9395-39.1113 36.2305-37.4023 36.2305-35.2051C36.2305-33.0078 37.9395-31.25 40.1855-31.25ZM18.6035 0.488281C22.0215 0.488281 24.7559-2.29492 24.7559-5.66406C24.7559-9.08203 22.0215-11.8164 18.6035-11.8164C15.1855-11.8164 12.4512-9.08203 12.4512-5.66406C12.4512-2.29492 15.1855 0.488281 18.6035 0.488281ZM40.1855-1.75781L106.885-1.75781C109.082-1.75781 110.84-3.4668 110.84-5.66406C110.84-7.91016 109.082-9.61914 106.885-9.61914L40.1855-9.61914C37.9395-9.61914 36.2305-7.91016 36.2305-5.66406C36.2305-3.4668 37.9395-1.75781 40.1855-1.75781Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:72.3651000976563,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 98.389892578125 71.4365234375",width:98.389892578125,height:71.4365234375,translateX:-12.450024414062455,translateY:70.9482421875,baseline:70.9482421875,capline:.48828125}}})}},function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"record.circle",svgPath:"M58.5449 14.5508C85.791 14.5508 108.35-8.05664 108.35-35.2539C108.35-62.5 85.7422-85.0586 58.4961-85.0586C31.2988-85.0586 8.74023-62.5 8.74023-35.2539C8.74023-8.05664 31.3477 14.5508 58.5449 14.5508ZM58.5449 6.25C35.498 6.25 17.0898-12.207 17.0898-35.2539C17.0898-58.3008 35.4492-76.7578 58.4961-76.7578C81.543-76.7578 100-58.3008 100.049-35.2539C100.098-12.207 81.5918 6.25 58.5449 6.25ZM58.5938-16.1621C69.1406-16.1621 77.7344-24.7559 77.7344-35.3516C77.7344-45.8984 69.1406-54.4434 58.5938-54.4434C47.998-54.4434 39.4043-45.8984 39.4043-35.3516C39.4043-24.7559 47.998-16.1621 58.5938-16.1621Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.46503906249995,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 99.6099853515625 99.6572265625",width:99.6099853515625,height:99.6572265625,translateX:-8.740039062500045,translateY:85.05859375,baseline:85.05859375,capline:14.5986328125}}})}},,function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"wand.and.stars.inverse",svgPath:"M50.4883-61.3281C51.2695-61.3281 51.709-61.8164 51.8555-62.5488C53.4668-70.8496 53.3203-70.9961 61.9629-72.7051C62.7441-72.8516 63.2324-73.291 63.2324-74.0234C63.2324-74.7559 62.7441-75.1953 62.0117-75.3418C53.2715-77.1484 53.2715-77.2949 51.8555-85.498C51.709-86.2305 51.2695-86.7188 50.4883-86.7188C49.7559-86.7188 49.3164-86.2305 49.1699-85.498C47.5586-77.1484 47.7051-76.8555 39.0137-75.3418C38.2812-75.2441 37.793-74.7559 37.793-74.0234C37.793-73.291 38.2812-72.8516 39.0137-72.7051C47.7051-70.8984 47.7051-70.752 49.1699-62.5C49.3164-61.8164 49.7559-61.3281 50.4883-61.3281ZM93.2129-43.8477C94.043-43.8477 94.5801-44.4336 94.7754-45.2637C96.5332-54.834 96.3867-55.3223 106.494-57.0312C107.373-57.1777 107.959-57.7148 107.959-58.5449C107.959-59.4238 107.373-59.9609 106.543-60.1074C96.3867-61.9629 96.2402-62.3535 94.7754-71.875C94.6289-72.7051 94.043-73.291 93.2129-73.291C92.334-73.291 91.7969-72.7051 91.6504-71.875C89.9902-62.207 90.0391-61.6211 79.8828-60.1074C79.0527-60.0098 78.418-59.4238 78.4668-58.5449C78.4668-57.7148 79.0039-57.1777 79.8828-57.0312C90.0391-55.2246 90.1855-54.7852 91.6504-45.2637C91.7969-44.4336 92.334-43.8477 93.2129-43.8477ZM23.4863-28.8086C24.3164-28.8086 24.9023-29.3945 25-30.2246C26.5137-39.8438 26.709-40.2832 36.7676-41.9922C37.6465-42.1387 38.2324-42.6758 38.2324-43.5059C38.2324-44.3848 37.6465-44.9219 36.8164-45.0684C26.6602-46.9238 26.6113-47.3145 25-56.7871C24.9023-57.666 24.3164-58.252 23.4863-58.252C22.6562-58.252 22.0703-57.666 21.9727-56.8359C20.459-47.1191 20.3125-46.7285 10.1562-45.0684C9.32617-44.9219 8.74023-44.3848 8.74023-43.5059C8.74023-42.6758 9.32617-42.1387 10.1562-41.9922C20.3125-40.1367 20.2637-39.6973 21.9727-30.1758C22.0703-29.3945 22.6562-28.8086 23.4863-28.8086ZM107.227 13.1348C109.814 15.7715 114.258 15.7715 116.797 13.1348C119.385 10.4492 119.385 6.20117 116.797 3.51562L70.4102-43.1152C67.8223-45.752 63.3789-45.752 60.8398-43.1152C58.252-40.4297 58.252-36.1328 60.8398-33.4961ZM47.2168 14.6973C48.3398 14.6973 49.1699 13.916 49.2676 12.7441C50.8301-0.488281 51.4648-0.976562 64.9902-3.02734C66.3086-3.22266 67.0898-3.95508 67.0898-5.07812C67.0898-6.20117 66.3086-6.93359 65.2344-7.17773C51.4648-9.81445 50.8301-9.7168 49.2676-22.9004C49.1699-24.1211 48.3398-24.9023 47.2168-24.9023C46.0938-24.9023 45.2637-24.1211 45.166-22.998C43.5059-9.47266 43.0176-9.0332 29.1992-7.17773C28.1738-7.03125 27.3438-6.20117 27.3438-5.07812C27.3438-4.00391 28.125-3.22266 29.1992-3.02734C43.0664-0.341797 43.457-0.341797 45.166 12.8418C45.2637 13.916 46.1426 14.6973 47.2168 14.6973ZM109.814 8.88672L83.7891-17.2363L86.7676-20.2637L112.891 5.85938C113.965 6.93359 114.307 8.25195 113.281 9.32617C112.256 10.2539 110.938 10.0098 109.814 8.88672Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:72.12003662109373,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 113.696044921875 102.9775390625",width:113.696044921875,height:102.9775390625,translateX:-5.042011718750018,translateY:86.71875,baseline:86.71875,capline:16.2587890625}}})}},,function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"plus.circle.fill",svgPath:"M59.1797 15.1855C86.7676 15.1855 109.619-7.61719 109.619-35.2539C109.619-62.8418 86.7676-85.6934 59.1309-85.6934C31.543-85.6934 8.74023-62.8418 8.74023-35.2539C8.74023-7.61719 31.5918 15.1855 59.1797 15.1855ZM36.9629-35.2051C36.9629-38.0371 38.9648-40.0391 41.748-40.0391L54.3945-40.0391L54.3945-52.6855C54.3945-55.5176 56.3477-57.5195 59.1309-57.5195C61.9629-57.5195 63.9648-55.5176 63.9648-52.6855L63.9648-40.0391L76.6602-40.0391C79.3945-40.0391 81.4453-38.0371 81.4453-35.2051C81.4453-32.4219 79.3945-30.4688 76.6602-30.4688L63.9648-30.4688L63.9648-17.8223C63.9648-15.0391 61.9629-13.0371 59.1309-13.0371C56.3477-13.0371 54.3945-15.0391 54.3945-17.8223L54.3945-30.4688L41.748-30.4688C38.9648-30.4688 36.9629-32.4219 36.9629-35.2051Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.46508300781261,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 102.1480712890625 100.9267578125",width:102.1480712890625,height:100.9267578125,translateX:-7.470952148437391,translateY:85.693359375,baseline:85.693359375,capline:15.2333984375}}})}},,function(e,t,n){"use strict";var r=n(478),i=n(632);t.a=function(e){return Object(r.createElement)(i.a,{originalProps:e,metadata:{name:"square.grid.4x3.fill",svgPath:"M16.6504-56.1035L24.7559-56.1035C27.8809-56.1035 29.0039-57.2266 29.0039-60.3027L29.0039-68.4082C29.0039-71.5332 27.8809-72.6562 24.7559-72.6562L16.6504-72.6562C13.5742-72.6562 12.4512-71.5332 12.4512-68.4082L12.4512-60.3027C12.4512-57.2266 13.5742-56.1035 16.6504-56.1035ZM45.8496-56.1035L53.9551-56.1035C57.0312-56.1035 58.1543-57.2266 58.1543-60.3027L58.1543-68.4082C58.1543-71.5332 57.0312-72.6562 53.9551-72.6562L45.8496-72.6562C42.7246-72.6562 41.6016-71.5332 41.6016-68.4082L41.6016-60.3027C41.6016-57.2266 42.7246-56.1035 45.8496-56.1035ZM75-56.1035L83.1055-56.1035C86.1816-56.1035 87.3047-57.2266 87.3047-60.3027L87.3047-68.4082C87.3047-71.5332 86.1816-72.6562 83.1055-72.6562L75-72.6562C71.9238-72.6562 70.8008-71.5332 70.8008-68.4082L70.8008-60.3027C70.8008-57.2266 71.9238-56.1035 75-56.1035ZM104.15-56.1035L112.256-56.1035C115.381-56.1035 116.504-57.2266 116.504-60.3027L116.504-68.4082C116.504-71.5332 115.381-72.6562 112.256-72.6562L104.15-72.6562C101.074-72.6562 99.9512-71.5332 99.9512-68.4082L99.9512-60.3027C99.9512-57.2266 101.074-56.1035 104.15-56.1035ZM16.8945-26.9531L25-26.9531C28.125-26.9531 29.248-28.0762 29.248-31.1523L29.248-39.2578C29.248-42.334 28.125-43.457 25-43.457L16.8945-43.457C13.8184-43.457 12.6953-42.334 12.6953-39.2578L12.6953-31.1523C12.6953-28.0762 13.8184-26.9531 16.8945-26.9531ZM46.0938-26.9531L54.1992-26.9531C57.2754-26.9531 58.3984-28.0762 58.3984-31.1523L58.3984-39.2578C58.3984-42.334 57.2754-43.457 54.1992-43.457L46.0938-43.457C42.9688-43.457 41.8457-42.334 41.8457-39.2578L41.8457-31.1523C41.8457-28.0762 42.9688-26.9531 46.0938-26.9531ZM75.2441-26.9531L83.3496-26.9531C86.4258-26.9531 87.5488-28.0762 87.5488-31.1523L87.5488-39.2578C87.5488-42.334 86.4258-43.457 83.3496-43.457L75.2441-43.457C72.168-43.457 71.0449-42.334 71.0449-39.2578L71.0449-31.1523C71.0449-28.0762 72.168-26.9531 75.2441-26.9531ZM104.443-26.9531L112.5-26.9531C115.625-26.9531 116.748-28.0762 116.748-31.1523L116.748-39.2578C116.748-42.334 115.625-43.457 112.5-43.457L104.443-43.457C101.318-43.457 100.195-42.334 100.195-39.2578L100.195-31.1523C100.195-28.0762 101.318-26.9531 104.443-26.9531ZM16.8945 2.24609L25 2.24609C28.125 2.24609 29.248 1.12305 29.248-2.00195L29.248-10.0586C29.248-13.1836 28.125-14.3066 25-14.3066L16.8945-14.3066C13.8184-14.3066 12.6953-13.1836 12.6953-10.0586L12.6953-2.00195C12.6953 1.12305 13.8184 2.24609 16.8945 2.24609ZM46.0938 2.24609L54.1992 2.24609C57.2754 2.24609 58.3984 1.12305 58.3984-2.00195L58.3984-10.0586C58.3984-13.1836 57.2754-14.3066 54.1992-14.3066L46.0938-14.3066C42.9688-14.3066 41.8457-13.1836 41.8457-10.0586L41.8457-2.00195C41.8457 1.12305 42.9688 2.24609 46.0938 2.24609ZM75.2441 2.24609L83.3496 2.24609C86.4258 2.24609 87.5488 1.12305 87.5488-2.00195L87.5488-10.0586C87.5488-13.1836 86.4258-14.3066 83.3496-14.3066L75.2441-14.3066C72.168-14.3066 71.0449-13.1836 71.0449-10.0586L71.0449-2.00195C71.0449 1.12305 72.168 2.24609 75.2441 2.24609ZM104.443 2.24609L112.5 2.24609C115.625 2.24609 116.748 1.12305 116.748-2.00195L116.748-10.0586C116.748-13.1836 115.625-14.3066 112.5-14.3066L104.443-14.3066C101.318-14.3066 100.195-13.1836 100.195-10.0586L100.195-2.00195C100.195 1.12305 101.318 2.24609 104.443 2.24609Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:69.41010498046876,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 104.297607421875 74.9521484375",width:104.297607421875,height:74.9521484375,translateX:-12.451162109374991,translateY:72.7060546875,baseline:72.7060546875,capline:2.24609375}}})}},,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return Ie}));var r=n(478),i=n.n(r),o=n(1466),a=n(689),s=n(1856),l=n(690),u=n(1470),c=n(632),d=function(e){return Object(r.createElement)(c.a,{originalProps:e,metadata:{name:"chevron.left",svgPath:"M6.00586-35.2539C6.00586-33.5938 6.64062-32.1777 7.95898-30.9082L46.0449 6.34766C47.0703 7.42188 48.4375 7.95898 50 7.95898C53.1738 7.95898 55.6641 5.51758 55.6641 2.29492C55.6641 0.732422 55.0293-0.683594 53.9551-1.75781L19.6289-35.2539L53.9551-68.75C55.0293-69.873 55.6641-71.2891 55.6641-72.8516C55.6641-76.0254 53.1738-78.4668 50-78.4668C48.4375-78.4668 47.0703-77.9297 46.0449-76.8555L7.95898-39.5996C6.64062-38.3301 6.05469-36.9141 6.00586-35.2539Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:97.92919921875,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 60.1500244140625 86.4736328125",width:60.1500244140625,height:86.4736328125,translateX:-6.005859375,translateY:78.466796875,baseline:78.466796875,capline:8.0068359375}}})};const h=r.createContext(void 0);function f(e){return r.createElement(h.Provider,{value:e.value},e.children)}function p(){const e=r.useContext(h);if(void 0===e)throw new Error("useSlideToChildrenNodes must be used within a SlideViewActionProvider");const{toggle:t}=e;return r.useCallback(e=>t(e),[t])}var g=n(1471),y=n(558),v=n.n(y),m=n(711);function b(e){let{node:t,backButtonLabel:n="Back"}=e;const r=p(),{direction:o}=Object(s.b)(),a=Object(l.q)(),c=Object(l.q)(),h="rtl"===o?u.a:d,f=Object(g.b)();return i.a.createElement("slide-view-nav",null,i.a.createElement(m.a,{id:a,onActivate:()=>r(t.key),ariaLabel:n,ariaLabelledBy:`${a} ${c}`,className:v()(f,"slide-view-nav-back-button")},i.a.createElement(h,{className:"collapse-icon",layoutMode:"glyphBox"}),n),i.a.createElement("div",{id:c,className:"title"},t.textValue))}function _(e){const t=Object(r.useRef)();return Object(r.useEffect)(()=>{t.current=e},[e]),t.current}var C=n(1468),I=n(1467),T=n(694);let P=Symbol.iterator;class O{*[P](){yield*[...this.rows]}get size(){return[...this.rows].length}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);return t?t.prevKey:null}getKeyAfter(e){let t=this.keyMap.get(e);return t?t.nextKey:null}getFirstKey(){var e;return null===(e=[...this.rows][0])||void 0===e?void 0:e.key}getLastKey(){var e;let t=[...this.rows];return null===(e=t[t.length-1])||void 0===e?void 0:e.key}getItem(e){return this.keyMap.get(e)}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}getChildren(e){let t=this.keyMap.get(e);return(null===t||void 0===t?void 0:t.childNodes)||[]}constructor(e){(0,T.a)(this,"keyMap",new Map),this.keyMap=new Map,this.columnCount=null===e||void 0===e?void 0:e.columnCount,this.rows=[];let t,n=t=>{let i=this.keyMap.get(t.key);e.visitNode&&(t=e.visitNode(t)),this.keyMap.set(t.key,t);let o,a=new Set;for(let e of t.childNodes)"cell"===e.type&&null==e.parentKey&&(e.parentKey=t.key),a.add(e.key),o?(o.nextKey=e.key,e.prevKey=o.key):e.prevKey=null,n(e),o=e;if(o&&(o.nextKey=null),i)for(let e of i.childNodes)a.has(e.key)||r(e)},r=e=>{this.keyMap.delete(e.key);for(let t of e.childNodes)this.keyMap.get(t.key)===t&&r(t)};e.items.forEach((e,r)=>{let i={level:0,key:"row-"+r,type:"row",value:void 0,hasChildNodes:!0,childNodes:[...e.childNodes],rendered:void 0,textValue:void 0,...e,index:r};t?(t.nextKey=i.key,i.prevKey=t.key):i.prevKey=null,this.rows.push(i),n(i),t=i}),t&&(t.nextKey=null)}}n(477),n(1465);class S{copy(){return new S(this.x,this.y)}equals(e){return this.x===e.x&&this.y===e.y}isOrigin(){return 0===this.x&&0===this.y}constructor(e=0,t=0){this.x=e,this.y=t}}class w{get maxX(){return this.x+this.width}get maxY(){return this.y+this.height}get area(){return this.width*this.height}get topLeft(){return new S(this.x,this.y)}get topRight(){return new S(this.maxX,this.y)}get bottomLeft(){return new S(this.x,this.maxY)}get bottomRight(){return new S(this.maxX,this.maxY)}intersects(e){return this.x<=e.x+e.width&&e.x<=this.x+this.width&&this.y<=e.y+e.height&&e.y<=this.y+this.height}containsRect(e){return this.x<=e.x&&this.y<=e.y&&this.maxX>=e.maxX&&this.maxY>=e.maxY}containsPoint(e){return this.x<=e.x&&this.y<=e.y&&this.maxX>=e.x&&this.maxY>=e.y}getCornerInRect(e){for(let t of["topLeft","topRight","bottomLeft","bottomRight"])if(e.containsPoint(this[t]))return t;return null}equals(e){return e.x===this.x&&e.y===this.y&&e.width===this.width&&e.height===this.height}pointEquals(e){return this.x===e.x&&this.y===e.y}sizeEquals(e){return this.width===e.width&&this.height===e.height}union(e){let t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),r=Math.max(this.maxX,e.maxX)-t,i=Math.max(this.maxY,e.maxY)-n;return new w(t,n,r,i)}intersection(e){if(!this.intersects(e))return new w(0,0,0,0);let t=Math.max(this.x,e.x),n=Math.max(this.y,e.y);return new w(t,n,Math.min(this.maxX,e.maxX)-t,Math.min(this.maxY,e.maxY)-n)}copy(){return new w(this.x,this.y,this.width,this.height)}constructor(e=0,t=0,n=0,r=0){this.x=e,this.y=t,this.width=n,this.height=r}}let x="undefined"!==typeof window?window.performance:null,E=x&&(x.now||x.webkitNow||x.msNow||x.mozNow);E&&E.bind(x);var N=n(693),A=n(1469);let D=null;class R{createLog(e){let t=document.createElement("div");return t.setAttribute("role","log"),t.setAttribute("aria-live",e),t.setAttribute("aria-relevant","additions"),t}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(e,t="assertive",n=7e3){if(!this.node)return;let r=document.createElement("div");r.textContent=e,"assertive"===t?this.assertiveLog.appendChild(r):this.politeLog.appendChild(r),""!==e&&setTimeout(()=>{r.remove()},n)}clear(e){this.node&&(e&&"assertive"!==e||(this.assertiveLog.innerHTML=""),e&&"polite"!==e||(this.politeLog.innerHTML=""))}constructor(){this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node)}}function U(e){return e&&e.__esModule?e.default:e}class k{isCell(e){return"cell"===e.type}isRow(e){return"row"===e.type||"item"===e.type}findPreviousKey(e,t){let n=null!=e?this.collection.getKeyBefore(e):this.collection.getLastKey();for(;null!=n;){let e=this.collection.getItem(n);if(!this.disabledKeys.has(n)&&(!t||t(e)))return n;n=this.collection.getKeyBefore(n)}}findNextKey(e,t){let n=null!=e?this.collection.getKeyAfter(e):this.collection.getFirstKey();for(;null!=n;){let e=this.collection.getItem(n);if(!this.disabledKeys.has(n)&&(!t||t(e)))return n;n=this.collection.getKeyAfter(n)}}getKeyBelow(e){let t=this.collection.getItem(e);if(t&&(this.isCell(t)&&(e=t.parentKey),null!=(e=this.findNextKey(e)))){if(this.isCell(t)){let n=this.collection.getItem(e);return(0,C.h)((0,C.d)(n,this.collection),t.index).key}if("row"===this.focusMode)return e}}getKeyAbove(e){let t=this.collection.getItem(e);if(t&&(this.isCell(t)&&(e=t.parentKey),null!=(e=this.findPreviousKey(e)))){if(this.isCell(t)){let n=this.collection.getItem(e);return(0,C.h)((0,C.d)(n,this.collection),t.index).key}if("row"===this.focusMode)return e}}getKeyRightOf(e){let t=this.collection.getItem(e);if(t){if(this.isRow(t)){let e=(0,C.d)(t,this.collection);return"rtl"===this.direction?(0,C.g)(e).key:(0,C.e)(e).key}if(this.isCell(t)){let n=this.collection.getItem(t.parentKey),r=(0,C.d)(n,this.collection),i="rtl"===this.direction?(0,C.h)(r,t.index-1):(0,C.h)(r,t.index+1);return i?i.key:"row"===this.focusMode?t.parentKey:"rtl"===this.direction?this.getFirstKey(e):this.getLastKey(e)}}}getKeyLeftOf(e){let t=this.collection.getItem(e);if(t){if(this.isRow(t)){let e=(0,C.d)(t,this.collection);return"rtl"===this.direction?(0,C.e)(e).key:(0,C.g)(e).key}if(this.isCell(t)){let n=this.collection.getItem(t.parentKey),r=(0,C.d)(n,this.collection),i="rtl"===this.direction?(0,C.h)(r,t.index+1):(0,C.h)(r,t.index-1);return i?i.key:"row"===this.focusMode?t.parentKey:"rtl"===this.direction?this.getLastKey(e):this.getFirstKey(e)}}}getFirstKey(e,t){let n;if(null!=e){if(n=this.collection.getItem(e),!n)return;if(this.isCell(n)&&!t){let e=this.collection.getItem(n.parentKey);return(0,C.e)((0,C.d)(e,this.collection)).key}}if(null!=(e=this.findNextKey())&&n&&this.isCell(n)&&t||"cell"===this.focusMode){let t=this.collection.getItem(e);e=(0,C.e)((0,C.d)(t,this.collection)).key}return e}getLastKey(e,t){let n;if(null!=e){if(n=this.collection.getItem(e),!n)return;if(this.isCell(n)&&!t){let e=this.collection.getItem(n.parentKey),t=(0,C.d)(e,this.collection);return(0,C.g)(t).key}}if(null!=(e=this.findPreviousKey())&&n&&this.isCell(n)&&t||"cell"===this.focusMode){let t=this.collection.getItem(e),n=(0,C.d)(t,this.collection);e=(0,C.g)(n).key}return e}getItem(e){return this.ref.current.querySelector(`[data-key="${e}"]`)}getItemRect(e){var t;if(this.layout)return null===(t=this.layout.getLayoutInfo(e))||void 0===t?void 0:t.rect;let n=this.getItem(e);return n?new w(n.offsetLeft,n.offsetTop,n.offsetWidth,n.offsetHeight):void 0}getPageHeight(){var e,t,n;return this.layout?null===(e=this.layout.virtualizer)||void 0===e?void 0:e.visibleRect.height:null===(t=this.ref)||void 0===t||null===(n=t.current)||void 0===n?void 0:n.offsetHeight}getContentHeight(){var e,t;return this.layout?this.layout.getContentSize().height:null===(e=this.ref)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.scrollHeight}getKeyPageAbove(e){let t=this.getItemRect(e);if(!t)return null;let n=Math.max(0,t.maxY-this.getPageHeight());for(;t&&t.y>n;)e=this.getKeyAbove(e),t=this.getItemRect(e);return e}getKeyPageBelow(e){let t=this.getItemRect(e);if(!t)return null;let n=this.getPageHeight(),r=Math.min(this.getContentHeight(),t.y+n);for(;t&&t.maxY<r;){let n=this.getKeyBelow(e);t=this.getItemRect(n),null!=n&&(e=n)}return e}getKeyForSearch(e,t){if(!this.collator)return null;let n=this.collection,r=null!==t&&void 0!==t?t:this.getFirstKey(),i=n.getItem(r);"cell"===i.type&&(r=i.parentKey);let o=!1;for(;null!=r;){let t=n.getItem(r);if(t.textValue){let n=t.textValue.slice(0,e.length);if(0===this.collator.compare(n,e))return this.isRow(t)&&"cell"===this.focusMode?(0,C.e)((0,C.d)(t,this.collection)).key:t.key}r=this.findNextKey(r),null!=r||o||(r=this.getFirstKey(),o=!0)}return null}constructor(e){this.collection=e.collection,this.disabledKeys=e.disabledKeys,this.ref=e.ref,this.direction=e.direction,this.collator=e.collator,this.layout=e.layout,this.focusMode=e.focusMode||"row"}}const j=new WeakMap;var M;function L(e,t){var n;let{getRowText:i=(e=>{var r,i,o;return null!==(n=null===(i=(r=t.collection).getTextValue)||void 0===i?void 0:i.call(r,e))&&void 0!==n?n:null===(o=t.collection.getItem(e))||void 0===o?void 0:o.textValue})}=e,o=(0,s.c)(U(M)),a=t.selectionManager.rawSelection,u=(0,r.useRef)(a);(0,l.w)(()=>{var e;if(!t.selectionManager.isFocused)return void(u.current=a);let n=B(a,u.current),r=B(u.current,a),s="replace"===t.selectionManager.selectionBehavior,l=[];if(1===t.selectionManager.selectedKeys.size&&s){if(t.collection.getItem(t.selectionManager.selectedKeys.keys().next().value)){let e=i(t.selectionManager.selectedKeys.keys().next().value);e&&l.push(o.format("selectedItem",{item:e}))}}else if(1===n.size&&0===r.size){let e=i(n.keys().next().value);e&&l.push(o.format("selectedItem",{item:e}))}else if(1===r.size&&0===n.size&&t.collection.getItem(r.keys().next().value)){let e=i(r.keys().next().value);e&&l.push(o.format("deselectedItem",{item:e}))}"multiple"===t.selectionManager.selectionMode&&(0===l.length||"all"===a||a.size>1||"all"===u.current||(null===(e=u.current)||void 0===e?void 0:e.size)>1)&&l.push("all"===a?o.format("selectedAll"):o.format("selectedCount",{count:a.size})),l.length>0&&function(e,t="assertive",n=7e3){D||(D=new R),D.announce(e,t,n)}(l.join(" ")),u.current=a},[a])}function B(e,t){let n=new Set;if("all"===e||"all"===t)return n;for(let r of e.keys())t.has(r)||n.add(r);return n}function F(e,t,n){let{isVirtualized:i,keyboardDelegate:o,focusMode:u,scrollRef:c,getRowText:d,onRowAction:h,onCellAction:f}=e,{selectionManager:p}=t;e["aria-label"]||e["aria-labelledby"]||console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let g=(0,s.a)({usage:"search",sensitivity:"base"}),{direction:y}=(0,s.b)(),v=t.selectionManager.disabledBehavior,m=(0,r.useMemo)(()=>o||new k({collection:t.collection,disabledKeys:"selection"===v?new Set:t.disabledKeys,ref:n,direction:y,collator:g,focusMode:u}),[o,t.collection,t.disabledKeys,v,n,y,g,u]),{collectionProps:b}=(0,A.a)({ref:n,selectionManager:p,keyboardDelegate:m,isVirtualized:i,scrollRef:c}),_=(0,l.q)(e.id);j.set(t,{keyboardDelegate:m,actions:{onRowAction:h,onCellAction:f}});let C=function(e){let t=(0,s.c)(U(M)),n=(0,a.i)(),i=("pointer"===n||"virtual"===n||null==n)&&"undefined"!==typeof window&&"ontouchstart"in window,o=(0,r.useMemo)(()=>{let n=e.selectionManager.selectionMode,r=e.selectionManager.selectionBehavior,o=void 0;return i&&(o=t.format("longPressToSelect")),"replace"===r&&"none"!==n&&e.hasItemActions?o:void 0},[e.selectionManager.selectionMode,e.selectionManager.selectionBehavior,e.hasItemActions,t,i]);return(0,l.n)(o)}({selectionManager:p,hasItemActions:!(!h&&!f)}),I=(0,l.b)(e,{labelable:!0}),T=(0,r.useCallback)(e=>{p.isFocused?e.currentTarget.contains(e.target)||p.setFocused(!1):e.currentTarget.contains(e.target)&&p.setFocused(!0)},[p]),P=(0,r.useMemo)(()=>({onBlur:b.onBlur,onFocus:T}),[T,b.onBlur]),O=(0,N.g)(n,{isDisabled:0!==t.collection.size}),S=(0,l.j)(I,{role:"grid",id:_,"aria-multiselectable":"multiple"===p.selectionMode?"true":void 0},t.isKeyboardNavigationDisabled?P:b,0===t.collection.size&&{tabIndex:O?-1:0},C);return i&&(S["aria-rowcount"]=t.collection.size,S["aria-colcount"]=t.collection.columnCount),L({getRowText:d},t),{gridProps:S}}function K(e){let t,n;do{n=e.lastChild(),n&&(t=n)}while(n);return t}M={"ar-AE":{deselectedItem:e=>e.item+" \u063a\u064a\u0631 \u0627\u0644\u0645\u062d\u062f\u062f",longPressToSelect:"\u0627\u0636\u063a\u0637 \u0645\u0637\u0648\u0644\u064b\u0627 \u0644\u0644\u062f\u062e\u0648\u0644 \u0625\u0644\u0649 \u0648\u0636\u0639 \u0627\u0644\u062a\u062d\u062f\u064a\u062f.",select:"\u062a\u062d\u062f\u064a\u062f",selectedAll:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0639\u0646\u0627\u0635\u0631 \u0627\u0644\u0645\u062d\u062f\u062f\u0629.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"\u0644\u0645 \u064a\u062a\u0645 \u062a\u062d\u062f\u064a\u062f \u0639\u0646\u0627\u0635\u0631",one:()=>t.number(e.count)+" \u0639\u0646\u0635\u0631 \u0645\u062d\u062f\u062f",other:()=>t.number(e.count)+" \u0639\u0646\u0635\u0631 \u0645\u062d\u062f\u062f"})+".",selectedItem:e=>e.item+" \u0627\u0644\u0645\u062d\u062f\u062f"},"bg-BG":{deselectedItem:e=>e.item+" \u043d\u0435 \u0435 \u0438\u0437\u0431\u0440\u0430\u043d.",longPressToSelect:"\u041d\u0430\u0442\u0438\u0441\u043d\u0435\u0442\u0435 \u0438 \u0437\u0430\u0434\u0440\u044a\u0436\u0442\u0435 \u0437\u0430 \u0434\u0430 \u0432\u043b\u0435\u0437\u0435\u0442\u0435 \u0432 \u0438\u0437\u0431\u0438\u0440\u0430\u0442\u0435\u043b\u0435\u043d \u0440\u0435\u0436\u0438\u043c.",select:"\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435",selectedAll:"\u0412\u0441\u0438\u0447\u043a\u0438 \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0438 \u0441\u0430 \u0438\u0437\u0431\u0440\u0430\u043d\u0438.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"\u041d\u044f\u043c\u0430 \u0438\u0437\u0431\u0440\u0430\u043d\u0438 \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0438",one:()=>t.number(e.count)+" \u0438\u0437\u0431\u0440\u0430\u043d \u0435\u043b\u0435\u043c\u0435\u043d\u0442",other:()=>t.number(e.count)+" \u0438\u0437\u0431\u0440\u0430\u043d\u0438 \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0438"})+".",selectedItem:e=>e.item+" \u0438\u0437\u0431\u0440\u0430\u043d."},"cs-CZ":{deselectedItem:e=>`Polo\u017eka ${e.item} nen\xed vybr\xe1na.`,longPressToSelect:"Dlouh\xfdm stisknut\xedm p\u0159ejdete do re\u017eimu v\xfdb\u011bru.",select:"Vybrat",selectedAll:"Vybr\xe1ny v\u0161echny polo\u017eky.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nevybr\xe1ny \u017e\xe1dn\xe9 polo\u017eky",one:()=>`Vybr\xe1na ${t.number(e.count)} polo\u017eka`,other:()=>`Vybr\xe1no ${t.number(e.count)} polo\u017eek`})+".",selectedItem:e=>`Vybr\xe1na polo\u017eka ${e.item}.`},"da-DK":{deselectedItem:e=>e.item+" ikke valgt.",longPressToSelect:"Lav et langt tryk for at aktivere valgtilstand.",select:"V\xe6lg",selectedAll:"Alle elementer valgt.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Ingen elementer valgt",one:()=>t.number(e.count)+" element valgt",other:()=>t.number(e.count)+" elementer valgt"})+".",selectedItem:e=>e.item+" valgt."},"de-DE":{deselectedItem:e=>e.item+" nicht ausgew\xe4hlt.",longPressToSelect:"Gedr\xfcckt halten, um Auswahlmodus zu \xf6ffnen.",select:"Ausw\xe4hlen",selectedAll:"Alle Elemente ausgew\xe4hlt.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Keine Elemente ausgew\xe4hlt",one:()=>t.number(e.count)+" Element ausgew\xe4hlt",other:()=>t.number(e.count)+" Elemente ausgew\xe4hlt"})+".",selectedItem:e=>e.item+" ausgew\xe4hlt."},"el-GR":{deselectedItem:e=>`\u0394\u03b5\u03bd \u03b5\u03c0\u03b9\u03bb\u03ad\u03c7\u03b8\u03b7\u03ba\u03b5 \u03c4\u03bf \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03bf ${e.item}.`,longPressToSelect:"\u03a0\u03b1\u03c4\u03ae\u03c3\u03c4\u03b5 \u03c0\u03b1\u03c1\u03b1\u03c4\u03b5\u03c4\u03b1\u03bc\u03ad\u03bd\u03b1 \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03bc\u03c0\u03b5\u03af\u03c4\u03b5 \u03c3\u03b5 \u03bb\u03b5\u03b9\u03c4\u03bf\u03c5\u03c1\u03b3\u03af\u03b1 \u03b5\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae\u03c2.",select:"\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae",selectedAll:"\u0395\u03c0\u03b9\u03bb\u03ad\u03c7\u03b8\u03b7\u03ba\u03b1\u03bd \u03cc\u03bb\u03b1 \u03c4\u03b1 \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"\u0394\u03b5\u03bd \u03b5\u03c0\u03b9\u03bb\u03ad\u03c7\u03b8\u03b7\u03ba\u03b1\u03bd \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1",one:()=>`\u0395\u03c0\u03b9\u03bb\u03ad\u03c7\u03b8\u03b7\u03ba\u03b5 ${t.number(e.count)} \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03bf`,other:()=>`\u0395\u03c0\u03b9\u03bb\u03ad\u03c7\u03b8\u03b7\u03ba\u03b1\u03bd ${t.number(e.count)} \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1`})+".",selectedItem:e=>`\u0395\u03c0\u03b9\u03bb\u03ad\u03c7\u03b8\u03b7\u03ba\u03b5 \u03c4\u03bf \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03bf ${e.item}.`},"en-US":{deselectedItem:e=>e.item+" not selected.",select:"Select",selectedCount:(e,t)=>t.plural(e.count,{"=0":"No items selected",one:()=>t.number(e.count)+" item selected",other:()=>t.number(e.count)+" items selected"})+".",selectedAll:"All items selected.",selectedItem:e=>e.item+" selected.",longPressToSelect:"Long press to enter selection mode."},"es-ES":{deselectedItem:e=>e.item+" no seleccionado.",longPressToSelect:"Mantenga pulsado para abrir el modo de selecci\xf3n.",select:"Seleccionar",selectedAll:"Todos los elementos seleccionados.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Ning\xfan elemento seleccionado",one:()=>t.number(e.count)+" elemento seleccionado",other:()=>t.number(e.count)+" elementos seleccionados"})+".",selectedItem:e=>e.item+" seleccionado."},"et-EE":{deselectedItem:e=>e.item+" pole valitud.",longPressToSelect:"Valikure\u017eiimi sisenemiseks vajutage pikalt.",select:"Vali",selectedAll:"K\xf5ik \xfcksused valitud.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"\xdcksusi pole valitud",one:()=>t.number(e.count)+" \xfcksus valitud",other:()=>t.number(e.count)+" \xfcksust valitud"})+".",selectedItem:e=>e.item+" valitud."},"fi-FI":{deselectedItem:e=>`Kohdetta ${e.item} ei valittu.`,longPressToSelect:"Siirry valintatilaan painamalla pitk\xe4\xe4n.",select:"Valitse",selectedAll:"Kaikki kohteet valittu.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Ei yht\xe4\xe4n kohdetta valittu",one:()=>t.number(e.count)+" kohde valittu",other:()=>t.number(e.count)+" kohdetta valittu"})+".",selectedItem:e=>e.item+" valittu."},"fr-FR":{deselectedItem:e=>e.item+" non s\xe9lectionn\xe9.",longPressToSelect:"Appuyez de mani\xe8re prolong\xe9e pour passer en mode de s\xe9lection.",select:"S\xe9lectionner",selectedAll:"Tous les \xe9l\xe9ments s\xe9lectionn\xe9s.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Aucun \xe9l\xe9ment s\xe9lectionn\xe9",one:()=>t.number(e.count)+" \xe9l\xe9ment s\xe9lectionn\xe9",other:()=>t.number(e.count)+" \xe9l\xe9ments s\xe9lectionn\xe9s"})+".",selectedItem:e=>e.item+" s\xe9lectionn\xe9."},"he-IL":{deselectedItem:e=>e.item+" \u05dc\u05d0 \u05e0\u05d1\u05d7\u05e8.",longPressToSelect:"\u05d4\u05e7\u05e9\u05d4 \u05d0\u05e8\u05d5\u05db\u05d4 \u05dc\u05db\u05e0\u05d9\u05e1\u05d4 \u05dc\u05de\u05e6\u05d1 \u05d1\u05d7\u05d9\u05e8\u05d4.",select:"\u05d1\u05d7\u05e8",selectedAll:"\u05db\u05dc \u05d4\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05e0\u05d1\u05d7\u05e8\u05d5.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"\u05dc\u05d0 \u05e0\u05d1\u05d7\u05e8\u05d5 \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd",one:()=>`\u05e4\u05e8\u05d9\u05d8 ${t.number(e.count)} \u05e0\u05d1\u05d7\u05e8`,other:()=>t.number(e.count)+" \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05e0\u05d1\u05d7\u05e8\u05d5"})+".",selectedItem:e=>e.item+" \u05e0\u05d1\u05d7\u05e8."},"hr-HR":{deselectedItem:e=>`Stavka ${e.item} nije odabrana.`,longPressToSelect:"Dugo pritisnite za ulazak u na\u010din odabira.",select:"Odaberite",selectedAll:"Odabrane su sve stavke.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nije odabrana nijedna stavka",one:()=>`Odabrana je ${t.number(e.count)} stavka`,other:()=>`Odabrano je ${t.number(e.count)} stavki`})+".",selectedItem:e=>`Stavka ${e.item} je odabrana.`},"hu-HU":{deselectedItem:e=>e.item+" nincs kijel\xf6lve.",longPressToSelect:"Nyomja hosszan a kijel\xf6l\xe9shez.",select:"Kijel\xf6l\xe9s",selectedAll:"Az \xf6sszes elem kijel\xf6lve.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Egy elem sincs kijel\xf6lve",one:()=>t.number(e.count)+" elem kijel\xf6lve",other:()=>t.number(e.count)+" elem kijel\xf6lve"})+".",selectedItem:e=>e.item+" kijel\xf6lve."},"it-IT":{deselectedItem:e=>e.item+" non selezionato.",longPressToSelect:"Premi a lungo per passare alla modalit\xe0 di selezione.",select:"Seleziona",selectedAll:"Tutti gli elementi selezionati.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nessun elemento selezionato",one:()=>t.number(e.count)+" elemento selezionato",other:()=>t.number(e.count)+" elementi selezionati"})+".",selectedItem:e=>e.item+" selezionato."},"ja-JP":{deselectedItem:e=>e.item+" \u304c\u9078\u629e\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002",longPressToSelect:"\u9577\u62bc\u3057\u3057\u3066\u9078\u629e\u30e2\u30fc\u30c9\u3092\u958b\u304d\u307e\u3059\u3002",select:"\u9078\u629e",selectedAll:"\u3059\u3079\u3066\u306e\u9805\u76ee\u3092\u9078\u629e\u3057\u307e\u3057\u305f\u3002",selectedCount:(e,t)=>t.plural(e.count,{"=0":"\u9805\u76ee\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u307e\u305b\u3093",one:()=>t.number(e.count)+" \u9805\u76ee\u3092\u9078\u629e\u3057\u307e\u3057\u305f",other:()=>t.number(e.count)+" \u9805\u76ee\u3092\u9078\u629e\u3057\u307e\u3057\u305f"})+"\u3002",selectedItem:e=>e.item+" \u3092\u9078\u629e\u3057\u307e\u3057\u305f\u3002"},"ko-KR":{deselectedItem:e=>e.item+"\uc774(\uac00) \uc120\ud0dd\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",longPressToSelect:"\uc120\ud0dd \ubaa8\ub4dc\ub85c \ub4e4\uc5b4\uac00\ub824\uba74 \uae38\uac8c \ub204\ub974\uc2ed\uc2dc\uc624.",select:"\uc120\ud0dd",selectedAll:"\ubaa8\ub4e0 \ud56d\ubaa9\uc774 \uc120\ud0dd\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"\uc120\ud0dd\ub41c \ud56d\ubaa9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4",one:()=>t.number(e.count)+"\uac1c \ud56d\ubaa9\uc774 \uc120\ud0dd\ub418\uc5c8\uc2b5\ub2c8\ub2e4",other:()=>t.number(e.count)+"\uac1c \ud56d\ubaa9\uc774 \uc120\ud0dd\ub418\uc5c8\uc2b5\ub2c8\ub2e4"})+".",selectedItem:e=>e.item+"\uc774(\uac00) \uc120\ud0dd\ub418\uc5c8\uc2b5\ub2c8\ub2e4."},"lt-LT":{deselectedItem:e=>e.item+" nepasirinkta.",longPressToSelect:"Nor\u0117dami \u012fjungti pasirinkimo re\u017eim\u0105, paspauskite ir palaikykite.",select:"Pasirinkti",selectedAll:"Pasirinkti visi elementai.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nepasirinktas n\u0117 vienas elementas",one:()=>`Pasirinktas ${t.number(e.count)} elementas`,other:()=>"Pasirinkta element\u0173: "+t.number(e.count)})+".",selectedItem:e=>`Pasirinkta: ${e.item}.`},"lv-LV":{deselectedItem:e=>`Vienums ${e.item} nav atlas\u012bts.`,longPressToSelect:"Ilgi turiet nospiestu. lai iesl\u0113gtu atlases re\u017e\u012bmu.",select:"Atlas\u012bt",selectedAll:"Atlas\u012bti visi vienumi.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nav atlas\u012bts neviens vienums",one:()=>"Atlas\u012bto vienumu skaits: "+t.number(e.count),other:()=>"Atlas\u012bto vienumu skaits: "+t.number(e.count)})+".",selectedItem:e=>`Atlas\u012bts vienums ${e.item}.`},"nb-NO":{deselectedItem:e=>e.item+" er ikke valgt.",longPressToSelect:"Bruk et langt trykk for \xe5 g\xe5 inn i valgmodus.",select:"Velg",selectedAll:"Alle elementer er valgt.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Ingen elementer er valgt",one:()=>t.number(e.count)+" element er valgt",other:()=>t.number(e.count)+" elementer er valgt"})+".",selectedItem:e=>e.item+" er valgt."},"nl-NL":{deselectedItem:e=>e.item+" niet geselecteerd.",longPressToSelect:"Druk lang om de selectiemodus te openen.",select:"Selecteren",selectedAll:"Alle items geselecteerd.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Geen items geselecteerd",one:()=>t.number(e.count)+" item geselecteerd",other:()=>t.number(e.count)+" items geselecteerd"})+".",selectedItem:e=>e.item+" geselecteerd."},"pl-PL":{deselectedItem:e=>`Nie zaznaczono ${e.item}.`,longPressToSelect:"Naci\u015bnij i przytrzymaj, aby wej\u015b\u0107 do trybu wyboru.",select:"Zaznacz",selectedAll:"Wszystkie zaznaczone elementy.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nie zaznaczono \u017cadnych element\xf3w",one:()=>t.number(e.count)+" zaznaczony element",other:()=>t.number(e.count)+" zaznaczonych element\xf3w"})+".",selectedItem:e=>`Zaznaczono ${e.item}.`},"pt-BR":{deselectedItem:e=>e.item+" n\xe3o selecionado.",longPressToSelect:"Mantenha pressionado para entrar no modo de sele\xe7\xe3o.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nenhum item selecionado",one:()=>t.number(e.count)+" item selecionado",other:()=>t.number(e.count)+" itens selecionados"})+".",selectedItem:e=>e.item+" selecionado."},"pt-PT":{deselectedItem:e=>e.item+" n\xe3o selecionado.",longPressToSelect:"Prima continuamente para entrar no modo de sele\xe7\xe3o.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nenhum item selecionado",one:()=>t.number(e.count)+" item selecionado",other:()=>t.number(e.count)+" itens selecionados"})+".",selectedItem:e=>e.item+" selecionado."},"ro-RO":{deselectedItem:e=>e.item+" neselectat.",longPressToSelect:"Ap\u0103sa\u021bi lung pentru a intra \xeen modul de selectare.",select:"Selectare",selectedAll:"Toate elementele selectate.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Niciun element selectat",one:()=>t.number(e.count)+" element selectat",other:()=>t.number(e.count)+" elemente selectate"})+".",selectedItem:e=>e.item+" selectat."},"ru-RU":{deselectedItem:e=>e.item+" \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e.",longPressToSelect:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0438 \u0443\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0439\u0442\u0435 \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0430 \u0432 \u0440\u0435\u0436\u0438\u043c \u0432\u044b\u0431\u043e\u0440\u0430.",select:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",selectedAll:"\u0412\u044b\u0431\u0440\u0430\u043d\u044b \u0432\u0441\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"\u041d\u0435\u0442 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432",one:()=>t.number(e.count)+" \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u0432\u044b\u0431\u0440\u0430\u043d",other:()=>t.number(e.count)+" \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"})+".",selectedItem:e=>e.item+" \u0432\u044b\u0431\u0440\u0430\u043d\u043e."},"sk-SK":{deselectedItem:e=>`Nevybrat\xe9 polo\u017eky: ${e.item}.`,longPressToSelect:"Dlh\u0161\xedm stla\u010den\xedm prejdite do re\u017eimu v\xfdberu.",select:"Vybra\u0165",selectedAll:"V\u0161etky vybrat\xe9 polo\u017eky.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"\u017diadne vybrat\xe9 polo\u017eky",one:()=>t.number(e.count)+" vybrat\xe1 polo\u017eka",other:()=>"Po\u010det vybrat\xfdch polo\u017eiek:"+t.number(e.count)})+".",selectedItem:e=>`Vybrat\xe9 polo\u017eky: ${e.item}.`},"sl-SI":{deselectedItem:e=>`Element ${e.item} ni izbran.`,longPressToSelect:"Za izbirni na\u010din pritisnite in dlje \u010dasa dr\u017eite.",select:"Izberite",selectedAll:"Vsi elementi so izbrani.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Noben element ni izbran",one:()=>t.number(e.count)+" element je izbran",other:()=>t.number(e.count)+" elementov je izbranih"})+".",selectedItem:e=>`Element ${e.item} je izbran.`},"sr-SP":{deselectedItem:e=>e.item+" nije izabrano.",longPressToSelect:"Dugo pritisnite za ulazak u re\u017eim biranja.",select:"Izaberite",selectedAll:"Izabrane su sve stavke.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nije izabrana nijedna stavka",one:()=>`Izabrana je ${t.number(e.count)} stavka`,other:()=>`Izabrano je ${t.number(e.count)} stavki`})+".",selectedItem:e=>e.item+" je izabrano."},"sv-SE":{deselectedItem:e=>e.item+" ej markerat.",longPressToSelect:"Tryck l\xe4nge n\xe4r du vill \xf6ppna v\xe4ljarl\xe4ge.",select:"Markera",selectedAll:"Alla markerade objekt.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Inga markerade objekt",one:()=>t.number(e.count)+" markerat objekt",other:()=>t.number(e.count)+" markerade objekt"})+".",selectedItem:e=>e.item+" markerat."},"tr-TR":{deselectedItem:e=>e.item+" se\xe7ilmedi.",longPressToSelect:"Se\xe7im moduna girmek i\xe7in uzun bas\u0131n.",select:"Se\xe7",selectedAll:"T\xfcm \xf6geler se\xe7ildi.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Hi\xe7bir \xf6ge se\xe7ilmedi",one:()=>t.number(e.count)+" \xf6ge se\xe7ildi",other:()=>t.number(e.count)+" \xf6ge se\xe7ildi"})+".",selectedItem:e=>e.item+" se\xe7ildi."},"uk-UA":{deselectedItem:e=>e.item+" \u043d\u0435 \u0432\u0438\u0431\u0440\u0430\u043d\u043e.",longPressToSelect:"\u0412\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u0434\u043e\u0432\u0433\u0435 \u043d\u0430\u0442\u0438\u0441\u043d\u0435\u043d\u043d\u044f, \u0449\u043e\u0431 \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0440\u0435\u0436\u0438\u043c \u0432\u0438\u0431\u043e\u0440\u0443.",select:"\u0412\u0438\u0431\u0440\u0430\u0442\u0438",selectedAll:"\u0423\u0441\u0456 \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0438 \u0432\u0438\u0431\u0440\u0430\u043d\u043e.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"\u0416\u043e\u0434\u043d\u0438\u0445 \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0456\u0432 \u043d\u0435 \u0432\u0438\u0431\u0440\u0430\u043d\u043e",one:()=>t.number(e.count)+" \u0435\u043b\u0435\u043c\u0435\u043d\u0442 \u0432\u0438\u0431\u0440\u0430\u043d\u043e",other:()=>"\u0412\u0438\u0431\u0440\u0430\u043d\u043e \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0456\u0432: "+t.number(e.count)})+".",selectedItem:e=>e.item+" \u0432\u0438\u0431\u0440\u0430\u043d\u043e."},"zh-CN":{deselectedItem:e=>`\u672a\u9009\u62e9 ${e.item}\u3002`,longPressToSelect:"\u957f\u6309\u4ee5\u8fdb\u5165\u9009\u62e9\u6a21\u5f0f\u3002",select:"\u9009\u62e9",selectedAll:"\u5df2\u9009\u62e9\u6240\u6709\u9879\u76ee\u3002",selectedCount:(e,t)=>t.plural(e.count,{"=0":"\u672a\u9009\u62e9\u9879\u76ee",one:()=>`\u5df2\u9009\u62e9 ${t.number(e.count)} \u4e2a\u9879\u76ee`,other:()=>`\u5df2\u9009\u62e9 ${t.number(e.count)} \u4e2a\u9879\u76ee`})+"\u3002",selectedItem:e=>`\u5df2\u9009\u62e9 ${e.item}\u3002`},"zh-TW":{deselectedItem:e=>`\u672a\u9078\u53d6\u300c${e.item}\u300d\u3002`,longPressToSelect:"\u9577\u6309\u4ee5\u9032\u5165\u9078\u64c7\u6a21\u5f0f\u3002",select:"\u9078\u53d6",selectedAll:"\u5df2\u9078\u53d6\u6240\u6709\u9805\u76ee\u3002",selectedCount:(e,t)=>t.plural(e.count,{"=0":"\u672a\u9078\u53d6\u4efb\u4f55\u9805\u76ee",one:()=>`\u5df2\u9078\u53d6 ${t.number(e.count)} \u500b\u9805\u76ee`,other:()=>`\u5df2\u9078\u53d6 ${t.number(e.count)} \u500b\u9805\u76ee`})+"\u3002",selectedItem:e=>`\u5df2\u9078\u53d6\u300c${e.item}\u300d\u3002`}};var W=n(695);const V=(e,t)=>r.useMemo(()=>{var n;const r=e.collection.getItem(t),i=e.collection.getKeyAfter(t),o=i?e.collection.getItem(i):void 0;if(!e.collection.getKeyAfter(t))return!0;if((null==o?void 0:o.level)!==(null==r?void 0:r.level))return!0;if(null!=o&&null!=(n=o.value)&&n.onAction)return!0;if("section"===(null==o?void 0:o.type)&&i){var a;const t=e.collection.getKeyAfter(i),n=t?e.collection.getItem(t):void 0;if(null!=n&&null!=(a=n.value)&&a.onAction)return!0}return!1},[e.collection,t]);var z=n(744);const q=r.createContext(void 0);function Y(e){return r.createElement(q.Provider,{value:e.value},e.children)}function Z(){const e=r.useContext(q);if(!e)throw new Error("useSlideVieProps must be used inside SlideViewPropsProvider");return e}var H=n(1472);function X(e){var t,n;let{node:i,state:o,expandLabel:a="Open"}=e;const c=p(),{direction:h}=Object(s.b)(),f="ltr"===h?u.a:d,y=(null==(t=i.props)?void 0:t.ariaLabel)||i.textValue,b=Object(g.b)(),{visuallyHiddenProps:_}=Object(W.b)(),C=Object(l.q)(),I=Object(l.q)(),{loadingNodeKeys:T}=Z(),P=V(o,i.key),O=Object(H.a)(i,T);return r.createElement("slidable-item",{class:P?"hide-border":""},r.createElement("span",{id:C,..._,"aria-label":y}),r.createElement(m.a,{id:I,className:v()(b,"slidable-item-expand-button",null==(n=i.value)?void 0:n.className),disabled:O,onActivate:()=>c(i.key),ariaLabel:a,ariaLabelledBy:`${I} ${C}`},r.createElement("slidable-item-content",{"aria-hidden":"true"},i.rendered),O?r.createElement(z.a,{description:"loading children items from "+i.textValue,size:14}):r.createElement(f,{className:"expand-icon",layoutMode:"glyphBox",desiredFontSize:8,"aria-hidden":"true"})))}var G=n(1921);function $(e){var t,n,i;let{node:o,state:a,expandLabel:c="Open"}=e;const h=Object(g.b)(),f=Object(l.q)(),y=Object(l.q)(),b=p(),{loadingNodeKeys:_}=Z(),C=a.selectionManager.isDisabled(o.key),I=()=>{var e;null!=(e=o.value)&&e.onAction?C||o.value.onAction():b(o.key)},T=V(a,o.key),{direction:P}=Object(s.b)(),O="ltr"===P?u.a:d,S=(null==(t=o.props)?void 0:t.ariaLabel)||o.textValue;return null!=(n=o.value)&&n.onAction?r.createElement("slide-view-item",null,r.createElement(m.a,{ariaLabel:S,className:v()(h,"action"),onActivate:I},o.rendered)):r.createElement("slide-view-item",null,r.createElement(G.a,{ariaLabel:S,checked:a.selectionManager.isSelected(o.key),id:f,value:o.key,className:v()(h,{"hide-border":T},null==(i=o.value)?void 0:i.className),onChange:()=>a.selectionManager.select(o.key)},o.rendered),o.hasChildNodes&&!Object(H.a)(o,_)?r.createElement(m.a,{id:y,onActivate:I,className:v()(h,"expand"),ariaLabel:c,ariaLabelledBy:`${y} ${f}`},r.createElement(O,{layoutMode:"glyphBox","aria-hidden":"true",desiredFontSize:8})):o.hasChildNodes&&Object(H.a)(o,_)?r.createElement(z.a,{description:"loading children items from "+o.textValue,size:14}):null)}function J(e){var t,n;let{node:i,gridState:o,focusMode:u="child",state:c,expandLabel:d,allowExpandableItemSelection:h}=e,f=r.useRef(null),p=r.useRef(null),g=Array.from(i.childNodes)[0],{rowProps:y}=function(e,t,n){let{node:r,isVirtualized:i,shouldSelectOnPressUp:o,onAction:a}=e,{actions:{onRowAction:s}}=j.get(t),{itemProps:l,...u}=(0,A.b)({selectionManager:t.selectionManager,key:r.key,ref:n,isVirtualized:i,shouldSelectOnPressUp:o,onAction:s?()=>s(r.key):a,isDisabled:0===t.collection.size}),c=t.selectionManager.isSelected(r.key),d={role:"row","aria-selected":"none"!==t.selectionManager.selectionMode?c:void 0,"aria-disabled":u.isDisabled||void 0,...l};return i&&(d["aria-rowindex"]=r.index+1),{rowProps:d,...u}}({node:i},o,f),{gridCellProps:v}=function(e,t,n){let{node:r,isVirtualized:i,focusMode:o="child",shouldSelectOnPressUp:u,onAction:c}=e,{direction:d}=(0,s.b)(),{keyboardDelegate:h,actions:{onCellAction:f}}=j.get(t),p=()=>{let e=(0,N.c)(n.current);if("child"===o){if(n.current.contains(document.activeElement)&&n.current!==document.activeElement)return;let r="last"===t.selectionManager.childFocusStrategy?K(e):e.firstChild();if(r)return void(0,N.b)(r)}n.current.contains(document.activeElement)||(0,N.b)(n.current)},{itemProps:g,isPressed:y}=(0,A.b)({selectionManager:t.selectionManager,key:r.key,ref:n,isVirtualized:i,focus:p,shouldSelectOnPressUp:u,onAction:f?()=>f(r.key):c,isDisabled:0===t.collection.size}),v=(0,l.j)(g,{role:"gridcell",onKeyDownCapture:e=>{if(!e.currentTarget.contains(e.target)||t.isKeyboardNavigationDisabled)return;let i=(0,N.c)(n.current);switch(i.currentNode=document.activeElement,e.key){case"ArrowLeft":{let t="rtl"===d?i.nextNode():i.previousNode();if("child"===o&&t===n.current&&(t=null),t)e.preventDefault(),e.stopPropagation(),(0,N.b)(t),(0,l.m)(t,{containingElement:(0,l.d)(n.current)});else{if(h.getKeyLeftOf(r.key)!==r.key)break;e.preventDefault(),e.stopPropagation(),"cell"===o&&"rtl"===d?((0,N.b)(n.current),(0,l.m)(n.current,{containingElement:(0,l.d)(n.current)})):(i.currentNode=n.current,t="rtl"===d?i.firstChild():K(i),t&&((0,N.b)(t),(0,l.m)(t,{containingElement:(0,l.d)(n.current)})))}break}case"ArrowRight":{let t="rtl"===d?i.previousNode():i.nextNode();if("child"===o&&t===n.current&&(t=null),t)e.preventDefault(),e.stopPropagation(),(0,N.b)(t),(0,l.m)(t,{containingElement:(0,l.d)(n.current)});else{if(h.getKeyRightOf(r.key)!==r.key)break;e.preventDefault(),e.stopPropagation(),"cell"===o&&"ltr"===d?((0,N.b)(n.current),(0,l.m)(n.current,{containingElement:(0,l.d)(n.current)})):(i.currentNode=n.current,t="rtl"===d?K(i):i.firstChild(),t&&((0,N.b)(t),(0,l.m)(t,{containingElement:(0,l.d)(n.current)})))}break}case"ArrowUp":case"ArrowDown":!e.altKey&&n.current.contains(e.target)&&(e.stopPropagation(),e.preventDefault(),n.current.parentElement.dispatchEvent(new KeyboardEvent(e.nativeEvent.type,e.nativeEvent)))}},onFocus:e=>{e.target===n.current?requestAnimationFrame(()=>{"child"===o&&document.activeElement===n.current&&p()}):(0,a.b)()||t.selectionManager.setFocusedKey(r.key)}});var m;return i&&(v["aria-colindex"]=(null!==(m=r.colIndex)&&void 0!==m?m:r.index)+1),u&&null!=v.tabIndex&&null==v.onPointerDown&&(v.onPointerDown=e=>{let t=e.currentTarget,n=t.getAttribute("tabindex");t.removeAttribute("tabindex"),requestAnimationFrame(()=>{t.setAttribute("tabindex",n)})}),{gridCellProps:v,isPressed:y}}({node:g,focusMode:u},o,p);return null!=(t=g.value)&&t.value&&(g.value={...i.value,...g.value.value}),r.createElement(r.Fragment,null,"section"===i.type?r.createElement("slide-view-section",{"aria-hidden":"true"},g.props._renderedTitle?r.createElement("span",{className:"section-title"},g.props._renderedTitle):null):null,r.createElement("div",{role:"row",tabIndex:y.tabIndex,ref:f},r.createElement("div",{...v,ref:p},g.hasChildNodes&&(!h||null!=(n=g.value)&&n.disallowSelection)?r.createElement(X,{node:g,key:g.key,state:c,expandLabel:d}):r.createElement($,{node:g,key:g.key,state:c}))))}var Q=n(696),ee=n(1031),te=n(824),ne=n(1032),re=n(1914),ie=i.a.createContext(null);function oe(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(r.isValidElement)(e)?t(e):e}(e)})),n}function ae(e,t,n){return null!=n[t]?n[t]:e.props[t]}function se(e,t,n){var i=oe(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var u=i[l][r];s[i[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,i);return Object.keys(o).forEach((function(a){var s=o[a];if(Object(r.isValidElement)(s)){var l=a in t,u=a in i,c=t[a],d=Object(r.isValidElement)(c)&&!c.props.in;!u||l&&!d?u||!l||d?u&&l&&Object(r.isValidElement)(c)&&(o[a]=Object(r.cloneElement)(s,{onExited:n.bind(null,s),in:c.props.in,exit:ae(s,"exit",e),enter:ae(s,"enter",e)})):o[a]=Object(r.cloneElement)(s,{in:!1}):o[a]=Object(r.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:ae(s,"exit",e),enter:ae(s,"enter",e)})}})),o}var le=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},ue=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Object(ne.a)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Object(re.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,i,o=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,i=a,oe(n.children,(function(e){return Object(r.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:ae(e,"appear",n),enter:ae(e,"enter",n),exit:ae(e,"exit",n)})}))):se(e,o,a),firstRender:!1}},n.handleExited=function(e,t){var n=oe(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(te.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(ee.a)(e,["component","childFactory"]),o=this.state.contextValue,a=le(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i.a.createElement(ie.Provider,{value:o},a):i.a.createElement(ie.Provider,{value:o},i.a.createElement(t,r,a))},t}(i.a.Component);ue.propTypes={},ue.defaultProps={component:"div",childFactory:function(e){return e}};var ce=ue;function de(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var he=n(481),fe=n.n(he),pe=function(e){return e.scrollTop},ge=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i="exited",r.appearStatus="entering"):i="entered":i=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",r.state={status:i},r.nextCallback=null,r}Object(re.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(t="entering"):"entering"!==n&&"entered"!==n||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),"entering"===t){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:fe.a.findDOMNode(this);n&&pe(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[fe.a.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;e||n?(this.props.onEnter(o,a),this.safeSetState({status:"entering"},(function(){t.props.onEntering(o,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:"entered"},(function(){t.props.onEntered(o,a)}))}))}))):this.safeSetState({status:"entered"},(function(){t.props.onEntered(o)}))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:fe.a.findDOMNode(this);t?(this.props.onExit(r),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:fe.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(ee.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.a.createElement(ie.Provider,{value:null},"function"===typeof n?n(e,r):i.a.cloneElement(i.a.Children.only(n),r))},t}(i.a.Component);function ye(){}ge.contextType=ie,ge.propTypes={},ge.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ye,onEntering:ye,onEntered:ye,onExit:ye,onExiting:ye,onExited:ye},ge.UNMOUNTED="unmounted",ge.EXITED="exited",ge.ENTERING="entering",ge.ENTERED="entered",ge.EXITING="exiting";var ve=ge,me=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=de(n.className,r):n.setAttribute("class",de(n.className&&n.className.baseVal||"",r)));var n,r}))},be=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.addClass(i,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}Object(re.a)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&pe(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&me(e,r),i&&me(e,i),o&&me(e,o)},n.render=function(){var e=this.props,t=(e.classNames,Object(ee.a)(e,["classNames"]));return i.a.createElement(ve,Object(te.a)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(i.a.Component);be.defaultProps={classNames:""},be.propTypes={};var _e=be,Ce=n(698);function Ie(e){var t;const n=r.useRef(null),i=r.useRef(null),s=Object(o.b)(e),[l,u]=r.useState("root"),c=_(s.expandedKeys),d=_(l),[h,p]=r.useState(0),[y,m]=r.useState(),T=Object(Ce.a)("(prefers-reduced-motion: reduce)");n.current&&(i.current=n.current),r.useEffect(()=>{i.current=n.current},[]);const P=function(e){let{collection:t,focusMode:n}=e,i=(0,I.b)(e),o=(0,r.useMemo)(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),a=i.setFocusedKey;i.setFocusedKey=(e,r)=>{if("cell"===n&&null!=e){let n=t.getItem(e);if("item"===(null===n||void 0===n?void 0:n.type)){var i,o;let a=(0,C.d)(n,t);e="last"===r?null===(i=(0,C.g)(a))||void 0===i?void 0:i.key:null===(o=(0,C.e)(a))||void 0===o?void 0:o.key}}a(e,r)};let s=(0,r.useMemo)(()=>new(0,I.a)(t,i),[t,i]);const l=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(null!=i.focusedKey&&!t.getItem(i.focusedKey)){const e=l.current.getItem(i.focusedKey),n=null==e.parentKey||"cell"!==e.type&&"rowheader"!==e.type&&"column"!==e.type?e:l.current.getItem(e.parentKey),r=l.current.rows,o=t.rows,a=r.length-o.length;let u,c=Math.min(a>1?Math.max(n.index-a+1,0):n.index,o.length-1);for(;c>=0;){if(!s.isDisabled(o[c].key)){u=o[c];break}c<o.length-1?c++:(c>n.index&&(c=n.index),c--)}if(u){const r=u.hasChildNodes?[...(0,C.d)(u,t)]:[],o=u.hasChildNodes&&n!==e&&e.index<r.length?r[e.index].key:u.key;i.setFocusedKey(o)}else i.setFocusedKey(null)}l.current=t},[t,s,i,i.focusedKey]),{collection:t,disabledKeys:o,isKeyboardNavigationDisabled:!1,selectionManager:s}}({collection:new O({columnCount:1,items:(S=[...Te(l)?s.collection:l.childNodes],Array.from(S).reduce((e,t)=>{if("item"===t.type)e.push({type:t.type,childNodes:[{...t,index:0,type:"cell",parentKey:void 0}]});else{const n=Array.from(t.childNodes).map((e,n)=>({type:0===n?"section":"item",childNodes:[{...e,index:0,type:"cell",parentKey:void 0,props:{...e.props,_renderedTitle:t.rendered}}]}));e=[...e,...n]}return e},[]))})});var S;let{gridProps:w}=F({"aria-label":e["aria-label"],focusMode:"cell"},P,i);const{isFocusVisible:x}=Object(a.d)(),E=Object(Q.c)();r.useLayoutEffect(()=>{x&&d&&(Te(d)&&Te(l)||(Te(d)||Te(l)||null==d||!d.key||l.key!==d.key)&&(Te(d)||null==d||!d.key?Te(l)||P.selectionManager.setFocusedKey(Array.from(l.childNodes)[0].key):P.selectionManager.setFocusedKey(d.key)))},[d,P.selectionManager,l,x]),r.useLayoutEffect(()=>{var e;c&&c.size!==s.expandedKeys.size&&s.expandedKeys.size<c.size&&x&&(null==(e=n.current)||e.focus())},[x,c,s.expandedKeys]);const N=r.useRef();function A(){m(!0),p(e=>e+1)}function D(){m(!1),p(e=>e+1)}r.useEffect(()=>{var t;if(N.current&&null!=(t=e.parentsWithLoadedChildNodes)&&t.has(String(N.current))){const e=s.collection.getItem(N.current);s.toggleKey(N.current),null!=e&&e.hasChildNodes&&(u(e),A()),N.current=void 0}},[s,e.parentsWithLoadedChildNodes]);const R=r.createElement("div",null,Te(l)?null:r.createElement(b,{node:l,state:s,backButtonLabel:e.backButtonLabelLocalized}),r.createElement("div",{...w,ref:n},Array.from(P.collection).map(t=>{var n;return r.createElement(J,{key:t.key,state:s,gridState:P,node:t,expandLabel:e.expandLabelLocalized,allowExpandableItemSelection:null!=(n=e.allowExpandableItemSelection)&&n})})),r.createElement("div",null,0===Array.from(P.collection).length&&e.renderEmptyState&&!Te(l)?e.renderEmptyState(String(l.key)):null));return r.createElement("slide-view",{class:v()(null!=(t=e.variant)?t:"standard",e.className,E)},r.createElement(g.a,null,r.createElement(Y,{value:{expandLabelLocalized:e.expandLabelLocalized,backButtonLabelLocalized:e.backButtonLabelLocalized,allowExpandableItemSelection:e.allowExpandableItemSelection,loadingNodeKeys:e.loadingNodeKeys}},r.createElement(f,{value:{toggle:function(t){if(s.expandedKeys.has(t)){if(!Te(l)){if(s.toggleKey(t),null!=l&&l.parentKey){const e=s.collection.getItem(l.parentKey);if("section"===(null==e?void 0:e.type)){if(!e.parentKey)return u("root"),void D();const t=s.collection.getItem(e.parentKey);t&&u(t)}else e&&u(e)}else u("root");D()}}else{var n;const r=s.collection.getItem(t);if(e.allowLoadChildrenNodesAsynchronously&&e.loadChildNodes&&(null==(n=e.parentsWithLoadedChildNodes)||!n.has(String(t))))return e.loadChildNodes(String(t)),void(N.current=t);s.toggleKey(t),null!=r&&r.hasChildNodes&&(u(r),A())}}}},T||e.disableAnimations?r.createElement(r.Fragment,null,R):r.createElement(ce,{childFactory:e=>r.cloneElement(e,{classNames:y?"slide-view-transition-to-children":"slide-view-transition-to-parent"})},r.createElement(_e,{key:h,timeout:250},R))))))}function Te(e){return"root"===e}},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var r=n(478),i=n.n(r),o=n(1469),a=n(1466),s=n(696),l=n(558),u=n.n(l),c=(n(477),n(1475),n(690)),d=(n(1856),n(689)),h=(n(688),n(693));n(481),n(692),n(695),"undefined"!==typeof window&&window.visualViewport,new WeakMap,"undefined"!==typeof window&&window.visualViewport,"undefined"!==typeof window&&window.visualViewport,new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),new WeakMap,n(1468),new WeakMap;class f{constructor(e,t){this.collator=void 0,this.collection=void 0,this.disabledKeys=void 0,this.collator=new Intl.Collator,this.collection=e,this.disabledKeys=t}getKeyAbove(e){let{collection:t,disabledKeys:n}=this,r=t.getKeyBefore(e);for(;null!==r;){let e=t.getItem(r);if("item"===(null==e?void 0:e.type)&&!n.has(e.key))return r;r=t.getKeyBefore(r)}return null}getKeyBelow(e){let{collection:t,disabledKeys:n}=this,r=t.getKeyAfter(e);for(;null!==r;){let e=t.getItem(r);if("item"===(null==e?void 0:e.type)&&!n.has(e.key))return r;r=t.getKeyAfter(r)}return null}getKeyRightOf(e){let{collection:t}=this;return t.getItem(e).hasChildNodes?e:null}getKeyLeftOf(e){let{collection:t}=this,n=t.getItem(e);return null!=n.parentKey&&"section"!==t.getItem(n.parentKey).type?n.parentKey:e}getFirstKey(){let{collection:e,disabledKeys:t}=this,n=e.getFirstKey();for(;null!==n;){let r=e.getItem(n);if("item"===(null==r?void 0:r.type)&&!t.has(r.key))return n;n=e.getKeyAfter(n)}return null}getLastKey(){let{collection:e,disabledKeys:t}=this,n=e.getLastKey();for(;null!==n;){let r=e.getItem(n);if("item"===(null==r?void 0:r.type)&&!t.has(r.key))return n;n=e.getKeyBefore(n)}return null}getKeyForSearch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getFirstKey(),{collator:n,collection:r}=this,i=t;for(;null!==i;){let t=r.getItem(i);if(null!=t&&t.textValue&&0===n.compare(e,t.textValue.slice(0,e.length)))return i;i=this.getKeyBelow(i)}return null}}const p=Object(r.createContext)({keyboardDelegate:new f(new a.a([]),{}),allowExpandableItemSelection:!1,variant:"",bordersHiddenOnHover:{},setBordersHiddenOnHover:e=>{},role:"",selectionMode:"none",selectionVariant:""}),g=(e,t)=>{const{hoverProps:n}=Object(d.g)({onHoverStart:()=>{const n=new Set;n.add(t.key),t.nextKey&&n.add(t.nextKey),e.setBordersHiddenOnHover(n)},onHoverEnd:()=>{e.setBordersHiddenOnHover(new Set)}});return n};function y(e){let{node:t,state:n}=e;const o=Object(r.useContext)(p);let{itemProps:a,headingProps:l,groupProps:u}=function(e){let{heading:t,"aria-label":n}=e,r=(0,c.q)();return{itemProps:{role:"presentation"},headingProps:t?{id:r,"aria-hidden":!0}:{},groupProps:{role:"group","aria-label":n,"aria-labelledby":t?r:void 0}}}({heading:t.rendered,"aria-label":t["aria-label"]||t.textValue});const d=Object(s.c)();return o.variant.includes("standard")&&!t.rendered?i.a.createElement("tree-section-children",null,i.a.createElement("tree-divider",{class:d}),k({nodes:t.childNodes,state:n})):i.a.createElement("tree-section",{...a},t.rendered&&i.a.createElement("tree-section-title",{...l},t.rendered),i.a.createElement("tree-section-children",{...u},k({nodes:t.childNodes,state:n})))}var v=n(1470),m=n(632),b=function(e){return Object(r.createElement)(m.a,{originalProps:e,metadata:{name:"chevron.down",svgPath:"M55.7129-8.49609C57.373-8.49609 58.8867-9.13086 60.1074-10.4492L97.3145-48.4863C98.3887-49.5605 98.9258-50.8789 98.9258-52.4902C98.9258-55.6641 96.4355-58.1543 93.3105-58.1543C91.748-58.1543 90.2832-57.5195 89.209-56.4453L55.7129-22.1191L22.2168-56.4453C21.0938-57.5195 19.6777-58.1543 18.1152-58.1543C14.9414-58.1543 12.4512-55.6641 12.4512-52.4902C12.4512-50.9277 13.0371-49.5605 14.1113-48.4863L51.3184-10.4492C52.5879-9.13086 54.0527-8.49609 55.7129-8.49609Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:79.15509521484364,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 88.1416015625 53.4677734375",width:88.1416015625,height:53.4677734375,translateX:-10.78417480468761,translateY:61.9638671875,baseline:61.9638671875,capline:-8.49609375}}})},_=n(1471),C=n(711),I=n(744),T=n(1921);const P=e=>(10*e+7).toString(),O=e=>(8*e).toString();var S=n(1472);const w=(e,t,n)=>{var r;return n.has(e.key)||void 0===e.prevKey||e.prevKey&&"section"===(null==(r=t.collection.getItem(e.prevKey))?void 0:r.type)};function x(e){let{node:t,state:n}=e;const o=Object(r.useRef)(null),a=Object(r.useContext)(p),{allowExpandableItemSelection:s,bordersHiddenOnHover:l,selectionVariant:f,role:y,variant:m,loadingNodeKeys:x,loadChildNodes:E,parentsWithLoadedChildNodes:N}=a;if("menu"===y)throw new Error("TreeView with the 'menu' role does not currently support expandable items.");if(m.includes("sidebar")&&s)throw new Error("TreeView with the 'sidebar' variant does not currently support expandable item which are selctable.");if(f.includes("simple"))throw new Error("TreeView with the `simple` selection variant does not current support expandable items.");const A=n.disabledKeys.has(t.key),{pressProps:D}=Object(d.l)({onPress:e=>{A||(s?"keyboard"!==e.pointerType&&n.selectionManager.toggleSelection(t.key):(n.toggleKey(t.key),n.selectionManager.setFocusedKey(t.key)))}}),{keyboardProps:R}=Object(d.j)({onKeyDown:e=>{const r=!A&&s;switch(e.key){case"ArrowRight":n.expandedKeys.has(t.key)||A||W(),e.continuePropagation();break;case"ArrowLeft":n.expandedKeys.has(t.key)&&!A&&n.toggleKey(t.key);break;case" ":r&&n.selectionManager.toggleSelection(t.key);break;case"Enter":r&&n.toggleKey(t.key);break;default:e.continuePropagation()}}});let U={tabIndex:t.key===n.selectionManager.focusedKey?0:-1,onFocus(e){e.target!==o.current||A||n.selectionManager.setFocusedKey(t.key)}};const j=Object(c.j)(U,D,R,g(a,t),t.props);Object(r.useEffect)(()=>{t.key===n.selectionManager.focusedKey&&n.selectionManager.isFocused&&document.activeElement!==o.current&&Object(h.b)(o.current)},[t.key,n.selectionManager.focusedKey,n.selectionManager.childFocusStrategy,n.selectionManager.isFocused]);const M=t.hasChildNodes&&n.expandedKeys.has(t.key),L=n.selectionManager.selectedKeys.has(t.key),B=Object(_.b)(),F={className:"expansion-icon",layoutMode:"glyphBox"},K=Object(r.useRef)();function W(){if(!A){if(E&&N&&(null==N||!N.has(String(t.key))))return E(String(t.key),t.level),void(K.current=t.key);n.toggleKey(t.key)}}let V;Object(r.useEffect)(()=>{null!=N&&N.has(String(t.key))&&K.current&&(n.toggleKey(t.key),n.selectionManager.setFocusedKey(t.key),K.current=void 0)},[N,n,t.key]),V=s?i.a.createElement(C.a,{className:u()("expansion-button",B),onActivate:W,disabled:Object(S.a)(t,x)},Object(S.a)(t,x)?i.a.createElement(I.a,{description:"loading children items from "+t.textValue,size:14}):M?i.a.createElement(b,{...F}):i.a.createElement(v.a,{...F})):M?i.a.createElement(b,{...F}):i.a.createElement(v.a,{...F});const z=()=>{var e;return i.a.createElement("tree-item",{...j,class:u()("expandable",M?"expanded":"collapsed",B,{"hide-border":w(t,n,l)}),ref:o,role:"menu"===y?"menuitem":"treeitem","aria-expanded":M,title:t.textValue,"aria-label":null!=(e=t["aria-label"])?e:t.textValue,"aria-selected":L},m.includes("sidebar")?i.a.createElement("tree-item-content",{"aria-hidden":"true"},i.a.createElement("span",{style:{paddingInlineStart:O(t.level)+"px"}},V,t.rendered)):i.a.createElement("tree-item-content",{"aria-hidden":"true"},!s&&V,s&&i.a.createElement(T.a,{checked:L},i.a.createElement("span",{style:{paddingInlineStart:P(t.level)+"px"}},t.rendered)),!s&&t.rendered))};return i.a.createElement("expandable-tree-item",null,s?i.a.createElement("div",{className:u()("wrapper",M?"expanded":"collapsed")},z(),V):z(),M&&i.a.createElement("expandable-tree-item-children",{role:"group"},k({nodes:t.childNodes,state:n})))}var E=n(1152),N=n(1920),A=n(1087);function D(e){var t;let{node:n,state:a}=e;const s=Object(r.useRef)(null),l=Object(r.useContext)(p),{keyboardDelegate:h,role:f,selectionVariant:y,variant:v,selectionMode:m,bordersHiddenOnHover:b}=l,I=Object(_.b)(),{keyboardProps:S}=Object(d.j)({onKeyDown:e=>{var t;switch(e.code){case"ArrowLeft":{const e=h.getKeyLeftOf(n.key);a.selectionManager.setFocusedKey(e);break}case"Space":case"Enter":null!=(t=n.value)&&t.onAction&&!D&&n.value.onAction();break;default:e.continuePropagation()}}}),x=a.selectionManager.isSelected(n.key),D=a.selectionManager.isDisabled(n.key),{itemProps:k}=Object(o.b)({key:n.key,selectionManager:a.selectionManager,ref:s}),j=Object(c.j)(n.props,k,S,g(l,n));return i.a.createElement("tree-item",{...j,ref:s,role:R(f,m),"aria-label":null!=(t=n["aria-label"])?t:n.textValue,"aria-disabled":D,class:u()(I,y,{selected:x,"hide-border":w(n,a,b),selectable:"none"!==m}),"aria-selected":U(f)?void 0:x,"aria-checked":U(f)&&"none"!==m?x:void 0},i.a.createElement("tree-item-content",{"aria-hidden":"true",class:u()({"contains-icon":Object(A.a)(n.rendered)})},function(e,t,n,r,o,a){var s;const l=Object(A.a)(o.rendered);var c;if(null!=(s=o.value)&&s.onAction)return i.a.createElement(C.a,{variant:"push primary tree-view-action-button",disabled:a,onActivate:null==(c=o.value)?void 0:c.onAction},o.rendered);switch(e){case"single":if(n.includes("simple")&&r.includes("standard"))return i.a.createElement("div",{className:u()("wrapper",{"contains-icon":l})},t&&i.a.createElement(E.default,{layoutMode:"glyphBox",className:"ui-menu-icon-check"}),o.rendered);if(r.includes("standard")||r.includes("accordion"))return i.a.createElement(T.a,{checked:t,disabled:a},r.includes("accordion")&&i.a.createElement("span",{style:{paddingInlineStart:P(o.level)+"px"}},o.rendered),r.includes("standard")&&o.rendered);if(r.includes("sidebar"))return i.a.createElement("span",{style:{paddingInlineStart:O(o.level)+"px"}},o.rendered);break;case"multiple":if(n.includes("simple")&&r.includes("standard"))return i.a.createElement("div",{className:u()("wrapper",{"contains-icon":l})},t&&i.a.createElement(E.default,{layoutMode:"glyphBox",className:"ui-menu-icon-check"}),o.rendered);if(r.includes("standard"))return i.a.createElement(N.a,{checked:t,onStateChange:()=>{},disabled:a},o.rendered)}return o.rendered}(m,x,y,v,n,D)))}function R(e,t){return U(e)?"single"===t?"menuitemradio":"multiple"===t?"menuitemcheckbox":"menuitem":"treeitem"}function U(e){return"menu"===e}function k(e){let{nodes:t,state:n}=e;return Array.from(t).map(e=>{return e.hasChildNodes?"section"===e.type?i.a.createElement(y,{node:e,state:n,key:e.key}):i.a.createElement(x,{node:e,state:n,key:e.key}):(null!=(t=e.value)&&t.value&&(e.value={...e.value,...e.value.value}),i.a.createElement(D,{node:e,key:e.key,state:n}));var t})}var j=n(729);function M(e,t){var n,l;const c=Object(r.useRef)(null),d=Object(a.b)(e),[h,g]=Object(r.useState)(new Set),y=Object(r.useMemo)(()=>new f(d.collection,d.disabledKeys),[d.collection,d.disabledKeys]),{collectionProps:v}=Object(o.a)({...e,keyboardDelegate:y,ref:c,selectionManager:d.selectionManager}),m={keyboardDelegate:y,allowExpandableItemSelection:null!=(n=e.allowExpandableItemSelection)&&n,variant:null!=(l=e.variant)?l:"",bordersHiddenOnHover:h,setBordersHiddenOnHover:g,role:e.role||"tree",selectionMode:e.selectionMode||"none",loadingNodeKeys:e.loadingNodeKeys,parentsWithLoadedChildNodes:e.parentsWithLoadedChildNodes,loadChildNodes:e.loadChildNodes,selectionVariant:e.selectionVariant||""};Object(r.useEffect)(()=>{e.focusedKey&&d.selectionManager.setFocusedKey(e.focusedKey)},[e.focusedKey,d.selectionManager]);const b=Object(s.c)(),C=Object(r.useMemo)(()=>void 0!==Array.from(d.collection).find(e=>e.hasChildNodes),[d.collection]);return i.a.createElement(p.Provider,{value:m},i.a.createElement(_.a,null,i.a.createElement("tree-view",{...v,ref:Object(j.a)(t,c),role:e.role||"tree",class:u()(e.variant,e.className,b,{"no-hierarchy":!C})},k({nodes:d.collection,state:d}))))}const L=Object(r.forwardRef)(M)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(478);function i(e,t){return e?new Set(Array.from(e).filter(e=>e!==t)):new Set}function o(e){let{initialData:t,load:n,initialLoadedNodes:o}=e;const a=function(e){let{initialItems:t=[],initialSelectedKeys:n,getKey:i=(e=>e.id||e.key),getChildren:o=(e=>e.children)}=e,a=(0,r.useMemo)(()=>new Map,[]),s=(0,r.useMemo)(()=>h(t),[]),[l,u]=(0,r.useState)(s),[c,d]=(0,r.useState)(new Set(n||[]));function h(e=[],t){return e.map(e=>{let n={key:i(e),parentKey:t,value:e,children:null};return n.children=h(o(e),n.key),a.set(n.key,n),n})}function f(e,t,n){let r=a.get(t);if(!r)return e;let i=n(r);for(null==i?function e(t){a.delete(t.key);for(let n of t.children)e(n)}(r):function e(t){a.set(t.key,t);for(let n of t.children)e(n)}(i);r.parentKey;){let e=a.get(r.parentKey),t={key:e.key,parentKey:e.parentKey,value:e.value,children:null},n=e.children;null==i&&(n=n.filter(e=>e!==r)),t.children=n.map(e=>e===r?i:e),a.set(t.key,t),i=t,r=e}return null==i&&(e=e.filter(e=>e!==r)),e.map(e=>e===r?i:e)}return{items:l,selectedKeys:c,setSelectedKeys:d,getItem:e=>a.get(e),insert(e,t,...n){u(r=>{let i=h(n,e);return null==e?[...r.slice(0,t),...i,...r.slice(t)]:f(r,e,e=>({key:e.key,parentKey:e.parentKey,value:e.value,children:[...e.children.slice(0,t),...i,...e.children.slice(t)]}))})},insertBefore(e,...t){let n=a.get(e);if(!n)return;let r=a.get(n.parentKey),i=(r?r.children:l).indexOf(n);this.insert(null===r||void 0===r?void 0:r.key,i,...t)},insertAfter(e,...t){let n=a.get(e);if(!n)return;let r=a.get(n.parentKey),i=(r?r.children:l).indexOf(n);this.insert(null===r||void 0===r?void 0:r.key,i+1,...t)},prepend(e,...t){this.insert(e,0,...t)},append(e,...t){if(null==e)this.insert(null,l.length,...t);else{let n=a.get(e);if(!n)return;this.insert(e,n.children.length,...t)}},remove(...e){let t=l;for(let r of e)t=f(t,r,()=>null);u(t);let n=new Set(c);for(let r of c)a.has(r)||n.delete(r);d(n)},removeSelectedItems(){this.remove(...c)},move(e,t,n){u(r=>{let i=a.get(e);if(!i)return r;r=f(r,e,()=>null);const o={...i,parentKey:t};return f(r,t,e=>({key:e.key,parentKey:e.parentKey,value:e.value,children:[...e.children.slice(0,n),o,...e.children.slice(n)]}))})},update(e,t){u(n=>f(n,e,e=>{let n={key:e.key,parentKey:e.parentKey,value:t,children:null};return n.children=h(o(t),n.key),n}))}}}({initialItems:t,getKey:e=>e.id,getChildren:e=>{var t;return null!=(t=e.children)?t:[]}}),[s,l]=Object(r.useState)(),[u,c]=Object(r.useState)(),[d,h]=Object(r.useState)(null!=o?o:new Set),f=Object(r.useCallback)(async(e,t)=>{const r=a.getItem(e);if(r.value.childrenLoaded)return Promise.resolve();try{c(t=>function(e,t){return e?new Set([...Array.from(e),t]):new Set([t])}(t,e));const o=await n(e,t);c(t=>i(t,e)),a.update(e,{...r.value,childrenLoaded:!0}),a.insert(e,0,...o),h(t=>new Set([...Array.from(t),e]))}catch(o){c(t=>i(t,e)),o instanceof Error&&l(o)}},[n,a]);return{items:a.items,getTreeItem:a.getItem,tree:a,loadChildNodes:f,error:s,loadingNodeKeys:u,parentsWithLoadedChildNodes:d}}}])]);
//# sourceMappingURL=3.main.js.map